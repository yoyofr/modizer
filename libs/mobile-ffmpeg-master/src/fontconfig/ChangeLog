commit a919700fbde28c29ccdb1d2a8bceba80ade19e73
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 10 20:37:03 2019 +0900

    Bump version to 2.13.91

 README                  | 106
 +++++++++++++++++++++++++++++++++++++++++++++++-
 configure.ac            |   2 +-
 fontconfig/fontconfig.h |   2 +-
 3 files changed, 106 insertions(+), 4 deletions(-)

commit 66b0af41b81c5f0db1a8f952beaaada95e221d14
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 10 10:57:05 2019 +0000

    Fix endianness on generating MD5 cache name

 src/fccache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f729bc63d83c8e9068ff1c031a363b624dea1bb7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jun 6 10:50:31 2019 +0000

    Fix a typo in the description of FcWeightFromOpenTypeDouble

 doc/fcweight.fncs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f40b203b3e28f253bfe4976ab571278cd19437d7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 3 07:08:44 2019 +0000

    Correct the comment for FC_LANG in fontconfig.h

 fontconfig/fontconfig.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c336b8471877371f0190ba06f7547c54e2b890ba
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu May 9 07:10:11 2019 +0000

    fc-validate: returns an error code when missing some glyphs

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/154

 fc-validate/fc-validate.c | 1 +
 1 file changed, 1 insertion(+)

commit a305e988b77b61398cd7806ec7b6f8de098f54c8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed May 8 05:18:43 2019 +0000

    Update CaseFolding.txt to Unicode 12.1

 fc-case/CaseFolding.txt | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit fd2e155665ea2c69cd8014962061349a0cc794e6
Author: Jon Turney <jon.turney@dronecode.org.uk>
Date:   Mon Apr 15 20:01:22 2019 +0100

    Only use test wrapper-script if host is MinGW

    Currently it fails if the executable extension is .exe, but wine isn't
    available (e.g. on Cygwin)

    Possibly the check to use this wrapper should be even more restrictive
    e.g. checking if cross-building and/or if wine is available.

 test/Makefile.am | 3 +++
 test/run-test.sh | 1 -
 2 files changed, 3 insertions(+), 1 deletion(-)

commit d28681af2ace90e80bed440d126e98f76cd086f3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Apr 15 09:03:57 2019 +0000

    Distribute archive in xz instead of bz2

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/151

 .gitlab-ci.yml | 2 +-
 configure.ac   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit faa11fb642d046e9aecde6d1385b8e6c14ec6055
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 4 12:14:20 2019 +0000

    Update the test case that is looking for uuid based on host

 test/run-test.sh | 56
 ++++++++++++++++++++++++++++++++------------------------
 1 file changed, 32 insertions(+), 24 deletions(-)

commit 76e899700bdc0443807f7e0170d3c1aa6da1b84b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 4 11:57:13 2019 +0000

    No need to remap for uuid based

 src/fccache.c | 36 +++++++++++++++++-------------------
 1 file changed, 17 insertions(+), 19 deletions(-)

commit 7f61838435ed3e3f8c19c593e9e646d221128df8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 4 10:59:47 2019 +0000

    Fallback uuid-based name to read a cache if no MD5-based cache
    available

 src/fccache.c    | 91
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 test/run-test.sh | 25 +++++++++++++++-
 2 files changed, 113 insertions(+), 3 deletions(-)

commit 13d2a47d79a4ec4d3bc48aeb89dd9c899468152e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 4 06:47:34 2019 +0000

    Fix unexpected cache name by double-slash in path

 src/fccfg.c      | 16 +++++++++-------
 test/run-test.sh | 32 ++++++++++++++++++++++++++++++++
 2 files changed, 41 insertions(+), 7 deletions(-)

commit faec0b51db6ef935929a95b289524abac062be8c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 4 05:04:17 2019 +0000

    Don't show salt in debugging message if salt is null

 src/fccfg.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 91114d18c3435e4bffe1812eb03ffe5efa8543d7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 3 04:48:42 2019 +0000

    Allow overriding salt with new one coming later

 src/fcint.h |  3 +++
 src/fcstr.c | 58
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 61 insertions(+)

commit 791762d8b7108f692b8643a208825f5ba3aa7a72
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 2 11:03:16 2019 +0000

    fc-cache: Show font directories to generate cache with -v

 fc-cache/fc-cache.c | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit d1acc73f23205e63be791c9f21eba917d292c541
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 2 10:25:46 2019 +0000

    Oops, Terminate string

 src/fccache.c | 1 +
 1 file changed, 1 insertion(+)

commit fc9f706ecb71b2625487138e6f7424d8c2cee761
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 2 10:00:17 2019 +0000

    Add some debugging output

 src/fccache.c | 18 ++++++++++++++----
 src/fccfg.c   | 15 +++++++++++++++
 2 files changed, 29 insertions(+), 4 deletions(-)

commit cb1df8cb28d6ae34726cf7c3fd0142847431c7bb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 2 09:37:49 2019 +0000

    Don't warn if path can't be converted with prefix

 src/fcxml.c | 18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit 34791c32f19a3abc6a3dd2000d28202b80a882f9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Mar 26 05:07:34 2019 +0000

    Don't share fonts and cache dir for testing

    There seems a race condition on CI. so create an unique directory
    to avoid colision.

 test/run-test.sh | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 0950f248e031865e0abe8dad4c974ea426e159b2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 25 20:00:15 2019 +0900

    Add more data to artifacts for debugging purpose

 .gitlab-ci.yml | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ad3f335ccfeceb8595ae9e30bde901a732b9dd51
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 25 10:58:15 2019 +0000

    Fix make check fail on MinGW again

 src/fcxml.c | 24 +++++++++++++++++-------
 1 file changed, 17 insertions(+), 7 deletions(-)

commit 8e2c85fe81020b3703e37a127ccc85625350a12d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 25 17:39:16 2019 +0900

    Use alternative function for realpath on Win32

 src/fccfg.c | 9 +++++++++
 1 file changed, 9 insertions(+)

commit b1bcc0cbb258d3b697147c80c410e8df6843f376
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 25 16:17:33 2019 +0900

    Fix build issues on MinGW

 src/fcxml.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9177cf2c3814f1f23fe207d4be3876111d272d60
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 25 15:52:02 2019 +0900

    Add back if !OS_WIN32 line

 test/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit a39f30738d6688888a6e19d08ddaaf8928d563e1
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Feb 1 06:41:51 2019 +0000

    trivial testcase update

 test/run-test-conf.sh | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 4ff52ffb52dc9eb9b12aee21c4b897206c28d457
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Feb 1 06:41:38 2019 +0000

    Update doc for salt

 doc/fontconfig-user.sgml | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 2e8ce63514b06590d36d9bf5c332ff83fb72791a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 31 10:17:47 2019 +0000

    Add salt attribute to dir and remap-dir elements

    'salt' attribute affects a cache filename to generate different name
    from directory name.
    This is useful when sharing caches with host on sandbox and/or give
    a filename differently:

        <dir salt="randomdata">/usr/share/fonts</dir>
        <remap-dir as-path="/usr/share/fonts" salt="salt for
        /usr/share/fonts on host">/run/host/fonts</remap-dir>

    Applications can read caches as-is for fonts on /run/host/fonts
    where is mounted from host.
    and write a cache for their own fonts on /usr/share/fonts with
    different name.

 src/fccache.c    | 15 ++++++++++++++-
 src/fccfg.c      | 29 +++++++++++++++++++++++++----
 src/fcint.h      | 18 +++++++++++++-----
 src/fcstr.c      | 32 ++++++++++++++++++++++++--------
 src/fcxml.c      | 10 ++++++----
 test/run-test.sh | 47 +++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 129 insertions(+), 22 deletions(-)

commit def1d00036a4e828382027292a167203c6c7a0b4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 31 07:52:09 2019 +0000

    Add reset-dirs element

    This element removes all of fonts directories where added by
    dir elements. it is useful to override fonts dirs from system
    to their own dirs only.

 conf.d/05-reset-dirs-sample.conf |  9 +++++++++
 conf.d/Makefile.am               |  1 +
 doc/fontconfig-user.sgml         |  4 ++++
 fonts.dtd                        |  6 ++++++
 src/fccfg.c                      |  6 ++++++
 src/fcint.h                      |  6 ++++++
 src/fcstr.c                      | 16 ++++++++++++++++
 src/fcxml.c                      | 15 +++++++++++++++
 8 files changed, 63 insertions(+)

commit 5e46f1545100f12ee1daaa41bccc6c3914bd2d83
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 31 07:10:41 2019 +0000

    Fix a typo

 fonts.dtd | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit acc017e67210ee6d8fed7ffd41a1f55fe04d056b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 29 07:55:22 2019 +0000

    Drop unnecessary line to include uuid.h

 src/fchash.c | 3 ---
 1 file changed, 3 deletions(-)

commit 635921e64d074ce5c7b8ca4a6f535241a2b8c75f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 29 07:49:22 2019 +0000

    Update deps to run CI

 .gitlab-ci.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 916cf6caa3d754f4d267eb1fc3cede9c86aa4e15
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 29 07:03:58 2019 +0000

    Update testcase

 test/Makefile.am     |  2 +-
 test/fonts.conf.in   |  3 ++-
 test/run-test.sh     | 10 ++++++++--
 test/test-d1f48f11.c |  2 ++
 test/test-issue110.c |  2 ++
 5 files changed, 15 insertions(+), 4 deletions(-)

commit 2e09c62ba1ff3477b4c64d4721337b62024832c8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 29 07:02:37 2019 +0000

    Trim the last slash

    This fixes MD5 wrongly generated.

 src/fccfg.c | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit a563a1802ef930374f88e6c7198e1b5ffe7582dd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jan 28 09:59:29 2019 +0000

    Add new element remap-dir instead of extending dir element

 doc/fontconfig-user.sgml |  15 +--
 fonts.dtd                |  11 +-
 src/fcxml.c              | 279
 ++++++++++++++++++++++++++++-------------------
 3 files changed, 184 insertions(+), 121 deletions(-)

commit 9d3fb5b38563300e0e31bf7f99f723309ec6316a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jan 28 09:40:21 2019 +0000

    Fix make check fail on run-test-conf.sh

 test/test-conf.c | 1 +
 1 file changed, 1 insertion(+)

commit 500e77a01d00471900755d96ba6ad236d916947a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jan 28 04:47:16 2019 +0000

    Drop a line to include uuid.h

 src/fccache.c | 2 --
 1 file changed, 2 deletions(-)

commit 04f75fce0bd060b780af6d05314852be6df27216
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jan 28 04:44:31 2019 +0000

    Add FcDirCacheCreateUUID doc back to pass make check

 doc/fccache.fncs | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit c4324f54ee16e648ba91f3e9c66af13ab3b1754c
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 29 16:39:05 2018 -0700

    Replace UUID file mechanism with per-directory 'map' attribute [v2]

    The UUID files would be placed in each font directory to provide the
    unique cache name, independent of path, for that directory. The UUID
    files are undesireable for a couple of reasons:

     1) They must be placed in the font directories to be useful. This
        requires modifying the font directories themselves, introducing
        potential visible timestamp changes when running multiple
        applications, and makes the cache processing inconsistent between
        applications with permission to write to the font directories and
        applications without such permission.

     2) The UUID contents were generated randomly, which makes the font
        cache not reproducible across multiple runs.

    One proposed fix for 2) is to make the UUID dependent on the font
    directory path, but once we do that, we can simply use the font
    directory path itself as the key as the original MD5-based font cache
    naming mechanism did.

    The goal of the UUID file mechanism was to fix startup time of
    flatpaks; as the font path names inside the flatpak did not match the
    font path names in the base system, the font cache would need to be
    reconstructed the first time the flatpak was launched.

    The new mechanism for doing this is to allow each '<dir>' element in
    the configuration include a 'map' attribute. When looking for a cache
    file for a particular directory, if the directory name starts with the
    contents of the <dir> element, that portion of the name will be
    replaced with the value of the 'map' attribute.

    Outside of the flatpak, nothing need change -- fontconfig will build
    cache files using real directory names.

    Inside the flatpak, the custom fonts.conf file will now include
    mappings such as this:

            <dir map="/usr/share/fonts">/run/host/fonts</dir>

    When scanning the directory /run/host/fonts/ttf, fontconfig will
    use the name /usr/share/fonts/ttf as the source for building the cache
    file name.

    The existing FC_FILE replacement code used for the UUID-based
    implementation continues to correctly adapt font path names seen by
    applications.

    v2:
            Leave FcDirCacheCreateUUID stub around to avoid removing
            public API function.

            Document 'map' attribute of <dir> element in
            fontconfig-user.sgml

            Suggested-by: Akira TAGOH <akira@tagoh.org>

    Signed-off-by: Keith Packard <keithp@keithp.com>

 configure.ac             |  33 --------
 doc/fccache.fncs         |  14 ----
 doc/fontconfig-user.sgml |   8 +-
 fc-cache/fc-cache.c      |   1 -
 fonts.dtd                |   1 +
 src/Makefile.am          |   3 +-
 src/fccache.c            | 210
 ++++-------------------------------------------
 src/fccfg.c              |  80 +++++++++++-------
 src/fcdir.c              |   1 -
 src/fchash.c             |  17 ----
 src/fcint.h              |  18 +++-
 src/fcstr.c              |  76 +++++++++++++++++
 src/fcxml.c              |   5 +-
 test/Makefile.am         |   2 +-
 test/fonts.conf.in       |   2 +-
 test/run-test-map.sh     | 107 ++++++++++++++++++++++++
 test/run-test.sh         |   2 +
 17 files changed, 280 insertions(+), 300 deletions(-)

commit 4cde12bfda1316e6d5464a2d9607d15322ef8024
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 29 16:25:13 2018 -0700

    Remove UUID-related tests

    Remove test-hash
    Remove UUID tests from run-test.sh

    Signed-off-by: Keith Packard <keithp@keithp.com>

 test/Makefile.am |   6 --
 test/run-test.sh |  80 ++----------------------
 test/test-hash.c | 186
 -------------------------------------------------------
 3 files changed, 5 insertions(+), 267 deletions(-)

commit a8c4fc5e1f2c4215544aff004d42f235d7e9d14f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 29 16:36:11 2018 -0700

    Add delays to test-bz106632, check UptoDate separately

    On a file system with one-second time stamps, extra delays are needed
    between cache modification operations to ensure that fontconfig isn't
    fooled.

    And, when the timestamps are checked correctly, we need to make sure
    that FcConfigUptoDate returns false whenever we change a font
    directory, so separate that out from the call to reinitialize the core
    config.

    Signed-off-by: Keith Packard <keithp@keithp.com>

 test/test-bz106632.c | 24 ++++++++++++++++++------
 1 file changed, 18 insertions(+), 6 deletions(-)

commit 2a81aa51f08085c81666f40f34068f2c6512e974
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 29 16:26:11 2018 -0700

    Remove '-u' option from run-test-conf.sh

    This causes a failure when evaluating $OSTYPE on systems which do not
    set that variable (everything but Msys/MinGW)

    Signed-off-by: Keith Packard <keithp@keithp.com>

 test/run-test-conf.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 67e9c12c5a85e4ee95eb8576d094988d1c765c44
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 29 17:00:28 2018 -0700

    Fetch FONTCONFIG_SYSROOT in FcConfigCreate

    This saves the value of FONTCONFIG_SYSROOT in the config instead of
    having to call getenv every time we need this value.

    This also uses 'realpath' to construct a canonical path to sysroot,
    eliminating symlinks and relative path names.

    Signed-off-by: Keith Packard <keithp@keithp.com>

 src/fccfg.c | 24 +++++++++++++++++-------
 1 file changed, 17 insertions(+), 7 deletions(-)

commit 97fa77d27facc6a31486fdca5b3b853c591f792c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 3 11:49:42 2019 +0000

    Reset errno to do error handling properly

    This fixes the weird behavior when running with SOURCE_DATE_EPOCH=0:

    Fontconfig: SOURCE_DATE_EPOCH: strtoull: No such file or directory: 0

 src/fccache.c | 1 +
 1 file changed, 1 insertion(+)

commit 809f040bc367763ceaec69568a867bbef2fee926
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Mar 23 07:19:08 2019 +0000

    Don't test bind-mount thing for MinGW

 test/run-test.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4cb490b0b9247b95e78470aa35657bc1ba0f457c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Mar 23 07:05:23 2019 +0000

    Install wine for CI on MinGW

 .gitlab-ci.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 73b300dc7c31dfbb6ec3638fde109033bb9785a4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Mar 23 06:57:19 2019 +0000

    Correct configure option to cross-compile

 .gitlab-ci.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 33b372e20f6f9fd7d41fbb6dded1c703bae22403
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Mar 23 06:49:32 2019 +0000

    Update requirement for gettext

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 92caab9c769488cce3a720b85e38252f3dadd63c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Mar 23 06:27:39 2019 +0000

    Fix make distcheck error

 test/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 10e13fc748aa75a7ba7d67b1cf3baec47bd9cbc8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 22 07:58:04 2019 +0000

    Add build test for MinGW

 .gitlab-ci.yml | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit f6810ede6010da394f60e8425030901e235d2a77
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 22 07:45:09 2019 +0000

    Fix make check on cross-compiled env

 test/Makefile.am       |  5 +++++
 test/run-test.sh       | 10 ++++++++--
 test/test-d1f48f11.c   | 18 ++++++++++++++++++
 test/test-issue107.c   | 18 ++++++++++++++++++
 test/test-issue110.c   | 18 ++++++++++++++++++
 test/wrapper-script.sh | 13 +++++++++++++
 6 files changed, 80 insertions(+), 2 deletions(-)

commit 98099ffc9f1c3fd195075d5d48617ccb73940470
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 22 07:41:32 2019 +0000

    Ifdef'ed unnecessary code for Win32

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/147

 src/fccache.c | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 8a9435958ac709ca81ef0e517b9242958afcd6b2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 22 07:40:24 2019 +0000

    autogen.sh: Make AUTORECONF_FLAGS overwritable

 autogen.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9b0c093a6a925b71a099f8f4b489d83572c77afe
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Mar 19 17:57:09 2019 +0900

    Fix build issue on Win32.

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/148

 test/test-bz106632.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 3eca37c1e515c2967d8a637efa2a7a322842376f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 15 18:51:47 2019 +0900

    Fix misleading summary in docs for FcStrStrIgnoreCase

    Reported by Jonathan Kew

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/146

 doc/fcstring.fncs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dba84600e1485000f358d8259b92721cf7066034
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Sep 25 19:20:35 2018 +0900

    Add system-ui generic family

    The generic family of 'system-ui' name is being proposed in a draft
    of next CSS Fonts.
    This would be nice to support in fontconfig too.

    https://www.w3.org/TR/css-fonts-4/

 conf.d/40-nonlatin.conf | 100
 ++++++++++++++++++++++++++++++++++++++++++++++++
 conf.d/45-latin.conf    |  23 +++++++++++
 conf.d/60-latin.conf    |  13 +++++++
 conf.d/65-nonlatin.conf |  33 ++++++++++++++++
 fonts.conf.in           |  11 ++++++
 5 files changed, 180 insertions(+)

commit 40e27f5d989ef4e40d218624de0a51de3de43177
Author: Ben Wagner <bungeman@chromium.org>
Date:   Tue Feb 19 00:40:32 2019 +0000

    Better document sysroot.

    All non trivial users of FontConfig must use FcConfigGetSysRoot to
    resolve file properties in patterns. In order to support sysroot the
    filename in the file property must be relative to the sysroot, but the
    value of the file property in a pattern is directly exposed, making it
    impossible for FontConfig to resolve the filename itself
    transparently.

 doc/fcconfig.fncs         | 15 ++++++++++-----
 doc/fontconfig-devel.sgml |  1 +
 2 files changed, 11 insertions(+), 5 deletions(-)

commit 586e35450e9ca7c1dc647ceb9d75ac8ed08c5c16
Author: Robert Yang <liezhi.yang@windriver.com>
Date:   Fri Jan 25 10:15:36 2019 +0800

    src/fccache.c: Fix define for HAVE_POSIX_FADVISE

    Otherwise, there would be build errors in the following 2 cases:
    * define HAVE_POSIX_FADVISE
    Or:
    * undef HAVE_POSIX_FADVISE

    Signed-off-by: Robert Yang <liezhi.yang@windriver.com>

 src/fccache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 699d6e4d8415a5d94483ea81fdf277964a33b8f1
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jan 23 05:59:24 2019 +0000

    Fix a crash with invalid matrix element

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/140

 src/fcxml.c | 5 +++++
 1 file changed, 5 insertions(+)

commit b047e299546ac3abb79cf0bac3c67f5c2dfc7fb6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Nov 30 10:42:26 2018 +0000

    Fix a dereference of a null pointer

    When exiting from for loop by not satisfying the condition of `(s =
    next[i])` at FcCacheRemoveUnlocked()
    referring s->alloated will be invalid.

 src/fccache.c | 17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 3a45b8ef6511aee22b48c2a54f59faf6172a5071
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Nov 30 07:27:39 2018 +0000

    covscan: fix compiler warnings

 test/test-bz106632.c | 26 +++++++++++++-------------
 test/test-hash.c     |  5 ++---
 2 files changed, 15 insertions(+), 16 deletions(-)

commit c44fda28e1dc0251f4451d1643f77e1455b80462
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Nov 30 07:12:21 2018 +0000

    Don't call unlink_dirs if basedir is null

 test/test-bz106632.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a57647e1556a67037176ff267a4ba4a2a4dfb59d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 12 05:01:50 2018 +0000

    covscan fix: get rid of unnecessary condition check

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 65c7427c019c1cb7c621e6be87fb298564d45f51
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Nov 30 07:03:54 2018 +0000

    Warn when constant name is used for unexpected object

    This fixes the sort of weird things like `fc-match :size=rgb` done
    without any errors.
    This might be annoyed but the error messages should helps to fix an
    application bug or
    suggest more useful constant names to fontconfig.

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/137

 src/fcint.h  |  3 +++
 src/fcname.c | 30 ++++++++++++++++++++++++------
 2 files changed, 27 insertions(+), 6 deletions(-)

commit 71c9c7892ab7ddf8964737e80d0465e3e96ac36b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 27 08:50:18 2018 +0000

    Add a test case for FcFontList

 test/Makefile.am          |   1 +
 test/run-test-conf.sh     |   1 +
 test/test-60-generic.json |  34 +++++++++
 test/test-conf.c          | 190
 +++++++++++++++++++++++++++++++++++++++++-----
 4 files changed, 209 insertions(+), 17 deletions(-)

commit 9d5149ac41e18ab67404ddba41d7ef7e71839ebc
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 27 08:50:18 2018 +0000

    Fix FcFontList doesn't return a font with FC_COLOR=true

    "color" property has a value more than 1 because the value of
    FT_HAS_COLOR
    is directly set to it. this seems breaking the behavior of FcFontList
    with FC_COLOR=true
    because it is more than FcDontCare.

    So changing comparison that way.

 src/fccfg.c | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 3c75a5a9358ae570230c324917a636947748eb1f
Author: Chris McDonald <cjmcdonald@chromium.org>
Date:   Mon Nov 26 11:46:21 2018 -0700

    Lowered temporary rooted_dir variable inside loop

 fc-cache/fc-cache.c | 31 ++++++++++++-------------------
 1 file changed, 12 insertions(+), 19 deletions(-)

commit d36f977c761ffbb75d5c76278bc14d1c0e74cc7a
Author: Chris McDonald <cjmcdonald@chromium.org>
Date:   Mon Nov 19 15:19:19 2018 -0700

    Respect sysroot option for file path passed to stat

 fc-cache/fc-cache.c | 22 +++++++++++++++++++++-
 1 file changed, 21 insertions(+), 1 deletion(-)

commit 2bd559f75d76b514f789e32c5cc9643fd7c1e9a2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Nov 15 20:55:08 2018 +0900

    Add doc for description element and update fonts.dtd

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/133

 doc/fontconfig-user.sgml |  5 +++++
 fonts.dtd                | 21 ++++++++++++++++-----
 2 files changed, 21 insertions(+), 5 deletions(-)

commit 13b4ba91353a4ead4623d0133f6eb0283e91b15a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 13 06:34:11 2018 +0000

    Use Rachana instead of Meera for Malayalam

    Meera is a sans-serif font for Malayalam. that should be substituted
    for serif.

 conf.d/65-nonlatin.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 648e0cf3d5a53efeab93b24ae37490427d05229d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 6 16:33:03 2018 +0900

    Use FC_PATH_MAX instead of PATH_MAX

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/131

 src/fccfg.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6dde9b5be3751843ad81fd9c735fdf17362eb7a6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 6 15:39:50 2018 +0900

    Enable bubblewrap test case

 .gitlab-ci.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9bb90101378961eea7ce7057b03acd582c8944cb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Oct 29 12:25:03 2018 +0000

    Drop Mitra Mono from 65-nonlatin.conf

    This font seems totally broken.

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/128

 conf.d/65-nonlatin.conf | 1 -
 1 file changed, 1 deletion(-)

commit f7036d589bffe353c1982b881afae6ec0a2ef200
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Oct 24 14:30:24 2018 -0700

    Fix name-table language code mapping for Mongolian

 src/fcfreetype.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e9113a764a1001165711022aceb45aa2765feb8b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 25 07:16:32 2018 +0000

    Do not run a test case for .uuid deletion

 test/run-test.sh | 28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit 5f12f564f8748deaa603adb7a4b8f616b6390ad4
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 17 21:15:47 2018 -0700

    Do not remove UUID file when a scanned directory is empty

    Because FcDirCacheDeleteUUID does not reset the modification time on
    the directory, and because FcDirCacheRead unconditionally creates the
    UUID file each time it is run, any empty directory in the cache will
    get its timestamp changed each time the cache for that directory is
    read.

    Instead, just leave the UUID file around as it is harmless.

    The alternative would be to only create the UUID file after the cache
    has been created and the directory has been discovered to be
    non-empty, but that would delay the creation of the UUID file.

    Signed-off-by: Keith Packard <keithp@keithp.com>

 src/fcdir.c | 7 -------
 1 file changed, 7 deletions(-)

commit 5f5ec5676c61b9773026a9335c9b0dfa73a73353
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Oct 1 07:01:26 2018 +0000

    Do not try updating mtime when unlink was failed

 src/fccache.c | 23 +++++++++++++----------
 1 file changed, 13 insertions(+), 10 deletions(-)

commit ff5b49be2be0922f0fb6b9daf08f64a88d2fae6b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Sep 28 09:08:52 2018 +0000

    Do not update mtime when removing .uuid file

    This avoids a situation triggers updating caches on a directory
    where .uuid file was removed.

    Resolves:
    https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/107

 src/fccache.c        |  32 +++++--
 test/Makefile.am     |   6 ++
 test/test-issue107.c | 248
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 281 insertions(+), 5 deletions(-)

commit 8badaae15b1225bbf200c46533b1761002c760de
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 4 08:30:33 2018 +0000

    CI: Add more logs

 .gitlab-ci.yml | 2 ++
 1 file changed, 2 insertions(+)

commit 5771c48863299c10a253cd4d885f41cae17377fb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 4 08:20:45 2018 +0000

    Fix test case

 test/test-bz106632.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e4788c5a96e0f384ad5702ad8096b0e144613895
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 4 08:03:20 2018 +0000

    add missing the case of prefix="default" as documented

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 942db25fbcee66cb8dded5cb06407cf556dc4eff
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 4 08:02:48 2018 +0000

    Update docs for 1aa8b700

 doc/fontconfig-user.sgml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 67b4090321c0ec3cf3dc96f6d3cd7b9d03af0f25
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 4 08:02:18 2018 +0000

    Update fonts.dtd for last commit

 fonts.dtd | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 1aa8b700c3f09a31c78e7834e0db373f80b5e226
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Oct 2 09:32:03 2018 +0000

    Add more prefix support in <dir> element

    Added two prefix modes:
      "relative" that makes the relative path be relative to current file
      "cwd" for relative to current working directory which implies
      current behavior.

    Resolves:
    https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/15

 src/fcxml.c | 41 +++++++++++++++++++++++++++++++++--------
 1 file changed, 33 insertions(+), 8 deletions(-)

commit f0aae4455ed43ac323821f8c8aa2fa9ffe274977
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Sep 28 09:17:37 2018 +0000

    Fix CI

 .gitlab-ci.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba206df9b9a7ca300265f650842c1459ff7c634a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Sep 5 12:08:52 2018 +0000

    Add a test case for d1f48f11

 test/Makefile.am     |  14 +++
 test/test-d1f48f11.c | 283
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 297 insertions(+)

commit 806fd4c2c5164d66d978b0a4c579c157e5cbe766
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Sep 4 09:08:37 2018 +0000

    Fix the issue that '~' wasn't extracted to the proper homedir

    '~' in the filename was extracted to the home directory name in
    FcConfigFilename() though,
    this behavior was broken by d1f48f11. this change fixes it back to
    the correct behavior.

    https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/110

 .gitlab-ci.yml       |  23 ++++-
 src/fccfg.c          |  20 +++--
 test/Makefile.am     |  16 ++++
 test/test-issue110.c | 245
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 293 insertions(+), 11 deletions(-)

commit 8208f99fa1676c42bfd8d74de3e9dac5366c150c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Sep 3 04:56:16 2018 +0000

    Fix the build issue with --enable-static

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/109

 doc/fcstring.fncs       | 12 ++++++++++++
 fontconfig/fontconfig.h |  4 ++++
 src/fcint.h             |  4 ----
 test/test-bz106632.c    | 35 ++++++++++++-----------------------
 4 files changed, 28 insertions(+), 27 deletions(-)

commit 844d8709a1f3ecab45015b24b72dd775c13b2421
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Aug 30 17:20:15 2018 +0900

    Bump version to 2.13.1

 README                  | 82
 +++++++++++++++++++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 82 insertions(+), 4 deletions(-)

commit e62b92231874c1a6c3e2ab9e1019a95db22ea08f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Aug 30 07:04:08 2018 +0000

    Bump the libtool revision

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a059ce315d327ff0465435d446d4e02a6f97614f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 29 07:18:14 2018 +0000

    Add .gitlab-ci.yml

 .gitlab-ci.yml | 34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit a887659706ff5bce6e4ef570dc8447ae75cc9534
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 29 10:01:45 2018 +0000

    Fix distcheck fail

 test/Makefile.am     | 2 +-
 test/run-test.sh     | 6 +++---
 test/test-bz106632.c | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 0ce32973c862c3720cd1268cc11dd011b301cc43
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 28 19:22:11 2018 +0900

    Update the issue tracker URL

 README       | 2 +-
 configure.ac | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ddeec818cc6cbf4b09594bc05d2b6e589388753c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 21 03:08:58 2018 +0000

    Fix missing closing bracket in FcStrIsAbsoluteFilename()

    Fixes https://gitlab.freedesktop.org/fontconfig/fontconfig/issues/96

 src/fcstr.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a1efb5ea8c76622c7587cb5362e821bff8dcd7c4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 1 08:10:35 2018 +0000

    Fix the build issue with gperf

    GPerf seems not allowing the empty lines though, current recipes
    are supposed to drop them.
    but seems not working on some env.
    So taking the proper way to do that instead of incompatible things
    against platforms.

 src/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1451f829e750926cec27855eded71c24ac7ac7c6
Author: Tom Anderson <thomasanderson@chromium.org>
Date:   Wed Jul 25 16:35:54 2018 -0700

    Fix build with CFLAGS="-std=c11 -D_GNU_SOURCE"

 src/fcxml.c | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 9f1b92f27f9259aa69e5387656cb7d4c1b305a98
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jul 25 13:41:47 2018 +0900

    Fix memory leak

 src/fcxml.c | 2 ++
 1 file changed, 2 insertions(+)

commit 5b277806df6d8776c68b275c227a82dd8433eeae
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jul 25 12:44:38 2018 +0900

    Drop the redundant code

    "value == FcTypeInteger" won't be true because it was converted to
    FcTypeDouble earlier

 src/fcxml.c | 1 -
 1 file changed, 1 deletion(-)

commit a1ad5fe2ba3d742f79d601a1149e1456e57ff51e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jul 25 12:40:17 2018 +0900

    Allocate sufficient memory to terminate with null

 src/fcstr.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ea2ab6a3857855dd676388d81d2b4f6f327ae2a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jul 25 12:39:53 2018 +0900

    Make a call fail on ENOMEM

 src/fcptrlist.c | 2 ++
 1 file changed, 2 insertions(+)

commit 38569f2f2e2abc0f2a543f48a286e464d5052546
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 08:31:59 2018 +0000

    Fix allocating insufficient memory for terminating null of the string

 src/fcname.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b1762935c3db2bc611750c61ce9cb38b9008db6b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 08:31:14 2018 +0000

    Fix possibly dereferencing a null pointer

 src/fcmatch.c | 13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 8e97d745cc21cd2e1459840a63ed13595fcf2acd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 08:21:33 2018 +0000

    Fix a typo

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit efac784b0108d3140d7ec51cf22cb8a4453bd566
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 07:55:40 2018 +0000

    Fix dereferencing null pointer

 src/fccfg.c | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 1ac2218467260cc2f96f202910ba2e1a97291744
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 07:50:20 2018 +0000

    do not pass null pointer to memcpy

 src/fccfg.c | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit f3981a8bcd97a0388bf150ea7c1b4a1015e5e358
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 16:44:03 2018 +0900

    Fix access in a null pointer dereference

 src/fccfg.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 586ac3b6c0a324ae8545e2e6437f62e851daa203
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 07:09:14 2018 +0000

    Fix array access in a null pointer dereference

    FcFontSetFont() accesses fs->fonts in that macro though, there was
    no error checks
    if it is null or not.
    As a result, there was a code path that it could be a null.
    Even though this is unlikely to see in usual use, it might be
    intentionally created
    in a cache.

    So if fs->fonts is a null, we should consider a cache is invalid.

 src/fccache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51afd09d62c163ae6a13b856ba46b8e851015f26
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 05:51:02 2018 +0000

    Fix unterminated string issue

 src/fccache.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 37c9c16dadd02edc3d8211a16a940d6fd2356e3b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 04:29:01 2018 +0000

    Fix memory leak

 src/fcxml.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 433718fb77f527a7f8909ea88f03ed2054f88a7d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 04:17:21 2018 +0000

    Fix memory leak

 src/fcstat.c | 9 +++++++++
 1 file changed, 9 insertions(+)

commit eafa931ff984d13a93343216d3f0fd490270599b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 12:12:17 2018 +0900

    Fix memory leak

 src/fclist.c | 3 +++
 1 file changed, 3 insertions(+)

commit 12be7973871371c64df3d38f788fe68766503f64
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 12:08:34 2018 +0900

    Fix memory leaks

 src/fccfg.c | 2 ++
 1 file changed, 2 insertions(+)

commit 4b1276e24058a2e8b283767fb11dd2d16de7e547
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 11:40:31 2018 +0900

    Fix memory leak

 src/fccache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e9d317755727c6e71fc0a8bff3ad38197f773b89
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 11:32:50 2018 +0900

    Fix the leak of file handle

 src/fccache.c | 1 +
 1 file changed, 1 insertion(+)

commit d1f48f11d5dffa1d954a1b0abe44ce9e4bfc3709
Author: Tom Anderson <thomasanderson@chromium.org>
Date:   Wed Jul 11 15:50:26 2018 -0700

    Return canonicalized paths from FcConfigRealFilename

    FcConfigRealFilename() follows symlinks, but the link may be relative
    to the
    directory containing the link.  For example, on my system, I have
    this file:

    /etc/fonts/conf.d/99-language-selector-zh.conf ->
        ../conf.avail/99-language-selector-zh.conf

    Since /etc/fonts/conf.d is probably not in PATH, open()ing the file
    would fail.
    This change makes FcConfigRealFilename() return the canonicalized
    filename
    instead.  So for the example above, it would return:

    /etc/fonts/conf.avail/99-language-selector-zh.conf

    This was causing bad font rendering in Chromium [1] after the
    regression I
    introduced in 7ad010e80bdf8e41303e322882ece908f5e04c74.

    [1] https://bugs.chromium.org/p/chromium/issues/detail?id=857511

 src/fccfg.c | 65
 +++++++++++++++++++++++++++++++++----------------------------
 src/fcint.h |  3 +++
 src/fcstr.c | 11 +++++++++++
 3 files changed, 49 insertions(+), 30 deletions(-)

commit 48e9e5f4f0e97b12f7923662e06820c7077ae8af
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jul 16 17:59:45 2018 +0200

    Use FT_HAS_COLOR

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5a46d572c06f1904ea45b4a24a75fb508c8c9f07
Author: Matthieu Herrb <matthieu@herrb.eu>
Date:   Mon Jul 9 19:07:12 2018 +0200

    FcCacheFindByStat(): fix checking of nanoseconds field.

 src/fccache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6cc99d6a82ad67d2f5eac887b28bca13c0dfddde
Author: Tom Anderson <thomasanderson@chromium.org>
Date:   Mon Jun 11 23:16:42 2018 -0700

    Fix heap use-after-free

 src/fccache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f5dd8512bdf9fd8e01c30ae36f593758b29385cf
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 11 17:03:17 2018 +0900

    Remove .uuid when no font files exists on a directory

    https://bugs.freedesktop.org/show_bug.cgi?id=106632

 doc/fccache.fncs        |  12 +-
 fontconfig/fontconfig.h |   4 +
 src/fccache.c           |  22 ++++
 src/fcdir.c             |   7 ++
 src/fchash.c            |  29 +++++
 src/fcint.h             |   4 +
 test/Makefile.am        |  17 +++
 test/run-test.sh        |  15 +++
 test/test-bz106632.c    | 316
 ++++++++++++++++++++++++++++++++++++++++++++++++
 test/test-hash.c        | 187 ++++++++++++++++++++++++++++
 10 files changed, 612 insertions(+), 1 deletion(-)

commit 096e8019be595c2224aaabf98da630ee917ee51c
Author: Tom Anderson <thomasanderson@chromium.org>
Date:   Fri Jun 8 12:31:15 2018 -0700

    Fix CFI builds

    CFI [1] is a dynamic analysis tool that checks types at runtime.
    It reports an
    error when using a function with signature eg. (void (*)(char*)) as
    (void (*)(void*)).  This change adds some wrapper functions to avoid
    this issue.
    In optimized builds, the functions should get optimized away.

    [1] https://clang.llvm.org/docs/ControlFlowIntegrity.html

 src/fccfg.c | 42 ++++++++++++++++++++++++++++++++++++------
 1 file changed, 36 insertions(+), 6 deletions(-)

commit d1771cfbd1ca5e5e2c8dcd509e3f8da27cb94c11
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jun 8 21:16:15 2018 +0900

    Update CaseFolding.txt to Unicode 11

 fc-case/CaseFolding.txt | 87
 ++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 83 insertions(+), 4 deletions(-)

commit 3fa83813360bd414f877bac90788ce0348564c9e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 25 15:24:44 2018 +0900

    Add a test case for bz#106618

 test/Makefile.am     |  3 +++
 test/run-test.sh     | 15 +++++++++++++--
 test/test-bz106618.c | 47 +++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 63 insertions(+), 2 deletions(-)

commit 14c23a5715c529be175d8d6152cabd4ddad4e981
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 25 15:20:10 2018 +0900

    Fix double-free

 src/fcxml.c | 3 +++
 1 file changed, 3 insertions(+)

commit 3ea70f936832932fcd9502b0906ee9908bd04978
Author: Alexander Larsson <alexl@redhat.com>
Date:   Wed May 23 16:00:01 2018 +0200

    Cache: Remove alias_table

    There is really no need for this anymore

    https://bugs.freedesktop.org/show_bug.cgi?id=106618

 src/fccache.c | 15 +++------------
 src/fccfg.c   | 15 ++-------------
 src/fcint.h   |  1 -
 3 files changed, 5 insertions(+), 26 deletions(-)

commit c42402d0b8ada2472924619fc197a0394fbcd62c
Author: Alexander Larsson <alexl@redhat.com>
Date:   Wed May 23 15:15:33 2018 +0200

    Cache: Rewrite relocated paths in earlier

    This changes the rewriting of the FC_FILE values for relocated caches
    to an earlier stage
    while reading the cache. This is better, because it means all APIs
    will report the
    rewritten paths, not just the once that use the list apis.

    We do this by detecting the relocated case and duplicating the
    FcPattern and FcPatternElm
    in an cache allocation (which will die with the cache) and then
    reusing the FcValueLists
    from the cache.

    This means that in the rewritten case we will use some more memory,
    but not the full
    size of the cache. In a test here I had 800k of relocated caches,
    but ~200k of wasted
    on duplicating the objects.

    This should fix https://bugs.freedesktop.org/show_bug.cgi?id=106618

 src/fccfg.c   | 44 +++++++++++++++++++++++++++---------
 src/fcint.h   |  5 ++++-
 src/fclist.c  | 36 ------------------------------
 src/fcmatch.c | 34 ----------------------------
 src/fcpat.c   | 71
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 5 files changed, 106 insertions(+), 84 deletions(-)

commit a63b9c622e240ec0d8f9d83d286db1b55849f374
Author: Alexander Larsson <alexl@redhat.com>
Date:   Wed May 23 15:08:12 2018 +0200

    Add FcCacheAllocate() helper

    This lets you allocate a chunk of memory that will be freed when
    the cache
    is freed.

    https://bugs.freedesktop.org/show_bug.cgi?id=106618

 src/fccache.c | 36 ++++++++++++++++++++++++++++++++++++
 src/fcint.h   |  4 ++++
 2 files changed, 40 insertions(+)

commit 94080c3d48686117b83acddf516258647b571f03
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 25 14:02:58 2018 +0900

    Fix -Wstringop-truncation warning

 src/fcmatch.c | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 684c3ce6850c4168e127ea84432e7a9006296ff4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 25 13:51:10 2018 +0900

    Fix leaks

 src/fcxml.c | 9 +++++++++
 1 file changed, 9 insertions(+)

commit f098adac54ab86b75a38f2d23fa706a1348f55ba
Author: Chris Lamb <chris@chris-lamb.co.uk>
Date:   Tue May 15 22:11:24 2018 +0200

    Ensure cache checksums are deterministic

    Whilst working on the Reproducible Builds[0] effort, we noticed that
    fontconfig generates unreproducible cache files.

    This is due to fc-cache uses the modification timestamps of each
    directory in the "checksum" and "checksum_nano" members of the
    _FcCache
    struct. This is so that it can identify which cache files are valid
    and/or require regeneration.

    This patch changes the behaviour of the checksum calculations
    to prefer
    the value of the SOURCE_DATE_EPOCH[1] environment variable over the
    directory's own mtime. This variable can then be exported by build
    systems to ensure reproducible output.

    If SOURCE_DATE_EPOCH is not set or is newer than the mtime of the
    directory, the existing behaviour is unchanged.

    This work was sponsored by Tails[2].

     [0] https://reproducible-builds.org/
     [1] https://reproducible-builds.org/specs/source-date-epoch/
     [2] https://tails.boum.org/

 doc/fontconfig-user.sgml |  6 ++++-
 src/fccache.c            | 59
 +++++++++++++++++++++++++++++++++++++++++++-----
 2 files changed, 58 insertions(+), 7 deletions(-)

commit 0b85e77ede3497b8533b8fcb67d03d8ad174998d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sun May 13 16:21:58 2018 +0900

    Bug 106459 - fc-cache doesn't use -y option for .uuid files

    https://bugs.freedesktop.org/show_bug.cgi?id=106459

 src/fccache.c    | 48 +++++++++++++++++++++++++++++++++++++-----------
 test/run-test.sh | 25 +++++++++++++++++++++++++
 2 files changed, 62 insertions(+), 11 deletions(-)

commit cfb21c7d85d2b1fc457dcd644e6b850b5cccf26a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sun May 13 14:48:10 2018 +0900

    Bug 106497 - better error description when problem reading font
    configuration

    https://bugs.freedesktop.org/show_bug.cgi?id=106497

 configure.ac |  2 +-
 src/fcxml.c  | 20 +++++++++++++++++++-
 2 files changed, 20 insertions(+), 2 deletions(-)

commit af964f789762df0b023c8cfd7ea622045892cb54
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 11 22:15:39 2018 +0900

    Add a test case for 90-synthetic.conf

 test/Makefile.am            | 11 ++++++--
 test/run-test-conf.sh       | 36 ++++++++++++++++++++++++
 test/test-90-synthetic.json | 68
 +++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 112 insertions(+), 3 deletions(-)

commit f665852df90cd5a28c3040af8f484999ca3dfa4e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 11 21:39:50 2018 +0900

    Add a testrunner for conf

 configure.ac     |   9 ++
 test/Makefile.am |   7 ++
 test/test-conf.c | 328
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 344 insertions(+)

commit 307639cff143341cb10273db1a19264ba28b247e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 11 20:48:30 2018 +0900

    Bug 43367 - RFE: iterator to peek objects in FcPattern

    Add various APIs to obtain things in FcPattern through the iterator

    https://bugs.freedesktop.org/show_bug.cgi?id=43367

 doc/fcpattern.fncs      | 111 ++++++++++++++++++++++-
 fontconfig/fontconfig.h |  33 +++++++
 src/fcdbg.c             |  15 ++--
 src/fcdefault.c         |  32 ++++---
 src/fcformat.c          |  22 ++---
 src/fcint.h             |   9 ++
 src/fcpat.c             | 233
 +++++++++++++++++++++++++++++++++++++++---------
 7 files changed, 372 insertions(+), 83 deletions(-)

commit 454923709a1a1e480554c400e053aea9a1ba951a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu May 10 22:01:29 2018 +0900

    Change the emboldening logic again

    enable emboldening when request was >= bold and font was <= medium

    https://bugs.freedesktop.org/show_bug.cgi?id=106460

 conf.d/90-synthetic.conf | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 730deada8cf609157d07b7c2bf2985672614c4c0
Author: Tom Anderson <thomasanderson@chromium.org>
Date:   Tue Apr 24 11:15:58 2018 -0700

    Add FONTCONFIG_SYSROOT environment variable

 doc/fontconfig-user.sgml | 4 ++++
 src/fccfg.c              | 5 ++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit c78afa906699933e87889895ca2039887943b639
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 19 11:45:45 2018 +0900

    Fix typo in doc

    https://bugs.freedesktop.org/show_bug.cgi?id=106128

 doc/fontconfig-user.sgml | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 7ad010e80bdf8e41303e322882ece908f5e04c74
Author: Tom Anderson <thomasanderson@chromium.org>
Date:   Wed Apr 11 17:24:43 2018 -0700

    Use realfilename for FcOpen in _FcConfigParse

    realfilename is the file name after sysroot adjustments.  It should
    be used
    instead of filename in the call to FcOpen() which forwards the name
    directly to
    open().

    Though I don't explicitly request a sysroot, I was getting error
    messages saying
    "failed reading config file".  This CL fixes the error spam.

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c60ed9ef66e59584f8b54323018e9e6c69925c7e
Author: Tom Anderson <thomasanderson@chromium.org>
Date:   Wed Apr 11 11:39:56 2018 -0700

    Fix undefined-shift UBSAN errors

    The expression "1 << 31" will cause UBSAN to complain with this
    error message:
    runtime error: left shift of 1 by 31 places cannot be represented
    in type 'int'

    The same operation on unsigned types is fine, however.  This CL
    replaces the
    strings "1 <<" with "1U <<".

 fc-lang/fc-lang.c |  2 +-
 src/fcfreetype.c  | 10 +++++-----
 src/fcint.h       |  2 +-
 src/fclang.c      | 10 +++++-----
 4 files changed, 12 insertions(+), 12 deletions(-)

commit a8a6efa805fc03e790214e8a0bc55843a258d774
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Mar 31 19:19:36 2018 +0200

    Share name-mapping across instances

    Continuation of previous commit.

    Makes scanning Voto Serif GX fast again.

 src/fcfreetype.c | 22 ++++++++++++++++------
 1 file changed, 16 insertions(+), 6 deletions(-)

commit fa13f8835c2819e693c7250e0d6729e22f0509c2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Mar 31 18:36:20 2018 +0200

    Fix name scanning

    In 161c738 I switched from linear name scanning to binary searching.
    That, however, ignored the fact that there might be more than one
    name table entry for each pair we want to query.

    To fix that and retain bsearch, I now get all name entries first,
    sort them, and use for bsearching.

    This fixes https://bugs.freedesktop.org/show_bug.cgi?id=105756

    This makes scaning Voto Serif GX twice slower though, since we are
    creating and sorting the list for each instance. In the next commit,
    I'll share this list across different instances to fix this.

 src/fcfreetype.c | 293
 +++++++++++++++++++++++++++++++++++--------------------
 1 file changed, 185 insertions(+), 108 deletions(-)

commit 31269e3589e0e6432d12f55db316f4c720a090b5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 28 18:54:37 2018 +0900

    Do not ship fcobjshash.h

 src/Makefile.am | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 2cf2e79cb66e29b97bd640a565e4817022f6fdb5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 28 18:53:52 2018 +0900

    Fix make check fail when srcdir != builddir.

 test/Makefile.am | 16 +++++++---------
 test/run-test.sh |  3 ++-
 2 files changed, 9 insertions(+), 10 deletions(-)

commit 58f52853d5689e897525a5926c1a222340d3f404
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Mar 15 07:51:06 2018 -0700

    Minor: fix warnings

 test/test-name-parse.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2938e4d72da40f6bb0d22086c519a9852a820f40
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 15 12:54:02 2018 +0900

    call setlocale

 fc-cache/fc-cache.c     | 2 ++
 fc-cat/fc-cat.c         | 2 ++
 fc-list/fc-list.c       | 2 ++
 fc-match/fc-match.c     | 2 ++
 fc-pattern/fc-pattern.c | 2 ++
 fc-query/fc-query.c     | 2 ++
 fc-scan/fc-scan.c       | 2 ++
 7 files changed, 14 insertions(+)

commit 98eaef69af1350e459bf9c175476d3b772968874
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 15 12:17:52 2018 +0900

    Leave the locale setting to applications

    https://bugs.freedesktop.org/show_bug.cgi?id=105492

 fc-conflist/fc-conflist.c |  2 ++
 src/fccfg.c               | 22 ++--------------------
 2 files changed, 4 insertions(+), 20 deletions(-)

commit fb7be6d60586302e89b7bbc894b91cb6cd33fbf3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 14 21:42:11 2018 +0900

    Add a testcase for FcNameParse

 test/Makefile.am       |  4 +++
 test/test-name-parse.c | 90
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 94 insertions(+)

commit 4699406a68321179b14fae7412f828e2f37a7033
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 14 18:31:30 2018 +0900

    Add the value of the constant name to the implicit object in the
    pattern

    For objects which has been changed the object type to FcTypeRange.

    https://bugs.freedesktop.org/show_bug.cgi?id=105415

 src/fcname.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 923b5be626a6e03fbaeee0b5cd6d0246c2f8f36f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 14 12:35:05 2018 +0900

    Do not override locale if already set by app

    https://bugs.freedesktop.org/show_bug.cgi?id=105492

 src/fccfg.c | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 198358dd8ff858c9e36531a7406ccb2246ae77b7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 12 11:49:58 2018 +0900

    Allow the constant names in the range

    https://bugs.freedesktop.org/show_bug.cgi?id=105415

 src/fcname.c | 34 +++++++++++++++++++++++++++++-----
 1 file changed, 29 insertions(+), 5 deletions(-)

commit af687139f2866a736f294c7c54f9ea57219a079b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Mar 10 20:47:54 2018 +0900

    Add uuid to Requires.private in .pc only when pkgconfig macro found it

 configure.ac | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 07bd14c5c7fed103020dc9b630d6a254861ada07
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 9 11:55:43 2018 +0900

    Fix the build issue again on MinGW with enabling nls

 src/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bb50f62b58b5057f80f3775f91fa94b225fc6672
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 8 18:19:32 2018 +0900

    Use the builtin uuid for OSX

    https://bugs.freedesktop.org/show_bug.cgi?id=105366

 configure.ac | 19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit f075ca1aeaedbc288d42a70df5cf2fd069ea0d10
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Mar 6 12:31:12 2018 +0900

    Bump version to 2.13.0

 README                  | 12 ++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  4 ++--
 3 files changed, 13 insertions(+), 5 deletions(-)

commit 24b4a57193f89d348402de0f7bf4630ae3b5f5e7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Mar 6 12:31:09 2018 +0900

    Bump the libtool revision

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c96285d216e4fec2d83386dfd49030dfc947a4b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 2 13:30:00 2018 +0900

    Initialize an array explicitly

    Patch from Kurt Kartaltepe

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e300d863f564f0b7b52fd6fdc1987afb5c116730
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 2 13:19:38 2018 +0900

    Fix a build issue on MinGW with enabling nls

 src/Makefile.am | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5d32ee914be7ea3a8bafe73a49786b5ce2c98cfd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Feb 19 13:22:20 2018 +0900

    Add Simplified Chinese translations

    https://bugs.freedesktop.org/show_bug.cgi?id=105123

 po-conf/LINGUAS  |   1 +
 po-conf/zh_CN.po | 140 +++++++++++++
 po/LINGUAS       |   1 +
 po/zh_CN.po      | 608
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 750 insertions(+)

commit 2fc42310cdc679bdc1f2f8f11ababad167c97fdd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Feb 15 22:01:54 2018 +0900

    Bump version to 2.12.93

 README                  | 36 ++++++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 36 insertions(+), 4 deletions(-)

commit 147b083851bd5ba97a17de4496c484c9609a8f52
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Feb 15 22:01:45 2018 +0900

    Add missing files to ship

 its/Makefile.am | 5 +++++
 1 file changed, 5 insertions(+)

commit 0394cb7829d16a902e2eebdcc4f00db3774916b8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Feb 5 13:31:00 2018 +0900

    Ensure the user config dir is available in the list of config dirs
    on the fallback config

 src/fcinit.c | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 34b5c949d51fcc8eafe2301ca8f539f735e31522
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Feb 5 12:47:01 2018 +0900

    Do not mix up font dirs into the list of config dirs

 fc-cache/fc-cache.c | 2 +-
 src/fccfg.c         | 8 --------
 src/fcinit.c        | 2 +-
 src/fcint.h         | 4 ----
 src/fcxml.c         | 7 +++++--
 5 files changed, 7 insertions(+), 16 deletions(-)

commit 5710377301f7193f133103cede00e81a2051eb51
Author: Olivier Crête <olivier.crete@collabora.com>
Date:   Thu Feb 1 10:52:40 2018 +0000

    Fix cross-compilation by passing CPPFLAGS to CPP

 src/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ef748b39e022ce98d5aa8110d713368cf39f0ebf
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 23 22:27:17 2018 +0900

    Take effects on dir, cachedir, acceptfont, and rejectfont only
    when loading

    Those elements takes effects immediately during parsing config files
    so makes them conditional to ignore on scanning.

 src/fcxml.c | 30 +++++++++++++++++-------------
 1 file changed, 17 insertions(+), 13 deletions(-)

commit 73cc842d1dd866e4a6fda4aa422cb4a9c7a9832f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jan 15 12:57:05 2018 +0900

    Revert some removal from 7ac6af6

 autogen.sh | 1 +
 1 file changed, 1 insertion(+)

commit 91f0fd84607efcc7196e5ee232794c055f25511e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sun Jan 14 19:49:06 2018 +0900

    Do not add cflags and libs coming from pkg-config file.

    Using Requires is peferable way.

    https://bugs.freedesktop.org/show_bug.cgi?id=104622

 configure.ac     | 10 ++++++++--
 fontconfig.pc.in |  4 ++--
 2 files changed, 10 insertions(+), 4 deletions(-)

commit 4ff7155f5c96a02f2cd3542e8546c76c632c315a
Author: Alexander Larsson <alexl@redhat.com>
Date:   Fri Jan 12 16:52:39 2018 +0100

    FcHashTableAddInternal: Compare against the right key

    We were comparing the passed in key with the ready-to-insert key
    rather than the key in the hashtable, so if you ever had a hash
    conflicts we'll never insert the new item.

    https://bugs.freedesktop.org/show_bug.cgi?id=101889

 src/fchash.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd2ad1147ad9565841372e56e6bb939c0f843ac5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 9 10:54:55 2018 +0100

    Fix undefined-behavior signed shifts

 src/fccharset.c  |  6 +++---
 src/fcfreetype.c |  4 ++--
 src/ftglue.h     | 12 ++++++------
 3 files changed, 11 insertions(+), 11 deletions(-)

commit 7ac6af665ba3e098a097cab869e814bdbe34952d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 9 13:51:31 2018 +0900

    clean up

 autogen.sh   | 85
 ++++++++++--------------------------------------------------
 configure.ac |  2 --
 2 files changed, 13 insertions(+), 74 deletions(-)

commit 94683a1255c065a7f8e7fadee9de605f3eaf9ac7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jan 8 09:55:41 2018 +0000

    Use FT_Done_MM_Var if available

 configure.ac     | 2 +-
 src/fcfreetype.c | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 97488fd72577a86ffd52bbb42d781bad0dd723cf
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Jan 6 18:53:27 2018 +0900

    export GETTEXTDATADIR to refer the local .its/.loc file instead of
    using --its option

 Makefile.am                 |  2 +-
 configure.ac                |  1 +
 its/Makefile.am             |  6 ++++++
 {src => its}/fontconfig.its |  0
 {src => its}/fontconfig.loc |  0
 po-conf/Makevars            |  4 ++--
 po-conf/POTFILES.in         | 34 ++++++++++++++++++++++++++++++++++
 src/Makefile.am             |  5 -----
 8 files changed, 44 insertions(+), 8 deletions(-)

commit 030e2e4e9473532de5ef6bf4c7905bdf653dc6ef
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jan 5 14:33:17 2018 +0000

    Fix leak

 src/fcfreetype.c | 1 +
 1 file changed, 1 insertion(+)

commit 9c90f06b405abdc5ae2d92f5b614e0d19d11f783
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 5 22:14:58 2018 +0900

    Remove POTFILES.in until new release of gettext is coming...

 po-conf/POTFILES.in | 34 ----------------------------------
 1 file changed, 34 deletions(-)

commit b2da36e92265c82e598cdea670ec436f9b592af0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 5 22:12:37 2018 +0900

    Use the native ITS support in gettext

    and drop the dependency of itstool.
    To get this working, need to patch out to fix a crash:
    http://git.savannah.gnu.org/cgit/gettext.git/commit/?id=a0cab23332a254e3500cac2a3a984472d02180e5

 configure.ac        |  7 -------
 po-conf/Makevars    |  6 ++++--
 po-conf/POTFILES.in | 34 ++++++++++++++++++++++++++++++++++
 po/Makevars         |  2 +-
 4 files changed, 39 insertions(+), 10 deletions(-)

commit a2e0ebf3922d4ac682162e63ec7b209ef58f3c7c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 5 18:23:08 2018 +0900

    Add files to enable ITS support in gettext

 src/Makefile.am    | 5 +++++
 src/fontconfig.its | 4 ++++
 src/fontconfig.loc | 6 ++++++
 3 files changed, 15 insertions(+)

commit 6aa0bde5ecd6a545228fc6b59e7e54b8f1eea7eb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 5 16:05:58 2018 +0900

    trivial fix

 test/test-migration.c | 3 +++
 1 file changed, 3 insertions(+)

commit b8a225b3c3495942480377b7b3404710c70be914
Author: Tom Anderson <thomasanderson@chromium.org>
Date:   Wed Jan 3 11:42:45 2018 -0800

    Allow overriding symbol visibility.

    Fontconfig symbols were hardcoded to be either hidden or exported.
    This patch
    adds configurable symbol visibility.  This is useful for projects
    that want to
    do in-tree fontconfig builds and not export any symbols, otherwise
    they would
    conflict with the system library's symbols

    Chromium is a project that does in-tree fontconfig builds, and
    the workaround
    currently used is "#define visibility(x) // nothing" [1] and
    building with
    "-fvisibility=hidden".
    [1]
    https://cs.chromium.org/chromium/src/third_party/fontconfig/BUILD.gn?rcl=ce146f1f300988c960e1eecf8a61b238d6fd7f7f&l=62

 fontconfig/fcprivate.h | 9 ++++++++-
 src/makealias          | 4 ++--
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 37fb4a989e6243bceebadb8120f458d8d5b82c45
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 3 16:51:18 2018 +0000

    Support FC_WIDTH as double as well

 src/fcfreetype.c | 16 +++++++---------
 1 file changed, 7 insertions(+), 9 deletions(-)

commit 1fa9cb78c1120e11e27e2a84f59b3fb239b165df
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 3 16:48:54 2018 +0000

    Remove hack for OS/2 weights 1..9

 src/fcfreetype.c |  8 +-------
 src/fcweight.c   | 20 +-------------------
 2 files changed, 2 insertions(+), 26 deletions(-)

commit d7d40b5aa8216f30a38492bd2bde5884c492c82d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 4 20:42:34 2018 +0900

    Bump version to 2.12.92

 README                  | 33 +++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 33 insertions(+), 4 deletions(-)

commit 3642d71724e7c40f44753c1f2e6d8fb2c88a3e50
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 4 20:23:16 2018 +0900

    Add FcReadLink to wrap up readlink impl.

 src/fccfg.c    |  4 ++--
 src/fccompat.c | 19 +++++++++++++++++++
 src/fcint.h    |  5 +++++
 3 files changed, 26 insertions(+), 2 deletions(-)

commit 767e3aa7c50c2a707b42d9eda879b1046558bb6f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 4 20:32:46 2018 +0900

    Fix compiler warnings

 src/fccfg.c          | 2 +-
 src/fcdir.c          | 4 ++++
 src/fcfreetype.c     | 4 ++--
 test/test-bz131804.c | 1 -
 4 files changed, 7 insertions(+), 4 deletions(-)

commit 706535e10715938c10e65e727feb607373ac1a47
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 3 15:59:24 2018 +0000

    Add FcWeightTo/FromOpenTypeDouble()

    No idea why I didn't add these as double to begin with.

 doc/fcweight.fncs       | 42 ++++++++++++++++++++++++++++++++----------
 fontconfig/fontconfig.h |  6 ++++++
 src/fcfreetype.c        | 16 ++++++++--------
 src/fcweight.c          | 24 ++++++++++++++++++------
 4 files changed, 64 insertions(+), 24 deletions(-)

commit 97898b1158542d3bc5f8a95fe2aa1829512cceb8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jan 3 22:15:11 2018 +0900

    Fix the mis-ordering of ruleset evaluation in a file with include
    element

 src/fccfg.c |  8 ++++++--
 src/fcxml.c | 22 ++++++++++++++++++++++
 2 files changed, 28 insertions(+), 2 deletions(-)

commit 5cfd594c71345bcb91a56100fc3bbfef15253a95
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 2 19:04:45 2018 +0900

    do not check the existence of itstool on win32

 configure.ac | 21 ++++++++++++---------
 1 file changed, 12 insertions(+), 9 deletions(-)

commit f8e22fd6469cd14fe13ba657b5c5b66a884b614d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Dec 20 12:21:20 2017 -0500

    Put back accidentally removed code

 src/fcmatch.c | 2 ++
 1 file changed, 2 insertions(+)

commit 6d1d44d5ec5100a3db850dddd7b4e4196e8a5cdb
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 19 15:51:16 2017 -0500

    Let pattern FC_FONT_VARIATIONS override standard axis variations

    Ie. flip the merge order.

 src/fcmatch.c | 20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit 650b051a2562ab5813d0671323e00f31cd79b37b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 19 15:04:25 2017 -0500

    Set font-variations settings for standard axes in variable fonts

    This is the last piece of the puzzle for variable-font support in
    fontconfig.  This takes care of automatically setting the variation
    settings when user requests a weight / width / size that has variation
    in the matched font.

 src/fcmatch.c | 54 ++++++++++++++++++++++++++++++++++++++++++++++++++++--
 src/fcpat.c   | 10 ++++++++--
 2 files changed, 60 insertions(+), 4 deletions(-)

commit 288d3348122a695615c39d82142d988e56064b9f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 18 23:51:17 2017 -0500

    Minor

 fc-pattern/fc-pattern.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 57ff677b1bd73acbf371955afe8d6399a06d46ac
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 18 21:28:23 2017 -0500

    Remove a debug abort()

    Ouch!

 src/fcmatch.c | 1 -
 1 file changed, 1 deletion(-)

commit aa85a2b3b6b652c079e895865e800e3d9b60a5f5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Dec 19 12:16:48 2017 +0900

    Try to get current instance of FcConfig as far as possible

 src/fcmatch.c | 2 ++
 1 file changed, 2 insertions(+)

commit 0b59a65a71b5482aab63a2fe7eff2820f2512941
Author: Alexander Larsson <alexl@redhat.com>
Date:   Mon Dec 18 16:17:10 2017 +0100

    fchash: Fix replace

    When we replace a bucket in the hashtable we have to update the
    next pointer too, or we lose all the other elements that hashed to
    this key.

 src/fchash.c | 2 ++
 1 file changed, 2 insertions(+)

commit 7ca28c2fedb34c1db5ee3116d335f15195859db0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 18 21:22:21 2017 -0500

    Don't crash

    Not proper fix necessarily. But fixes this crash:
    https://bugs.freedesktop.org/show_bug.cgi?id=101889#c81

 src/fcmatch.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e83f8777d555b40127f7035b5639955a70ad7dfd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 18 21:45:00 2017 +0900

    Disable uuid related code on Win32

 configure.ac  |  9 +++++++--
 src/fccache.c | 19 ++++++++++++++++++-
 src/fchash.c  |  4 ++++
 3 files changed, 29 insertions(+), 3 deletions(-)

commit 182186e53a38d2c8b82d0a1785f6873f2b54316a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 18 21:26:29 2017 +0900

    Do not update mtime with creating .uuid

 src/fccache.c    | 26 ++++++++++++++++++++++++++
 test/run-test.sh | 13 +++++++++++++
 2 files changed, 39 insertions(+)

commit c1e48b0c1439007b41887177ef7b34e4d75e3a31
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 18 20:05:44 2017 +0900

    Add a test case for uuid creation

 test/run-test.sh | 43 +++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 43 insertions(+)

commit 8ab4d679959815feb0c383e1e17953fe1c46091f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 18 20:05:14 2017 +0900

    Replace uuid in the table properly when -r

 src/fccache.c |  7 ++++++-
 src/fchash.c  | 37 ++++++++++++++++++++++++++++++++-----
 src/fcint.h   |  4 ++++
 3 files changed, 42 insertions(+), 6 deletions(-)

commit 0378790ca362757061bff83c8a344991f1f829c6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 18 20:04:13 2017 +0900

    Add missing doc of FcDirCacheCreateUUID

 doc/fccache.fncs | 18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit 57eaf0ba7ea7f88510053688f3c3c4658da83596
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 18 16:41:04 2017 +0900

    Returns false if key is already available in the table

 src/fchash.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd21876e64db4eaf592297e97355ffdf87f7d2f6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 18 12:09:14 2017 +0900

    Update .uuid only when -r is given but not -f.

 fc-cache/fc-cache.c     | 3 +++
 fontconfig/fontconfig.h | 5 +++++
 src/fcdir.c             | 2 +-
 src/fcint.h             | 5 -----
 4 files changed, 9 insertions(+), 6 deletions(-)

commit dd1a92911b1abc4c266ad33d88ec8161342f0d69
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 18 11:53:25 2017 +0900

    cleanup files

 test/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit bad64a7e1f84c982da1f86f45faa10426dfce654
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 14 15:44:20 2017 +0900

    Bump version to 2.12.91

 README                  | 138
 +++++++++++++++++++++++++++++++++++++++++++++++-
 configure.ac            |   2 +-
 fontconfig/fontconfig.h |   2 +-
 3 files changed, 138 insertions(+), 4 deletions(-)

commit 1f84aa196d0ed2dae6176e0137eaae4449a6ca7c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 14 15:42:39 2017 +0900

    Bump the libtool revision

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 8d02dbbd9784e3e9ae5f45cb96b790645f09fcf6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 14 15:42:22 2017 +0900

    Fix "make check" fail again

 test/Makefile.am | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a6797cd5c2d430d22f689240eb4318f2d91fd677
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Dec 5 21:57:19 2017 +0900

    Fix distcheck error

 test/Makefile.am | 4 ++--
 test/run-test.sh | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 1b2279d6b5118fc00bc028340d14fe1e345a4ab4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Nov 24 10:53:39 2017 +0530

    thread-safe functions in fchash.c

 src/fchash.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 4758144492cf694b9d762733bc0907c0dad5b34d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 20 17:46:47 2017 +0530

    Fix the testcase for env not enabled
    PCF_CONFIG_OPTION_LONG_FAMILY_NAMES in freetype

 test/run-test.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit abe91a1694bb6b89c51c7d61af23bf2607c4c4be
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 20 14:33:18 2017 +0530

    Use smaller prime for hash size

 src/fchash.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4b2787ba41006d60c964438fec17f15d75f03c0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 20 13:46:55 2017 +0530

    cleanup

 doc/fcpattern.fncs | 10 ----------
 1 file changed, 10 deletions(-)

commit 5af21201e1bf2daf2bae4b684243bc62dd2c7ee7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 15 23:30:26 2017 +0900

    Add a testcase for bind-mounted cachedir

 test/run-test.sh | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 2f486f6584f3c0d6d1c7eadfbc56cd13a8f3122f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 15 23:24:24 2017 +0900

    Don't call FcStat when the alias has already been added

    Similar changes to 3a3d6ea applies to fclist and fcmatch.

 src/fclist.c  | 49 ++++++++++++++++++++++---------------------------
 src/fcmatch.c | 47 ++++++++++++++++++++++-------------------------
 2 files changed, 44 insertions(+), 52 deletions(-)

commit 665a5d30443cee9ef0eb977857ed2d19ed9f3cb6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 15 23:00:31 2017 +0900

    Fix a typo

 src/fchash.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b82c7083565d646b8a08d17dbcb41bd998a5a3c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 15 23:00:23 2017 +0900

    Fix memory leak

 src/fccache.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit da071b32d41f91856a5e211c1fea7192d33ef09f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 15 16:34:02 2017 +0900

    update

 git.mk | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 8f88b1c47cb7918aa65ed415f64e04464b1653c9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 15 16:10:49 2017 +0900

    abstract hash table functions

 src/Makefile.am |   1 +
 src/fccache.c   | 241
 +++++++-------------------------------------------------
 src/fccfg.c     |  21 ++++-
 src/fcdir.c     |   2 +-
 src/fchash.c    | 181 ++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h     |  51 ++++++++++--
 src/fclist.c    |   6 +-
 src/fcmatch.c   |   5 +-
 8 files changed, 283 insertions(+), 225 deletions(-)

commit 68ff99c4142e25989409f465e392b1bb3042494d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 15 16:08:30 2017 +0900

    cleanup

 fontconfig/fontconfig.h |  3 ---
 src/fcpat.c             | 30 ------------------------------
 2 files changed, 33 deletions(-)

commit b01bf646f110cacfaeb5fe097475d3582fa6cd33
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Oct 3 13:08:54 2017 +0900

    Destroy the alias and UUID tables when all of caches is unloaded

    When a cache contains no fonts, it will be unloaded immediately.
    Previously the certain alias and UUID entries will be purged at that
    time though,
    this doesn't work when the targeted directory has sub-directories.
    To avoid the unnecessary cache creation with the md5-based naming,
    try to keep them
    as far as possible.
    Although this way seems not perfectly working if the first directory
    to look up is like that

 src/fccache.c | 63
 +++++++++++++++++++++++++----------------------------------
 1 file changed, 27 insertions(+), 36 deletions(-)

commit d7133f4ed7071c6ac257e8d4de0e438e22ca0254
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Oct 2 21:17:06 2017 +0900

    Don't call FcStat when the alias has already been added

    We could assume that the targeted location is mapped at the different
    place
    when there are in the alias table.

 src/fccfg.c | 21 +++++++--------------
 1 file changed, 7 insertions(+), 14 deletions(-)

commit cf5acaed9621990d890a0dfd655494d7242aba26
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Sep 23 18:49:55 2017 +0900

    Replace the path of subdirs in caches as well

 src/fccfg.c | 22 +++++++++++++++++++++-
 1 file changed, 21 insertions(+), 1 deletion(-)

commit 6d3b306cbecac22f4e0974c1a6e836289bd522f4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Sep 19 20:21:22 2017 +0900

    Replace the original path to the new one

 src/fclist.c  | 6 +++---
 src/fcmatch.c | 2 ++
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 6f226ad67e4373fa62359d1a7b94400d200e66ed
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Sep 7 19:43:59 2017 +0900

    Replace the font path in FcPattern to what it is actually located.

 src/fclist.c  | 41 ++++++++++++++++++++++++++++++++++++++++-
 src/fcmatch.c | 32 ++++++++++++++++++++++++++++++++
 2 files changed, 72 insertions(+), 1 deletion(-)

commit 85d9de58ed093ade638b51697fc3a23309e5d5a6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 2 11:02:19 2017 +0100

    Add new API to find out a font from current search path

 doc/fcpattern.fncs      |  10 ++++
 fontconfig/fontconfig.h |   3 ++
 src/fccache.c           | 127
 +++++++++++++++++++++++++++++++++++++++++++++++-
 src/fcint.h             |   3 ++
 src/fcpat.c             |  30 ++++++++++++
 5 files changed, 171 insertions(+), 2 deletions(-)

commit 7b48fd3dd406b926f0e5240b211f72197ed538a9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Sep 6 17:01:19 2017 +0900

    Use uuid-based cache filename if uuid is assigned to dirs

 configure.ac    |   8 +++
 src/Makefile.am |   3 +-
 src/fccache.c   | 211
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 src/fcdir.c     |   1 +
 src/fcint.h     |   4 ++
 5 files changed, 220 insertions(+), 7 deletions(-)

commit 64895e719dd8d18c52a31d66cd189915bc8c00b8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 20 17:20:34 2017 +0530

    Add the check of PCF_CONFIG_OPTION_LONG_FAMILY_NAMES back

    This isn't enabled by default in freetype so need to check it for
    testsuites

 configure.ac                                          | 13 +++++++++++++
 test/Makefile.am                                      | 12 +++++++++++-
 test/{out.expected => out.expected-long-family-names} |  0
 test/out.expected-no-long-family-names                |  8 ++++++++
 test/run-test.sh                                      |  2 +-
 5 files changed, 33 insertions(+), 2 deletions(-)

commit e73b5dcbf2248b538e06bc92a71700dacbec983b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Nov 16 11:37:36 2017 +0900

    Correct debugging messages to load/scan config

 src/fcxml.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 676d8699cc2e812f02e661842be4221c7549c511
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Nov 16 11:31:02 2017 +0900

    Allow autoreconf through autopoint for gettext things

 configure.ac | 1 +
 1 file changed, 1 insertion(+)

commit 2ed243f323e603ac917a236a48b468e9c523da35
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 14 20:55:24 2017 +0900

    Validate cache more carefully

    Reject caches when FcPattern isn't a constant.
    This is usually unlikely to happen but reported.
    I've decided to add more validation since this isn't reproducible
    and easy to have a workaround rather than investigating 'why'.

    https://bugs.freedesktop.org/show_bug.cgi?id=103237

 src/fccache.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 12eb7be46610178c74fbe24ae518e20957cda1ea
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 8 22:18:01 2017 +0900

    another workaround to avoid modifying by gettextize...

 autogen.sh | 3 +++
 1 file changed, 3 insertions(+)

commit 3c55ef4b278be8fff1296af0cd1d3f97388416e4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 8 22:03:49 2017 +0900

    missing an open parenthesis

 fc-cache/fc-cache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 23ba0dc10d5a1415d020043274a3e9608c5c5a39
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 7 15:13:46 2017 +0900

    workaround to avoid modifying by gettextize

 Makefile.am | 3 +--
 autogen.sh  | 8 +++++++-
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 9a0fcb948fe7346f6c68028b2e54ab600a2a2a6f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 27 15:10:44 2014 +0900

    Add the ruleset description support

    Trying to address what these configuration files really do.
    This change allows to see the short description that mention
    the purpose of the content in the config file and obtain
    them through API.

    This change also encourage one who want to make some UI for
    the user-specific configuration management. it is the main
    purpose of this change for me though.

    Aside from that, I've also made programs translatable. so
    we see more dependencies on the build time for gettext,
    and itstool to generate PO from xml.

 Makefile.am                       |  14 +-
 autogen.sh                        |  13 +-
 conf.d/10-autohint.conf           |   5 +
 conf.d/10-hinting-full.conf       |   6 +
 conf.d/10-hinting-medium.conf     |   6 +
 conf.d/10-hinting-none.conf       |   6 +
 conf.d/10-hinting-slight.conf     |   6 +
 conf.d/10-no-sub-pixel.conf       |   5 +
 conf.d/10-scale-bitmap-fonts.conf |   4 +
 conf.d/10-sub-pixel-bgr.conf      |   5 +
 conf.d/10-sub-pixel-rgb.conf      |   5 +
 conf.d/10-sub-pixel-vbgr.conf     |   5 +
 conf.d/10-sub-pixel-vrgb.conf     |   5 +
 conf.d/10-unhinted.conf           |   5 +
 conf.d/11-lcdfilter-default.conf  |   5 +
 conf.d/11-lcdfilter-legacy.conf   |   5 +
 conf.d/11-lcdfilter-light.conf    |   5 +
 conf.d/20-unhint-small-vera.conf  |   5 +
 conf.d/25-unhint-nonlatin.conf    |   4 +
 conf.d/30-metric-aliases.conf     |   5 +
 conf.d/40-nonlatin.conf           |   5 +
 conf.d/45-generic.conf            |   6 +
 conf.d/45-latin.conf              |   5 +
 conf.d/49-sansserif.conf          |   5 +
 conf.d/50-user.conf               |   5 +
 conf.d/51-local.conf              |   5 +
 conf.d/60-generic.conf            |   5 +
 conf.d/60-latin.conf              |   5 +
 conf.d/65-fonts-persian.conf      |   4 +
 conf.d/65-khmer.conf              |   4 +
 conf.d/65-nonlatin.conf           |   5 +
 conf.d/69-unifont.conf            |   4 +
 conf.d/70-no-bitmaps.conf         |   5 +
 conf.d/70-yes-bitmaps.conf        |   5 +
 conf.d/80-delicious.conf          |   4 +
 conf.d/90-synthetic.conf          |   4 +
 configure.ac                      |  17 +
 doc/fcconfig.fncs                 |  35 ++
 fc-cache/fc-cache.c               |  80 +++--
 fc-cat/fc-cat.c                   |  46 +--
 fc-conflist/Makefile.am           |  60 ++++
 fc-conflist/fc-conflist.c         | 142 ++++++++
 fc-conflist/fc-conflist.sgml      | 135 ++++++++
 fc-list/fc-list.c                 |  40 ++-
 fc-match/fc-match.c               |  46 +--
 fc-pattern/fc-pattern.c           |  36 +-
 fc-query/fc-query.c               |  36 +-
 fc-scan/fc-scan.c                 |  30 +-
 fc-validate/Makefile.am           |   2 +-
 fc-validate/fc-validate.c         |  42 ++-
 fontconfig/fontconfig.h           |  25 +-
 fonts.conf.in                     |   5 +
 git.mk                            |  15 +
 local.conf                        |   5 +
 po-conf/ChangeLog                 |  12 +
 po-conf/LINGUAS                   |   1 +
 po-conf/Makevars                  |  78 +++++
 po-conf/POTFILES.in               |   0
 po/ChangeLog                      |  12 +
 po/LINGUAS                        |   1 +
 po/Makevars                       |  78 +++++
 po/POTFILES.in                    |  11 +
 src/Makefile.am                   |   4 +-
 src/fccfg.c                       | 675
 ++++++++++++++++++++++++--------------
 src/fcdbg.c                       |  10 +-
 src/fcinit.c                      |   1 +
 src/fcint.h                       | 113 ++++++-
 src/fcptrlist.c                   | 198 +++++++++++
 src/fcxml.c                       | 179 +++++++---
 69 files changed, 1916 insertions(+), 449 deletions(-)

commit 0c149259e4cc8070f6c8bf149290abb1367f340a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 7 14:46:10 2017 +0900

    doc: trivial update

 doc/fcfreetype.fncs | 1 +
 1 file changed, 1 insertion(+)

commit 14d70d3a8ae6f2652305daeb019e518f7e0c505b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Sep 21 17:06:17 2017 +0900

    Bump version to 2.12.6

 README                  | 22 ++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 22 insertions(+), 4 deletions(-)

commit 3f96450be0291e4903ebccf601e5af46b55cd193
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Sep 21 17:05:51 2017 +0900

    Update libtool revision

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a7953dbf47b30fbbe499ad6a4a97396a7942232a
Author: Alban Browaeys <alban.browaeys@gmail.com>
Date:   Mon Oct 16 15:36:58 2017 +0200

    Fixes cleanup

    Remove leftover references to run-test271.sh.

 test/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 90271ae0798dfbdb0d9dce85caf914bee99eca4e
Author: Alexander Kanavin <alex.kanavin@gmail.com>
Date:   Wed Oct 11 17:40:09 2017 +0300

    src/fcxml.c: avoid double free() of filename

    It's also freed after bail1, so no need to do it here.

 src/fcxml.c | 1 -
 1 file changed, 1 deletion(-)

commit f4a2a1e577f6d6fe40469fb0ab68eb0b5f42465c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Oct 11 17:26:52 2017 +0200

    Remove assert

 src/fcfreetype.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c41c9220181b203d1cf1f6435f6e3735cb7c84ac
Author: Bastien Nocera <hadess@hadess.net>
Date:   Thu Oct 5 12:17:59 2017 +0200

    conf: Prefer system emoji fonts to third-party ones

    Prefer the system provided emoji fonts on systems which provide one,
    such as Windows, MacOS and Android, even if the Emoji One or Emoji Two
    fonts are installed.

    This also allows free software OSes such as GNOME to prefer the Emoji
    One font, which is not used in other OSes and therefore has a unique
    brand identity, by installing them and only them by default.

    Users can use more capable fonts while Emoji One and Emoji Two
    catch up
    by installing a font otherwise already used by another system, such as
    Google's freely redistributable Noto Emoji font.

    https://bugzilla.redhat.com/show_bug.cgi?id=1496761

 conf.d/45-generic.conf | 16 +++++++++-------
 conf.d/60-generic.conf |  5 +++--
 2 files changed, 12 insertions(+), 9 deletions(-)

commit 9fde3461e3aae3afc57ed100dc7784045e591766
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Sep 29 14:33:17 2017 +0900

    Fix a compiler warning

 src/fcdbg.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 071111ea58fa067e5e9349d71aa05ef6d62a0915
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Sep 29 14:29:37 2017 +0900

    cleanup

 test/Makefile.am     |  9 ---------
 test/out.expected    | 12 ++++++------
 test/out271.expected |  8 --------
 test/run-test271.sh  | 24 ------------------------
 4 files changed, 6 insertions(+), 47 deletions(-)

commit f504b2d6a149930cbbe745d56713bd88425a87fd
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Sep 28 19:49:05 2017 -0400

    Require freetype >= 2.8.1

    2.8.0 had a bad bug with loading 'avar' table.  Let's update
    requirement and cleanup
    fifteen years of ifdefs!

 configure.ac     | 39 +++------------------------------------
 src/fcfreetype.c | 43 -------------------------------------------
 2 files changed, 3 insertions(+), 79 deletions(-)

commit 1580593ecca1db4b4f06d87c38bb52eeeb533b1d
Merge: 052115a 01f781a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Sep 28 14:52:41 2017 -0400

    Merge branch 'varfonts2'

    https://lists.freedesktop.org/archives/fontconfig/2017-September/006048.html

commit 01f781a9a44c98b9c1330caeb388545db8fe0bb2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 27 18:55:50 2017 -0400

    [varfonts] Share lang across named-instances

    Makes VotoSerifGX scanning another 40% faster...  Down to 36ms now.

 src/fcfreetype.c | 35 +++++++++++++++++++++++++----------
 src/fclang.c     |  6 ++++++
 src/fcpat.c      |  3 +++
 3 files changed, 34 insertions(+), 10 deletions(-)

commit 161c7385477b9520fc4c63e3f09789d217c5cd67
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 27 18:36:25 2017 -0400

    Use binary-search for finding name table entries

    VotoSerifGX has over 500 named instances, which means it also has
    over a thousand
    name table entries.  So we were looking for names for over 500
    pattern, looking for
    some thirty different name-ids, and using linear search across the
    1000 entries!

    Makes scanning VotoSerifGX three times faster.  The rest is probably
    the lang
    matching, which can also be shared across named-instances.  Upcoming.

 src/fcfreetype.c | 267
 +++++++++++++++++++++++++++++--------------------------
 1 file changed, 141 insertions(+), 126 deletions(-)

commit 261464e0e2b0348187448fd86cde7d1e36124fc6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 27 18:09:31 2017 -0400

    Simplify name-table platform mathcing logic

    There's no "all other platforms", there was just ISO left.
    Hardcode it in.

 src/fcfreetype.c | 29 +++++------------------------
 1 file changed, 5 insertions(+), 24 deletions(-)

commit 55d04e25d613b0b63b2b2c33affb6fae34a0ca01
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 27 16:54:24 2017 -0400

    Don't convert nameds to UTF-8 unless we are going to use them

 src/fcfreetype.c | 39 ++++++++++++++++++++++-----------------
 1 file changed, 22 insertions(+), 17 deletions(-)

commit f99278112d01d77a4b396ab04616bdb4ade21d88
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 27 16:50:59 2017 -0400

    Whitespace

 src/fcfreetype.c | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 554041d59679d99e9c5ba0a01c3fa743eef7bd7f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 27 16:50:30 2017 -0400

    Fix whitespace-trimming loop and empty strings...

 src/fcfreetype.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a74109a1142a1525a310f95cb44931de545e025f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 27 16:49:24 2017 -0400

    Move whitespace-trimming code to apply to all name-table strings

    If it's good, it's good for everything!

 src/fcfreetype.c | 23 +++++++++++------------
 1 file changed, 11 insertions(+), 12 deletions(-)

commit 869dfe0bdc5efbaca6baf093eeeb9ac3d18c66e7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 27 16:26:47 2017 -0400

    [varfonts] Reuse charset for named instances

    This didn't give me the speedup I was hoping for, though I do get
    around 15% for VotoSerifGX.

 src/fcfreetype.c | 44 +++++++++++++++++++++++++++++++++-----------
 1 file changed, 33 insertions(+), 11 deletions(-)

commit bf4d440e7f02f36de37b205092144b335bc40854
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 27 12:31:03 2017 -0400

    Separate charset and spacing code

    For variable-font named-instances we want to reuse the same charset
    and redo the spacing.

 src/fcfreetype.c | 108
 ++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 64 insertions(+), 44 deletions(-)

commit 052115aa83c9927768ab970443250fb4ed9c0fca
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Sep 21 14:04:10 2017 +0900

    Fix again to keep the same behavior to the return value of
    FcConfigParseAndLoad

    https://bugs.freedesktop.org/show_bug.cgi?id=102141

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5603e06aeba57cb2c7044c9cc6001d0cef5039f4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Sep 21 14:03:51 2017 +0900

    Revert "Keep the same behavior to the return value of
    FcConfigParseAndLoad"

    This reverts commit dc56ff80408b16393d645a55788b023f1de27bc9.

 src/fcxml.c | 4 ----
 1 file changed, 4 deletions(-)

commit 15b5016ccdf236e51caf2480749d534a7f4b9eda
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 20 19:39:59 2017 -0700

    [varfonts] Don't reopen face for each named instance

    Makes scanning of Voto (over 500 named instaces) twice faster.

    Next, avoid charset / lang recalculation for each of those.

 src/fcfreetype.c | 100
 +++++++++++++++++++++++++++++++------------------------
 1 file changed, 56 insertions(+), 44 deletions(-)

commit 2d0063948a446a24ed9b74b5b5a4eb1004b1db8e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 20 16:25:06 2017 -0700

    [varfonts] Do not set postscriptname for varfont pattern

 src/fcfreetype.c | 87
 +++++++++++++++++++++++++++++---------------------------
 1 file changed, 45 insertions(+), 42 deletions(-)

commit be735d6a6870dde8879ce08b8927bf224b2614a0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 20 16:21:28 2017 -0700

    [varfonts] Skip named-instance that is equivalent to base font

 src/fcfreetype.c | 41 ++++++++++++++++++++++++++++++++++++-----
 1 file changed, 36 insertions(+), 5 deletions(-)

commit 8183194ae39c43708e60458e94faf73d55b4ec4a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Sep 18 20:14:33 2017 -0400

    [varfonts] Don't set style for variable-font pattern

 src/fcfreetype.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 131219f9e54fe576c986f80aecc3b1d92c27bb09
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Sep 18 19:27:24 2017 -0400

    [varfonts] Comment

 src/fcfreetype.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit e85afde2d68574eda904e934ba2e484647606bf4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Sep 18 15:04:21 2017 -0400

    [varfonts] Minor

 src/fcfreetype.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 5ee9c38df7708dfc544973fb7617231eb314b9b9
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Sep 18 15:03:36 2017 -0400

    Revert "[varfonts] Use fvar data even if there's no variation in it"

    This reverts commit 57764e3a36449da25bb829c34cb08c54e9e5de90.

    For regular font pattern we don't look into fvar, so it doesn't make
    sense to
    get non-variation from it either.

 src/fcfreetype.c | 25 ++++++++-----------------
 1 file changed, 8 insertions(+), 17 deletions(-)

commit 7e1b84100d9fff3409a8c3d1b800911bd0643761
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Sep 18 14:53:24 2017 -0400

    Minor

 src/fcfreetype.c | 16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 01f14de4172f4853c2ca05586aeb073edf560ef4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Sep 18 14:52:17 2017 -0400

    [varfonts] Use fvar data even if there's no variation in it

 src/fcfreetype.c | 25 +++++++++++++++++--------
 1 file changed, 17 insertions(+), 8 deletions(-)

commit 38a6d6fba0c9d5a189ec706a1df4ceb639c83bd1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Sep 18 14:33:37 2017 -0400

    Fix possible div-by-zero

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0ed241cb3047b0a8ab1949d7ac68e7159fe0984d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Sep 18 14:59:49 2017 -0400

    Implement more config bool operations for boolean types

    Meh.

 src/fccfg.c | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 2544bc5343d84a1f7e793cdae3569150b0ec3d05
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Sep 16 13:45:02 2017 -0400

    Add FcDontCare value to FcBool

    This can be used for FC_VARIABLE=FcDontCare for example, to opt
    into getting
    variable fonts for clients that support using them.

 fontconfig/fontconfig.h |  3 ++-
 src/fccfg.c             |  8 ++++++--
 src/fcdbg.c             |  5 ++++-
 src/fcmatch.c           |  8 ++++++--
 src/fcname.c            | 15 ++++++++++++++-
 5 files changed, 32 insertions(+), 7 deletions(-)

commit c2fcde498a8b7dec012a8da8ffa78f72a65ac50d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Sep 15 15:03:46 2017 -0400

    [varfonts] Map from OpenType to Fontconfig weight values

    Oops.

 src/fcfreetype.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 9efe0689ae130eda75a66ecd853cbe63712378a3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Sep 15 14:28:12 2017 -0400

    Adjust emboldening logic

    Old logic was really bad.  If you requested weight=102 and got
    a medium
    font (weight=100), it would still enable emboldening...

    Adjust it to only embolden if request was >= bold and font was <=
    regular.

 conf.d/90-synthetic.conf | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a79f367c3f8b238fecced75e02c956e565af2597
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Sep 15 14:26:17 2017 -0400

    Fix range comparision operators implementation

 src/fcrange.c | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 5bbdffd2c2efcf684ae787bfad9d154b2fe05fb4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Sep 15 01:51:46 2017 -0400

    Add separate match compare function for size

    Has two distinctions from FcCompareRange():
    1. As best value, it returns query pattern size, even if it's out
    of font range,
    2. Implements semi-closed interval, as that's what OS/2 v5 table
    defines

 src/fcmatch.c | 50 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcobjs.h  |  2 +-
 2 files changed, 51 insertions(+), 1 deletion(-)

commit 2a41738fd7c88e2b6977673f91bdb8d1f7224cf1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Sep 15 01:11:34 2017 -0400

    [fc-match/fc-list/fc-query/fc-scan] Add --brief that is like --verbose
    without charset

 fc-list/fc-list.c   | 24 ++++++++++++++++++------
 fc-match/fc-match.c | 20 ++++++++++++++++----
 fc-query/fc-query.c | 21 +++++++++++++++++----
 fc-scan/fc-scan.c   | 17 +++++++++++++++--
 4 files changed, 66 insertions(+), 16 deletions(-)

commit dc8326d3f116bb2a1425aa68660a332e351b6cb4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Sep 15 01:20:56 2017 -0400

    [fc-query] Remove --ignore-blanks / -b

    Blanks are the new black, err, dead!

 fc-query/fc-query.c | 20 +++++---------------
 1 file changed, 5 insertions(+), 15 deletions(-)

commit 2db7ca7d5801ba4d3024abedc7d1f11a684879da
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Sep 15 01:01:17 2017 -0400

    In RenderPrepare(), handle ranges smartly

    If font claims to support range [100,900], and request is for
    [250], then
    return [250] in "rendered" pattern.  Previously was returning
    [100,900].

    This is desirable for varfonts weight and width, but probably not
    for size.
    Will roll back size to return request size always, for non-empty
    ranges.

 src/fcmatch.c | 51 +++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 37 insertions(+), 14 deletions(-)

commit 6a13a21e408d0eead6909db1b13f9a866f254034
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 13 04:04:56 2017 -0400

    [varfonts] Fetch optical-size for named instances

 src/fcfreetype.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 0f9bbbcf8f6f8264efb0a2ded4d8d05f3b10f7a4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 13 04:01:07 2017 -0400

    [varfonts] Query variable font in FcFreeTypeQueryAll()

    Returns varfont pattern at the end.

 src/fcfreetype.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 585f08715b9405743e4a2559d537fd06fb8b51d5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 13 03:57:29 2017 -0400

    Fix instance-num handling in collections

    Ouch!

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 83b4161108457019d0d4fbee4ddbce8f2abe869a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 13 03:35:02 2017 -0400

    [varfonts] Query varfonts if id >> 16 == 0x8000

    If "instance-number" part of face id is set to 0x8000, return
    a pattern
    for variable font as a whole.  This might have a range for weight,
    width,
    and size.

    If no variation is found, NULL is returned.

    Not hooked up to FcQueryFaceAll() yet.  For now, can be triggered
    using
    fc-query -i 0x80000000

 src/fcfreetype.c | 83
 ++++++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 69 insertions(+), 14 deletions(-)

commit d3a7c3ce697a8ceb8042bf5bea11c38ac8990553
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 13 03:31:48 2017 -0400

    [varfonts] Change FC_WEIGHT and FC_WIDTH into ranges

 src/fcobjs.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f034c86756d45bed61b86310d9e4e77db2d05df3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 13 03:29:20 2017 -0400

    Print ranges as closed as opposed to half-open

    There's nothing assymetrical about how we match them.  Previously we
    "considered"
    them half-open because the OS/2 spec had usLowerOpticalPointSize
    as inclusive
    and usUpperOpticalPointSize as exclusive.  But we do not respect that.

    Note that the parsing code accepts both anyway, because of the way
    our sscanf()
    usage is written...

 src/fcdbg.c  | 2 +-
 src/fcname.c | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit a4bd5b7c7a06fe39d1461f9be098af37d364dcc2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 13 03:27:03 2017 -0400

    [varfonts] Change id argument in FcFreeTypeQuery* to unsigned int

    Going to use the top bit to query varfonts.

 fc-query/fc-query.c     |  6 +++---
 fontconfig/fcfreetype.h |  2 +-
 fontconfig/fontconfig.h |  4 ++--
 src/fcfreetype.c        | 20 ++++++++++----------
 4 files changed, 16 insertions(+), 16 deletions(-)

commit 819d3a5541b3903bda5d1299d48a6760379cac72
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 12:21:05 2017 -0400

    [varfonts] Add FC_VARIABLE

    For now, we mark all fonts as non-variable.

 fontconfig/fontconfig.h | 1 +
 src/fcdefault.c         | 1 +
 src/fcfreetype.c        | 3 +++
 src/fcmatch.c           | 1 +
 src/fcobjs.h            | 1 +
 5 files changed, 7 insertions(+)

commit 80e155c1c042d080772447d92c146501662ab85e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 10:39:20 2017 -0400

    [varfonts] Add FC_FONT_VARIATIONS

    This is for clients to passthru font variation settings.  Modeled
    similar to FC_FONT_FEATURES.  Each element value is for one axis
    settings, eg. "abcd=2.3" where 'abcd' is the OpenType Font Variations
    axis tag.

    Needs docs update.

 fontconfig/fontconfig.h | 1 +
 src/fcobjs.h            | 1 +
 2 files changed, 2 insertions(+)

commit de00bdb01f1c879b4d55d5f7ef31dfea0049a34b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 13 02:36:33 2017 -0400

    Indent

 src/fcfreetype.c | 30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit 66f082451d8bd3ae781f6a570c20456d822dd2f1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 13 02:26:25 2017 -0400

    Check instance-index before accessing array

    Ouch!

 src/fcfreetype.c | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit b6440cbd7fbf965c8f70783bbdc93d592ac12b4e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 19:18:59 2017 -0400

    In FcSubstituteDefault(), handle size range

    Takes the midpoint...

 src/fcdefault.c | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit b4813436a3bea1945f44f3bf75a4eb02de8d0303
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 19:08:36 2017 -0400

    Rewrite FcCompareRange()

    Much simpler now.

 src/fcmatch.c | 39 ++++++++++++++++++++-------------------
 1 file changed, 20 insertions(+), 19 deletions(-)

commit e7a0a0a99938deb798c007343f01fb751bc9cd3b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 18:55:03 2017 -0400

    Rename FcCompareSizeRange() to FcCompareRange()

 src/fcmatch.c | 4 ++--
 src/fcobjs.h  | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 7519c567e13f476c64fe1938fedd0033e7e70833
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 18:52:49 2017 -0400

    Remove FcCompareSize()

    Use FcCompareNumber().  The FcCompareSize() returns 0 ("perfect
    match")
    if v2 is zero.  I cannot think of a use-case for this.  The code
    has been
    there from initial commit in 2002.  I suppose back then Keith had
    a use
    for size=0 to mean scalable or something.  Anyway, remove and see.

 src/fcmatch.c | 34 ----------------------------------
 src/fcobjs.h  |  2 +-
 2 files changed, 1 insertion(+), 35 deletions(-)

commit 6eb7e5ae811cabbbd3476f8fc392f119a3d7cec5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 18:00:43 2017 -0400

    Accept NULL in for spacing in FcFreeTypeCharSetAndSpacing()

 src/fcfreetype.c | 29 ++++++++++++++++-------------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit 0757556ddfdce26e73df12459068464224116150
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Sep 20 13:07:02 2017 -0700

    Document FcFreeTypeQueryAll()

 doc/fcfreetype.fncs | 31 +++++++++++++++++++++++++++++--
 1 file changed, 29 insertions(+), 2 deletions(-)

commit 2084b76bea78f9a41349de57d76134efd5174d96
Author: Florian Müllner <fmuellner@gnome.org>
Date:   Fri Sep 15 22:52:52 2017 +0200

    build: Remove references to deleted file

    Commit cc67d7df17 removed 30-urw-aliases.conf, so don't try to
    install it.

 conf.d/Makefile.am | 2 --
 1 file changed, 2 deletions(-)

commit cc67d7df172431cb345ed42c27eb852e2ee65ae2
Author: David Kaspar [Dee'Kej] <dkaspar@redhat.com>
Date:   Fri Sep 1 11:05:16 2017 +0200

    conf.d: Drop aliases for (URW)++ fonts

      They have become a part of (URW)++ upstream release now:
      https://github.com/ArtifexSoftware/urw-base35-fonts/tree/master/fontconfig

 conf.d/30-metric-aliases.conf | 29 +++--------------------------
 conf.d/30-urw-aliases.conf    | 33 ---------------------------------
 2 files changed, 3 insertions(+), 59 deletions(-)

commit 7e74366f56508d0f312c2f51f3e9fdccae7d0104
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Sep 14 12:25:22 2017 +0900

    und_zsye.orth: polish to get for NotoEmoji-Regular.ttf

 fc-lang/und_zsye.orth | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 27a6a299e0fefca9c244213784d3c78b34281cd5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 16:43:33 2017 -0400

    Add FcFreeTypeQueryAll()

    Like FcFreeTypeQuery(), but adds patterns for all fonts found,
    including named
    instances of variable fonts.  If id is -1, then all collection faces
    are queried.
    Returns number of fonts added.

    This merges the same face loop that was in fc-query. and fcdir.c.

    Needs documentation update.

 fc-query/Makefile.am    |  2 +-
 fc-query/fc-query.c     | 88
 +++++++++++++++----------------------------------
 fc-scan/fc-scan.c       |  4 +--
 fontconfig/fontconfig.h |  3 ++
 src/fcdir.c             | 86
 +++++++++++------------------------------------
 src/fcfreetype.c        | 64 ++++++++++++++++++++++++++++++++++-
 6 files changed, 114 insertions(+), 133 deletions(-)

commit c524522bb45f71dfeaa8fd1ec277537dd6e85afa
Merge: 339de16 8b46a51
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 17:10:03 2017 -0400

    Merge branch 'faster'

    Results in 5x to 10x speedup in scanning.

    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=64766

commit 8b46a518bda8ecb3c5e2dfb0c1e5fda99e40aa3e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 17:08:08 2017 -0400

    Update documentation for removal of blanks

    Patch from Jerry Casiano.

 doc/fcblanks.fncs         | 14 ++++++++------
 doc/fcconfig.fncs         |  7 ++-----
 doc/fcfreetype.fncs       | 17 +++++++++--------
 doc/fontconfig-devel.sgml | 10 ++++++++++
 4 files changed, 29 insertions(+), 19 deletions(-)

commit a8bbbfb601b6d0394525262c543a18bd7699b684
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 18:30:43 2017 +0100

    Minor

 src/fcfreetype.c | 21 ++++++++++-----------
 1 file changed, 10 insertions(+), 11 deletions(-)

commit 60b2cf8e4cf5036442c345c90fcf43f548d11d28
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 17:40:06 2017 +0100

    Call FT_Get_Advance() only as long as we need to determine font
    width type

 src/fcfreetype.c | 23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit ad0a82b8f85535862ba816d469059884564e5c58
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 17:19:42 2017 +0100

    Inline FcFreeTypeCheckGlyph()

 src/fcfreetype.c | 64
 +++++++++++++++++++++++++-------------------------------
 1 file changed, 28 insertions(+), 36 deletions(-)

commit 1af7518583196dc0638ef80ff204936c54f19619
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 17:15:07 2017 +0100

    Simplify advance-width calculations

 src/fcfreetype.c | 34 +++++++++++++---------------------
 1 file changed, 13 insertions(+), 21 deletions(-)

commit 6f98286e15a91bf8d76eb2c09f1edf3f1fedc633
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 17:07:23 2017 +0100

    Use inline functions instead of macros for a couple of things

 src/fcfreetype.c | 11 +++++++----
 src/fcint.h      |  1 -
 2 files changed, 7 insertions(+), 5 deletions(-)

commit 15eba74ffe85d13ecafd032fe44bbabe26670f8c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 17:01:56 2017 +0100

    Use multiplication instead of division

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ac802955cd26ba9175b5be36ca653c0904c9723a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 16:40:40 2017 +0100

    Remove unneeded check

    FcFreeTypeCheckGlyph() has only one call-site left, and that
    checks for
    glyph != 0 already.

 src/fcfreetype.c | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit d7f5332410af2dff387dec9597c4c71ae729747b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 16:39:29 2017 +0100

    Move variables to narrower scope and indent

 src/fcfreetype.c | 118
 +++++++++++++++++++++++++++----------------------------
 1 file changed, 58 insertions(+), 60 deletions(-)

commit 894e5675c89cd081dcacbb6c3a0d8b81424c4ad6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 16:36:12 2017 +0100

    Mark more parameters FC_UNUSED

 src/fccfg.c      | 12 ++++++------
 src/fcfreetype.c |  6 +++---
 2 files changed, 9 insertions(+), 9 deletions(-)

commit f5bea1e6021bfa7d454ea774fd163039ad2c7650
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 16:33:53 2017 +0100

    Remove blanks support from fc-scan

 fc-scan/fc-scan.c    | 18 ++++--------------
 fc-scan/fc-scan.sgml | 14 +-------------
 2 files changed, 5 insertions(+), 27 deletions(-)

commit 8f4c4d278d013f6cc69ba7d7bf0f8aed11398dfb
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 16:31:52 2017 +0100

    Remove blanks facility from the library

    XML parser does not accept it anymore either.

 Makefile.am                    |   2 +-
 configure.ac                   |   1 -
 fc-blanks/Makefile.am          |  46 ------------
 fc-blanks/fc-blanks.py         | 160
 -----------------------------------------
 fc-blanks/fcblanks.tmpl.h      |  25 -------
 fc-blanks/list-unicodeset.html | 119 ------------------------------
 src/Makefile.am                |   1 -
 src/fcblanks.c                 | 108 ----------------------------
 src/fccfg.c                    |  65 +++++++++--------
 src/fcdir.c                    |  28 +++-----
 src/fcint.h                    |  15 ----
 src/fcxml.c                    |  54 --------------
 12 files changed, 46 insertions(+), 578 deletions(-)

commit 3bd4dd27bd673950e47ccdfd58b798abc580b6a0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 16:17:17 2017 +0100

    Remove fc-glyphname

 Makefile.am                     |   2 +-
 configure.ac                    |   1 -
 fc-glyphname/Makefile.am        |  33 ----
 fc-glyphname/fc-glyphname.c     | 325
 ----------------------------------------
 fc-glyphname/fcglyphname.tmpl.h |  25 ----
 fc-glyphname/zapfdingbats.txt   | 212 --------------------------
 src/Makefile.am                 |   3 -
 7 files changed, 1 insertion(+), 600 deletions(-)

commit c7ef8808c441c89fe16183fbfdca291f50fc3ec1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 15:17:34 2017 +0100

    Remove unused variable

 src/fcfreetype.c | 7 -------
 1 file changed, 7 deletions(-)

commit 16d779115982012db0c93d8c4c735a9fb7a57dfb
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 15:13:34 2017 +0100

    Remove use of psnames for charset construction

    This is ancient.  No font we care baout uses them.  Kill.

    This also makes fc-glyphname machinery obsolete.  Should be removed.

 src/fcfreetype.c | 179
 -------------------------------------------------------
 1 file changed, 179 deletions(-)

commit 82d6286657dc12ce42a9c67cae1546543e44f89e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 15:03:57 2017 +0100

    Remove check that cannot fail

 src/fcfreetype.c | 18 ------------------
 1 file changed, 18 deletions(-)

commit f309819d77bffaf802bdd9cd227c2a5bcbda0334
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 15:00:55 2017 +0100

    Remove a few unused blanks parameters

    The entire blanks thingy is now unused.  We should remove more of it.

 src/fcfreetype.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e517886dedb4013951325a6b8670c39c2c69c837
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 14:59:26 2017 +0100

    Remove unnecessary check

    Argument advance is never set to NULL coming into this function.

 src/fcfreetype.c | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 5f6c0594f97f53e9b0be8341c790bd97023ef443
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 14:57:03 2017 +0100

    Minor: adjust debug output

    Ignore control chars for purpose of emptiness check.  I *think*
    U+0000 and U+000D
    are rendered empty, but since they are not in blanks, for now just
    ignore them.

 src/fcfreetype.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 659afb2987b5fdc202690678b563ef05acdb9686
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 14:43:16 2017 +0100

    Add back code for choosing strike, and cleanup

    The FT_Select_Size() call is important for bitmap-only fonts.
    Put it back.  It was removed in
    e327c4e54544dac5415e8864e80d6b75a0c900fd
    Remove some unused abstractions.

 src/fcfreetype.c | 46 +++++++++++++++++++---------------------------
 1 file changed, 19 insertions(+), 27 deletions(-)

commit cd4043da0dfd61da73473b2f00d5e3a78ad13bec
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 12:22:42 2017 +0100

    Check for non-empty outline for U+0000..U+001F

    See comment for reason.

 src/fcfreetype.c | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 028b91c781681be077066f1f1e86386f3106792f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Aug 3 17:40:01 2017 +0100

    Don't even check loca for glyph outline detection

    Basically we trust the font cmap table now...

    New numbers:

    behdad:src 0$ time fc-scan ~/fonts/ > after-noloca

    real    0m55.788s
    user    0m15.836s
    sys     0m17.008s
    behdad:src 0$
    behdad:src 0$ time fc-scan ~/fonts/ > after-noloca

    real    0m24.794s
    user    0m12.164s
    sys     0m12.420s

    Before this change it was:

    behdad:src 130$ time fc-scan ~/fonts/ > after

    real    0m24.825s
    user    0m12.408s
    sys     0m11.356s

    Not any faster!  I suppose most time is being spent in loading cmap
    and advances now.
    I'll see about loading hmtx ourselves.

    With I/O numbers.  Before:

    behdad:src 0$ \time fc-scan ~/fonts/ > after
    11.66user 12.17system 0:24.03elapsed 99%CPU (0avgtext+0avgdata
    487684maxresident)k
    2320inputs+50480outputs (21major+11468549minor)pagefaults 0swaps

    after:

    behdad:src 130$ \time fc-scan ~/fonts/ > after-noloca
    11.94user 11.99system 0:24.11elapsed 99%CPU (0avgtext+0avgdata
    487704maxresident)k
    16inputs+50688outputs (0major+11464386minor)pagefaults 0swaps

    We are definitely doing a lot less I/O.  Surprisingly less in fact.
    I don't get it.

 src/fcfreetype.c | 109
 ++++---------------------------------------------------
 1 file changed, 7 insertions(+), 102 deletions(-)

commit ab02a49490ec0b0c8fc8f73ee5b4198a174b456d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Aug 3 16:49:49 2017 +0100

    Instead of loading glyphs (with FreeType), just check loca table

    Part of https://bugs.freedesktop.org/show_bug.cgi?id=64766#c47

    This is the approach introduced in
    https://bugs.freedesktop.org/show_bug.cgi?id=64766#c30

    Testing it with 11GB worth of stuff, before/after:

    behdad:src 130$ time fc-scan ~/fonts/ > before

    real    2m18.428s
    user    1m17.008s
    sys     0m20.576s

    behdad:src 0$ time fc-scan ~/fonts/ > after

    real    1m12.130s
    user    0m18.180s
    sys     0m19.952s

    Running the after case a second time is significantly faster:

    behdad:src 130$ time fc-scan ~/fonts/ > after

    real    0m24.825s
    user    0m12.408s
    sys     0m11.356s

    Next I'm going to try to not even read loca...

 src/fcfreetype.c | 167
 ++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 111 insertions(+), 56 deletions(-)

commit 339de167c71264c18775d96160d1504192a89d11
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 17:01:57 2017 -0400

    [fc-query] Fix linking order

 fc-query/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b56207a069be2574df455ede0a6ab61f44d5ca2b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 13:25:46 2017 -0400

    Remove stray printf()

    Ouch.

 fc-query/fc-query.c | 1 -
 1 file changed, 1 deletion(-)

commit 6fb9b8fe49a2862cccdd25c278f437a620aaac5d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 12 11:42:18 2017 -0400

    Minor

 src/fcfreetype.c | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 4d3410bd08a0f61272ca1dbb1dd27ac8c5f222de
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Sep 9 22:34:36 2017 +0900

    Bump version to 2.12.5

 README                  | 41 +++++++++++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 41 insertions(+), 4 deletions(-)

commit 37339b7b2c804df4306e80a5cf0d33bc11a33be6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Sep 9 22:34:21 2017 +0900

    Update libtool versioning

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 36a3ced9495c236beb1676efb8fda4b1292179a7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Sep 9 22:17:16 2017 +0900

    Update docs

 doc/fcconfig.fncs  | 2 +-
 doc/fcpattern.fncs | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 92da67a9fcf9fa48ebb40f2032d47291d5427d41
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Aug 25 11:46:53 2017 +0900

    fc-blanks: fall back to the static data available in repo if
    downloaded data is corrupted

    https://bugs.freedesktop.org/show_bug.cgi?id=102399

 fc-blanks/fc-blanks.py | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 12cf4c17db76bf4e30c0f94f301ac5b3be7e070c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 23 13:39:15 2017 +0900

    Update similar to emoji's

 conf.d/45-generic.conf | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 69918f0eaa2d337611d793ad9ecfd17683d87974
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 23 12:36:15 2017 +0900

    Polish und_zmth.orth more for Cambria Math and Minion Math

 fc-lang/und_zmth.orth | 14 --------------
 1 file changed, 14 deletions(-)

commit a7fcaed61e438209080fc34fb579ca59ed9f3d4c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 23 11:21:10 2017 +0900

    Polish und_zmth.orth for Libertinus Math

 fc-lang/und_zmth.orth | 32 --------------------------------
 1 file changed, 32 deletions(-)

commit 53c4440ee35d4ac6078cc064df78b7b5b42c4db4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 22 20:37:30 2017 +0900

    Add und_zmth.orth to support Math in lang

 fc-lang/Makefile.am   |   3 +-
 fc-lang/und_zmth.orth | 190
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 192 insertions(+), 1 deletion(-)

commit ee609da3582f46151dd86b30d473833067e83c39
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 22 20:30:34 2017 +0900

    Fix to work the debugging option on fc-validate

 src/fclang.c | 3 +++
 1 file changed, 3 insertions(+)

commit 5efa1137b41e20bfaef7346f79079f38add25572
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 22 17:47:14 2017 +0900

    Accept 4 digit script tag in FcLangNormalize().

 src/fclang.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 651f1227646174b5be0186b4b6cdff3a7134d869
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 15 18:20:15 2017 +0900

    Do not ship fcobjshash.gperf in archive

 src/Makefile.am | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit dc56ff80408b16393d645a55788b023f1de27bc9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sun Aug 13 16:18:35 2017 +0900

    Keep the same behavior to the return value of FcConfigParseAndLoad

    reverting the behavior accidentally changed by 12b750

    https://bugs.freedesktop.org/show_bug.cgi?id=102141

 src/fcxml.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 41bc5eab84fffbb427d929a5dc712348b635122c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 8 15:34:27 2017 -0700

    Fix weight mapping

    Ouch!

 src/fcweight.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8b2910319610c90dcba021788b0739cf627c3ade
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 14:22:30 2017 +0100

    Fix warning

 src/fclang.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 484cb300eadf54a1e2248f8bd4e7717d6d3f7d31
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 4 14:13:56 2017 +0100

    Fix sign-difference compare warning

 src/fcfreetype.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9bb36b42c9df42fb813d5fb3387d515667e859e0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Aug 3 17:52:28 2017 +0100

    Minor

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 064440d59797b1158badfb9144f3188cda11a791
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Aug 3 11:02:32 2017 +0100

    Ignore 'und-' prefix for in FcLangCompare

    See https://bugs.freedesktop.org/show_bug.cgi?id=94551#c54

    For example, matching for :lang=und-zsye matches emoji font,
    but searching
    for :lang=und-xyz wouldn't match an emoji font anymore.  Neither does
    :lang-und.

 src/fclang.c | 23 ++++++++++++++++++++---
 1 file changed, 20 insertions(+), 3 deletions(-)

commit cc8442dec85e9d416436d19eeae1783f2d3008f0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Aug 3 10:36:01 2017 +0100

    Adjust color emoji config some more

    Seems to work now.  Either asking for family emoji, or :lang=und-zsye
    returns
    the preferred color emoji font available, or just any color emoji
    font if none
    of the preferred ones was found.

 conf.d/45-generic.conf | 35 ++++++++++++++---------------------
 conf.d/60-generic.conf | 21 +++++++++++++++++++++
 2 files changed, 35 insertions(+), 21 deletions(-)

commit 26fdd3e4c6428ef91f9afb40ea14a5e7fd6028e5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 2 16:48:33 2017 +0100

    Remove unneeded codepoints

 fc-lang/und_zsye.orth | 220
 +-------------------------------------------------
 1 file changed, 1 insertion(+), 219 deletions(-)

commit ef0b5f89013cdbb4c1c582aef7ed21fb40354cfd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 2 16:01:22 2017 +0100

    Add more code points to und-zsye.orth

 fc-lang/und_zsye.orth | 123
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 123 insertions(+)

commit 7ef17238361a7e49588924ce7aeb7ad9c3748bd5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 2 15:41:26 2017 +0100

    Minor

 conf.d/45-generic.conf | 63
 +++++++++++++++++++++++++++++---------------------
 conf.d/60-generic.conf |  1 +
 2 files changed, 38 insertions(+), 26 deletions(-)

commit 9978203bf16a0dfc1aa1c599989945d561628790
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 2 15:31:15 2017 +0100

    [fc-lang] Allow using ".." instead of "-" in ranges

    Allows copying emoji-data.txt and other Unicode data files intact.

 fc-lang/fc-lang.c     | 5 +++++
 fc-lang/und_zsye.orth | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 1bb8e691bd535859b1795db2554a8b1efb1d0372
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 1 10:50:55 2017 +0100

    Add und-zsye.orth to support emoji in lang

 conf.d/45-generic.conf |  35 +++++++
 fc-lang/Makefile.am    |   3 +-
 fc-lang/und_zsye.orth  | 246
 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/fclang.c           |   2 +-
 4 files changed, 284 insertions(+), 2 deletions(-)

commit 2073477e051e66afa6ce5c447b6ebc75dbe32636
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 2 13:34:01 2017 +0100

    Add EmojiOne Mozilla font

 conf.d/45-generic.conf | 8 ++++++--
 conf.d/60-generic.conf | 5 +++--
 2 files changed, 9 insertions(+), 4 deletions(-)

commit 368fe08f970d7f8d3b49f1350ca14b0915a754b3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 2 13:04:36 2017 +0100

    Add Twitter Color Emoji

    https://bugs.freedesktop.org/show_bug.cgi?id=94551#c33

 conf.d/45-generic.conf | 4 ++++
 conf.d/60-generic.conf | 1 +
 2 files changed, 5 insertions(+)

commit e5a51c899480c3bd99c36e49d1c24932f6a08810
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 1 14:41:02 2017 +0100

    [fc-query] Support listing named instances

 fc-query/Makefile.am |  2 +-
 fc-query/fc-query.c  | 46 +++++++++++++++++++++++++++++++++++++---------
 2 files changed, 38 insertions(+), 10 deletions(-)

commit d7f3437ade668c60a7e31f93669b73680be6512a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jul 31 17:17:16 2017 +0100

    Add generic family matching for "emoji" and "math"

    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=94551

 conf.d/45-generic.conf | 67
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 conf.d/60-generic.conf | 37 ++++++++++++++++++++++++++++
 conf.d/Makefile.am     |  4 +++
 3 files changed, 108 insertions(+)

commit 241cc869327ec07774ff555e157db1bea73dc485
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jul 31 15:56:06 2017 +0100

    Pass --pic to gperf

 src/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b6af242e1eb0a6456fe9ab9a99efa3ba42f83c6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 11 15:34:50 2017 +0900

    Fix gcc warnings with enabling libxml2

 src/fcxml.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit db2825eed54496f4e20f7375d71d6a92b27926a2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 11 13:19:16 2017 +0900

    Bug 101726 - Sans config pulls in Microsoft Serifed font

    Update 65-nonlatin.conf to have better choice of the sans-serif
    fonts for Chinese

    Patch from Joseph Wang

    https://bugs.freedesktop.org/show_bug.cgi?id=101726

 conf.d/65-nonlatin.conf | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 12b7501bad3ed4d7819b00a27a9c021e7d120aa0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jun 11 17:30:04 2015 +0900

    Add FcConfigParseAndLoadFromMemory() to load a configuration from
    memory.

    https://bugs.freedesktop.org/show_bug.cgi?id=78452

 doc/fcconfig.fncs       |  16 ++++
 fontconfig/fontconfig.h |   5 ++
 src/fcxml.c             | 206
 ++++++++++++++++++++++++++++++------------------
 3 files changed, 152 insertions(+), 75 deletions(-)

commit ee2000494c4c8367fe20593709a979d158687855
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 28 12:48:40 2015 +0900

    Add FcPatternGetWithBinding() to obtain the binding type of the
    value in FcPattern.

    https://bugs.freedesktop.org/show_bug.cgi?id=19375

 doc/fcpattern.fncs      | 17 +++++++++++++++++
 fontconfig/fontconfig.h | 12 +++++++++++-
 src/fcint.h             |  9 +++------
 src/fcpat.c             | 18 ++++++++++++++++--
 4 files changed, 47 insertions(+), 9 deletions(-)

commit 01085e07857cddf382db736a9e061f92f50397d6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jul 5 17:37:26 2017 +0900

    Bump version to 2.12.4

 README                  | 33 +++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 33 insertions(+), 4 deletions(-)

commit 047b42fccab0dc99726356a9c8c7c50aea806f60
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jul 5 17:35:28 2017 +0900

    Fix distcheck error

 src/Makefile.am | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit c35e8df46dc041596674083772e59d5934635ae2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jul 5 17:20:00 2017 +0900

    Update libtool revision

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e831f12a38b490cb832830a582a54d8647884988
Author: Josselin Mouette <joss@debian.org>
Date:   Tue Jun 27 11:34:38 2017 +0200

    Treat C.UTF-8 and C.utf8 locales as built in the C library.

    https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=717423
    https://bugs.freedesktop.org/show_bug.cgi?id=101605

 src/fclang.c | 2 ++
 1 file changed, 2 insertions(+)

commit 5d8ee5231ab1ea6f36d3103b4de24712c3ae2f64
Author: Helmut Grohne <helmut@subdivi.de>
Date:   Tue Jun 27 11:06:14 2017 +0200

    fix cross compilation

    Even though fontconfig's build system tries to build edit-sgml
    with the
    build arch compiler, it gets the runes wrong and actually builds
    it with
    the host arch compiler. This patch makes it use the right compiler.

    Bug-Debian: https://bugs.debian.org/779461
    https://bugs.freedesktop.org/show_bug.cgi?id=101554

 doc/Makefile.am | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 60e1fe550ae5d945c45a7ad04b46ec78da0309aa
Author: Florent Rougon <f.rougon@free.fr>
Date:   Thu Jun 8 16:13:29 2017 +0200

    FcCharSetFreezeOrig(), FcCharSetFindFrozen(): use all buckets of
    freezer->orig_hash_table

    As written at:

      https://lists.freedesktop.org/archives/fontconfig/2017-June/005929.html

    I think FcCharSetFreezeOrig() and FcCharSetFindFrozen() should use
    the %
    operator instead of & when computing the bucket index for
    freezer->orig_hash_table, otherwise at most 8 buckets among the 67
    available (FC_CHAR_SET_HASH_SIZE) are used.

    Another way would be to change FC_CHAR_SET_HASH_SIZE to be of the form
    2**n -1 (i.e., a power of two minus one). In such a case, the & and %
    operators would be equivalent.

 src/fccharset.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7940ada7a89115455b493e64f961e9c3d2cc5045
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 12 13:36:56 2017 +0900

    Add a testcase for Bug#131804

 test/Makefile.am     |   4 ++
 test/test-bz131804.c | 136
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 140 insertions(+)

commit b0a5b4b48e9c94bcebe902fb88fbe447f2ccd04e
Author: Florent Rougon <f.rougon@free.fr>
Date:   Thu Jun 8 09:34:53 2017 +0200

    FcLangSetCompare(): fix bug when two charsets come from different
    "buckets"

    In fcLangCountrySets, it may happen that two charsets for the same
    language but different territories are found in different FcChar32
    "buckets" (different "columns" on the same line). This is currently
    the
    case for the following pairs:

      mn-cn  and mn-mn
      pap-an and pap-aw

    The FcLangSetCompare() code so far used to return FcLangDifferentLang
    instead of FcLangDifferentTerritory when comparing:

      an FcLangSet containing only mn-cn with one containing only mn-mn

    or

      an FcLangSet containing only pap-an with one containing only pap-aw

    This commit fixes this problem.

 src/fclang.c | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 209619b1a63f415320c8d379efc0525273c7b575
Author: Florent Rougon <f.rougon@free.fr>
Date:   Wed Jun 7 01:34:51 2017 +0200

    Fix erroneous test on language id in FcLangSetPromote()

    FcLangSetIndex() indicates "not found" with a non-negative return
    value.
    Return value 0 doesn't imply "not found", it rather means "language
    found at index 0 in fcLangCharSets".

 src/fclang.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4970c7e810fec29b5ad40a595850288f14f48e37
Author: Florent Rougon <f.rougon@free.fr>
Date:   Tue Jun 6 23:32:28 2017 +0200

    Fix an off-by-one error in FcLangSetIndex()

    This commit fixes a bug that can be reproduced like this:
      - remove all languages starting with 'a' in fc-lang/Makefile.am (in
        ORTH's definition);
      - rebuild fontconfig with this change (-> new fc-lang/fclang.h);
      - create an FcLangSet 'ls1' that contains at least the first
      language
        from fcLangCharSets (i.e., the first *remaining* in lexicographic
        order); let's assume it is "ba" for the sake of this description;
      - create an FcLangSet 'ls2' that only contains the language "aa"
      (any
        language starting with 'a' should work as well);
      - check the return value of FcLangSetContains(ls1, ls2);

    The expected return value is FcFalse, however it is FcTrue if you use
    the code before this commit.

    What happens is that FcLangSetIndex() returns 0, because this is the
    index of the first slot after the not-found language "aa" in
    fcLangCharSets (since we removed all languages starting with 'a').
    However, this index happens to be non-negative, therefore
    FcLangSetContainsLang() mistakenly infers that the language "aa" was
    found in fcLangCharSets, and thus calls FcLangSetBitGet(ls1, 0), which
    returns FcTrue since we've put the first remaining language "ba"
    in the
    'ls1' language set.

    The "return -low;" statement previously in FcLangSetIndex() was
    inconsistent with the final return statement. "return -(low+1);" fixes
    this inconsistency as well as the incorrect behavior described above.

 src/fclang.c | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 02161ef2d6eda4e9c0ad068058d51a67a09af92f
Author: Florent Rougon <f.rougon@free.fr>
Date:   Tue Jun 6 11:10:18 2017 +0200

    fc-lang: gracefully handle the case where the last language initial
    is < 'z'

    FcLangSetIndex() contains code like this:

      low = fcLangCharSetRanges[firstChar - 'a'].begin;
      high = fcLangCharSetRanges[firstChar - 'a'].end;
      /* no matches */
      if (low > high)

    The assumption behind this test didn't hold before this commit, unless
    there is at least one language name that starts with 'z' (which is
    thankfully the case in our world :-). If the last language name in
    lexicographic order starts for instance with 'x', this change ensures
    that fcLangCharSetRanges['y' - 'a'].begin and
         fcLangCharSetRanges['z' - 'a'].begin
    are equal to NUM_LANG_CHAR_SET, in order to make the above assumption
    correct in all cases.

 fc-lang/fc-lang.c | 3 +++
 1 file changed, 3 insertions(+)

commit c37eeb8f1ff2cb8655a27545ca32cc50ab70e8d6
Author: Florent Rougon <f.rougon@free.fr>
Date:   Mon Jun 5 10:58:41 2017 +0200

    FcCharSetHash(): use the 'numbers' values to compute the hash

    Before this commit, FcCharSetHash() repeatedly used the address of the
    'numbers' array of an FcCharSet to compute the FcCharSet hash, instead
    of the value of each array element. This is not good for even
    spreading
    of the FcCharSet objects among the various buckets of the hash table
    (and should thus reduce performance). This bug appears to have been
    mistakenly introduced in commit
    cd2ec1a940888ebcbd323a8000d2fcced41ddf9e (June 2005).

 src/fccharset.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28139816d62b8444ca61a000a87c71e59fef104d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 5 21:00:36 2017 +0900

    Fix the build failure when srcdir != builddir and have gperf 3.1 or
    later installed

 src/Makefile.am | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 5c49354a782870d632884174f10c7fb10351c667
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Jun 3 19:02:53 2017 +0900

    Force regenerate fcobjshash.h when updating Makefile

    To avoid a situation of mismatching the declaration of hash function

 src/Makefile.am | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 79058f4e911487275323e93146e1e93ad15afcd8
Author: Masamichi Hosoda <trueroad@trueroad.jp>
Date:   Wed Jan 11 20:42:56 2017 +0900

    Bug 99360 - Fix cache file update on MinGW

    On Windows, opened or locked files cannot be removed.
    Since fontconfig locked an old cache file while updating the file,
    fontconfig failed to replace the file with updated file on Windows.

    This patch makes fontconfig does not lock the old cache file
    while updating it on Windows.

 src/fcdir.c | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 7d949ececdff18a1718eba6b7cb9f63f84486a10
Author: Jan Alexander Steffens (heftig) <jan.steffens@gmail.com>
Date:   Wed May 31 21:38:26 2017 +0200

    Fix testing PCF_CONFIG_OPTION_LONG_FAMILY_NAMES (CFLAGS need to
    be right)

 configure.ac | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit 690f822a1b26b089d86e9843746cab80f3c07fe3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed May 31 20:10:00 2017 +0900

    Bump version to 2.12.3

 README                  | 7 ++++++-
 configure.ac            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 3 files changed, 8 insertions(+), 3 deletions(-)

commit d33be230293978ad3f94b184f2c2770c108269c2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed May 31 18:25:01 2017 +0900

    Fix make check fail with freetype-2.7.1 and 2.8 with
    PCF_CONFIG_OPTION_LONG_FAMILY_NAMES enabled.

 configure.ac     | 13 +++++++++++--
 test/Makefile.am | 10 +++++++---
 2 files changed, 18 insertions(+), 5 deletions(-)

commit 3072f14bddfeb0adba52bce26d7b752207a2cffb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed May 31 16:39:44 2017 +0900

    Bump version to 2.12.2

 README                  | 26 ++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 26 insertions(+), 4 deletions(-)

commit 6c4e11a73b300963ad822838500ecdcb6a50625b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed May 31 16:39:39 2017 +0900

    Update libtool revision

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ae9900b8d83bf5ddef22b4d49ab033dcae29bb66
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed May 31 13:55:33 2017 +0900

    Bug 101202 - fontconfig FTBFS if docbook-utils is installed

    https://bugs.freedesktop.org/show_bug.cgi?id=101202

 doc/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e4198674dee1c14bec70016ccf0608c69c308cc
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 24 13:11:08 2017 +0900

    Add the description of FC_LANG envvar to the doc

 doc/fontconfig-user.sgml | 4 ++++
 1 file changed, 4 insertions(+)

commit 5ca2b1e6dcb8c7d2b4b0c19218933b10f3efd813
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Mar 21 12:25:45 2017 +0900

    Update a bit for the changes in FreeType 2.7.1

    Our test case relies on the outcome of the family property from
    freetype though,
    it was changed in 2.7.1:

      - PCF family names are made more `colourful'; they now include the
        foundry  and information  whether they contain  wide characters.
        For example,  you no longer get `Fixed' but  rather `Sony Fixed'
        or `Misc Fixed Wide'.

    https://bugs.freedesktop.org/show_bug.cgi?id=47704

 configure.ac         |  9 +++++++++
 test/Makefile.am     |  4 ++++
 test/out271.expected |  8 ++++++++
 test/run-test.sh     |  5 +++--
 test/run-test271.sh  | 24 ++++++++++++++++++++++++
 5 files changed, 48 insertions(+), 2 deletions(-)

commit abdb6d658e1a16410dd1c964e365a3ebd5039e7c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 1 19:48:02 2017 +0900

    Fix the build issue on GNU/Hurd

    PATH_MAX isn't defined on GNU/Hurd. according to the porting
    guidelines
    (https://www.gnu.org/software/hurd/hurd/porting/guidelines.html)
    allocate a memory dynamically instead of relying on the length of
    a string with PATH_MAX.

    https://bugs.freedesktop.org/show_bug.cgi?id=97512

 src/fcdefault.c | 34 +++++++++++++++++++++++++++-------
 src/fcint.h     |  6 ++++++
 src/fcstat.c    | 12 +++++++++++-
 3 files changed, 44 insertions(+), 8 deletions(-)

commit 9878b306f6c673d3d6cd9db487f67eb426cc03df
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Feb 23 21:39:10 2017 +0900

    Fix the build issue with gperf 3.1

    To support the one of changes in gperf 3.1:
    * The 'len' parameter of the hash function and of the lookup function
    is now
      of type 'size_t' instead of 'unsigned int'. This makes it safe to
      call these
      functions with strings of length > 4 GB, on 64-bit machines.

 configure.ac | 20 ++++++++++++++++++++
 src/fcobjs.c |  4 ++--
 2 files changed, 22 insertions(+), 2 deletions(-)

commit 1ab5258f7c2abfafcd63a760ca08bf93591912da
Author: Khem Raj <raj.khem@gmail.com>
Date:   Wed Dec 14 16:11:05 2016 -0800

    Avoid conflicts with integer width macros from TS 18661-1:2014

    glibc 2.25+ has now defined these macros in <limits.h>
    https://sourceware.org/git/?p=glibc.git;a=commit;h=5b17fd0da62bf923cb61d1bb7b08cf2e1f1f9c1a

    Create an alias for FC_CHAR_WIDTH for ABI compatibility

    Signed-off-by: Khem Raj <raj.khem@gmail.com>

 fontconfig/fontconfig.h | 3 ++-
 src/fcobjs.h            | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 0e9b2a152729bfd457e656a9258a06cbfdac1bae
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 14 20:14:35 2016 +0900

    Fix FcCacheOffsetsValid()

    Validation fails when the FcValueList contains more than font->num.
    this logic was wrong because font->num contains a number of the
    elements
    in FcPatternElt but FcValue in FcValueList.

    This corrects 7a4a5bd7.

    Patch from Tobias Stoeckmann

 src/fccache.c | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit 883b5cf48b0f699ed074b4d9b145b4bbc763b3b3
Author: Masamichi Hosoda <trueroad@trueroad.jp>
Date:   Wed Aug 24 23:50:10 2016 +0900

    Update aliases for URW June 2016

    http://git.ghostscript.com/?p=ghostpdl.git;a=commit;h=c8342b4a7b6cdcc4cb1261bf2b008f6df257b5c6
    http://git.ghostscript.com/?p=urw-core35-fonts.git;a=commit;h=79bcdfb34fbce12b592cce389fa7a19da6b5b018

 conf.d/30-metric-aliases.conf | 62
 +++++++++++++++++++++++++++++++++++--------
 conf.d/30-urw-aliases.conf    | 13 +++++++--
 conf.d/45-latin.conf          |  4 +++
 conf.d/60-latin.conf          |  1 +
 4 files changed, 67 insertions(+), 13 deletions(-)

commit 815cc98d6a7df142c8f1a9a2c1120650da278db0
Author: Masamichi Hosoda <trueroad@trueroad.jp>
Date:   Wed Aug 24 21:27:32 2016 +0900

    Fix PostScript font alias name

    `Helvetica Condensed' is not PostScript base 35 fonts.
    `Helvetica Narrow' is PostScript base 35 fonts.

 conf.d/30-metric-aliases.conf | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 094de3037b9e6e040fa0566593620525e534a7cd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Sep 7 11:39:11 2016 +0900

    Don't call perror() if no changes happens in errno

 fc-cat/fc-cat.c | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 0db7552e001f3589c6372f33e09d511bc565c499
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Wed Aug 10 23:58:21 2016 -0700

    Correct cache version info in doc/fontconfig-user.sgml

    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

 doc/fontconfig-user.sgml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6b222c52cdede497ffed629853f947948052dfc7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Aug 5 14:47:02 2016 +0900

    Bump version to 2.12.1

 README                  | 17 +++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 17 insertions(+), 4 deletions(-)

commit 68869149e36ae546ec428f345a552a6ad093e953
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Aug 5 14:45:36 2016 +0900

    Update libtool revision

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7a4a5bd7897d216f0794ca9dbce0a4a5c9d14940
Author: Tobias Stoeckmann <tobias@stoeckmann.org>
Date:   Sat Jun 25 19:18:53 2016 +0200

    Properly validate offsets in cache files.

    The cache files are insufficiently validated. Even though the magic
    number at the beginning of the file as well as time stamps are
    checked,
    it is not verified if contained offsets are in legal ranges or are
    even pointers.

    The lack of validation allows an attacker to trigger arbitrary free()
    calls, which in turn allows double free attacks and therefore
    arbitrary
    code execution. Due to the conversion from offsets into pointers
    through
    macros, this even allows to circumvent ASLR protections.

    This attack vector allows privilege escalation when used with setuid
    binaries like fbterm. A user can create ~/.fonts or any other
    system-defined user-private font directory, run fc-cache and adjust
    cache files in ~/.cache/fontconfig. The execution of setuid binaries
    will
    scan these files and therefore are prone to attacks.

    If it's not about code execution, an endless loop can be created by
    letting linked lists become circular linked lists.

    This patch verifies that:

    - The file is not larger than the maximum addressable space, which
      basically only affects 32 bit systems. This allows out of boundary
      access into unallocated memory.
    - Offsets are always positive or zero
    - Offsets do not point outside file boundaries
    - No pointers are allowed in cache files, every "pointer or offset"
      field must be an offset or NULL
    - Iterating linked lists must not take longer than the amount
    of elements
      specified. A violation of this rule can break a possible endless
      loop.

    If one or more of these points are violated, the cache is recreated.
    This is current behaviour.

    Even though this patch fixes many issues, the use of mmap() shall be
    forbidden in setuid binaries. It is impossible to guarantee with these
    checks that a malicious user does not change cache files after
    verification. This should be handled in a different patch.

    Signed-off-by: Tobias Stoeckmann <tobias@stoeckmann.org>

 src/fccache.c | 81
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 80 insertions(+), 1 deletion(-)

commit 99645ff9eecbf2178199aa940703fbe8ed275867
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jul 8 14:16:49 2016 +0900

    Bug 96676 - Check range of FcWeightFromOpenType argument

    Fix a crash issue when FcWeightFromOpenType() gets a number more
    than it expects.

 src/fcweight.c      |  1 +
 test/Makefile.am    |  4 ++++
 test/test-bz96676.c | 32 ++++++++++++++++++++++++++++++++
 3 files changed, 37 insertions(+)

commit a34db434c6a81f5286af07fabfef874492edb163
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jul 8 11:32:53 2016 +0900

    Fix some errors related to python3

 fc-blanks/fc-blanks.py | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 416cdd9d494fb040cc4f492a9c6ba23ca52ae250
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jul 8 11:14:34 2016 +0900

    Check python installed in autogen.sh

    python is required to build fontconfig from the scratch

 autogen.sh | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 5d74251986ee958cbc457d1f6b3d24d524051273
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jun 23 19:05:04 2016 +0900

    Update CaseFolding.txt to Unicode 9.0

 fc-case/CaseFolding.txt | 91
 ++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 86 insertions(+), 5 deletions(-)

commit 0ed1575917a28c6be56481509660bd783c7b6040
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jun 23 11:18:40 2016 +0900

    Add --with-default-hinting to configure

 conf.d/Makefile.am |  2 +-
 configure.ac       | 19 +++++++++++++++++++
 2 files changed, 20 insertions(+), 1 deletion(-)

commit 505712d1dcc52d410aa37cd2cffbc4ceb5048656
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jun 15 20:10:38 2016 +0900

    Bump version to 2.12.0

 README                  | 22 ++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  4 ++--
 3 files changed, 23 insertions(+), 5 deletions(-)

commit add5f7329f2c54304c203e818f38867de3c1e292
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jun 15 20:10:31 2016 +0900

    Remove unused code

 src/fcfreetype.c | 4 ----
 1 file changed, 4 deletions(-)

commit 600110ee8c3e9bdd18cd5bc27555d1f1114e4880
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jun 9 14:22:31 2016 +0900

    Add the static raw data to generate fcblanks.h

    https://bugs.freedesktop.org/show_bug.cgi?id=91406

 fc-blanks/fc-blanks.py         |  21 ++++++--
 fc-blanks/list-unicodeset.html | 119
 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 137 insertions(+), 3 deletions(-)

commit ea26c5e9f85fb03e89b144878d338d80979a9560
Author: Erik de Castro Lopo <erikd@mega-nerd.com>
Date:   Sat May 28 17:44:10 2016 +1100

    Fix a couple of minor memory leaks

    These fixes are needed for the test suite to pass when compiled
    with Address Sanitizer.

 src/fccache.c       | 2 ++
 test/test-bz89617.c | 2 ++
 2 files changed, 4 insertions(+)

commit 7441dbec0322f24d6f94bf31fc824cc08d3e9025
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 27 11:16:09 2016 +0900

    Bug 95481 - Build fails on Android due to broken lconv struct

 src/fcxml.c | 21 ++++++++++++++++-----
 1 file changed, 16 insertions(+), 5 deletions(-)

commit 3c2793a32e66fd5bee14da7cdb7db0a3f9128ac1
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu May 26 14:22:29 2016 +0900

    Correct one for the previous change

 conf.d/45-latin.conf | 4 ----
 1 file changed, 4 deletions(-)

commit b6cf1bcaf626b5c8e1efdf03006d18fb744d9b72
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed May 25 12:58:27 2016 +0900

    45-latin.conf: Add some Windows fonts to categorize them properly

    For Serif:
      Cambria, Constantia, Elephant, MS Serif

    For Sans Serif:
      Arial Unicode MS, Britannic, Calibri, Candara, Century Gothic,
      Corbel,
      Haettenschweiler, MS Sans Serif, Tahoma, Twentieth Century

    For Monospace:
      Consolas, Fixedsys, Terminal

 conf.d/45-latin.conf | 136
 +++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 104 insertions(+), 32 deletions(-)

commit d15c46d75eda4bc6009770a706d97956b5a7a31d
Author: Petr Filipsky <philodej@gmail.com>
Date:   Fri May 20 12:30:44 2016 +0000

    Fix memory leak in FcDirCacheLock

 src/fccache.c | 1 +
 1 file changed, 1 insertion(+)

commit 9ab7633f2f752203de75a902c5031b0cf4bbe548
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu May 19 11:11:46 2016 +0900

    Bug 95477 - FcAtomicLock fails when SELinux denies link() syscall
    with EACCES

    This is an issue on Android M, which denies non-root users access
    to link().

    Patch from Rodger Combs

 src/fcatomic.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 560506b3bbf2f829d57bdaa17add99367d6dedba
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 7 12:50:22 2016 +0900

    Update URL

 INSTALL | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0e837ae6ecc475b02d7114dc10480543d6be98ff
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 7 12:01:14 2016 +0900

    Modernize fc-blanks.py

    fc-blanks.py now works on both python2 and 3

 fc-blanks/fc-blanks.py | 27 +++++++++++++++------------
 1 file changed, 15 insertions(+), 12 deletions(-)

commit 13087e38ace4f092667ab08617ced1d559f3d2e2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 6 21:05:36 2016 +0900

    Bump version to 2.11.95

 README                  | 41 +++++++++++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 41 insertions(+), 4 deletions(-)

commit 0cfa146e6b41bc6b819fe0f37d0e2ff0a947eb3b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 6 21:04:42 2016 +0900

    Update libtool revision

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d179cbc2536af16cf0f4992e0a4b2d751437ee6c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 6 14:39:15 2016 +0900

    Revert "Workaround another race condition issue"

    This reverts commit f44bfad235e63bb792c38e16ae1fbd281ec1453b.

 src/fccache.c | 31 +------------------------------
 src/fcdir.c   | 31 ++++++-------------------------
 src/fcint.h   |  8 +-------
 3 files changed, 8 insertions(+), 62 deletions(-)

commit d05d083e9f87eb378b92e477d34a88061a572d86
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Mar 8 17:20:41 2016 -0800

    [GX] Improve weight mapping

    Align the 'wght' axis default value to OS/2 weight value and
    adjust accordingly.  This makes both default=1.0 and default=400
    models to work.

 src/fcfreetype.c | 15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit d709220d74c4ff6e609f35761b71d4d7136d02c1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Mar 8 17:20:28 2016 -0800

    Improve OpenType to Fontconfig weight mapping

 src/fcweight.c | 25 +++++++++++++++++++------
 1 file changed, 19 insertions(+), 6 deletions(-)

commit 27d61f1ddcda5543e9c6440a0f8794caa0b1eac7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Aug 9 00:59:31 2015 +0200

    [GX] Enumerate all named-instances in TrueType GX fonts

 src/fcdir.c | 19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit 00c8408c6a82a79388f8119c4afce6e721b693f7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Aug 9 09:06:37 2015 +0200

    [GX] Support instance weight, width, and style name

 src/fcfreetype.c | 74
 +++++++++++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 68 insertions(+), 6 deletions(-)

commit 28f62d1bb892e1c86eb0d5afaf125bfe0e34cbe9
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Aug 9 00:45:01 2015 +0200

    Call FcFreeTypeQueryFace() from fcdir.c, instead of FcFreeTypeQuery()

    Need for upcoming work.  No functional change expected.

 src/fcdir.c | 25 +++++++++++++++++++++----
 1 file changed, 21 insertions(+), 4 deletions(-)

commit d570a841a2aa9d770578aa149e43bb2e5bd0f2df
Author: Patrick Haller <patrick.haller@haller-consult.de>
Date:   Sat Jan 9 03:06:31 2016 +0100

    Optimizations in FcStrSet

    Applied optimizations:
    - skip duplicate check in FcStrSetAppend for values originating
    from readdir()
    - grow FcStrSet in 64-element bulks for local FcStrSets (FcConfig
    layout unaltered)

    Starting gedit is measured to

                            Unoptimized     Optimized
    user[s]                         0,806         0,579
    sys[s]                          0,062         0,062
    Total Instr Fetch Cost: 1.658.683.750   895.069.820
    Cachegrind D Refs:        513.917.619   312.000.436
    Cachegrind Dl Misses:       8.605.632     4.954.639

 src/fccache.c |  2 +-
 src/fccfg.c   |  4 ++--
 src/fcdir.c   |  6 +++---
 src/fcint.h   | 11 +++++++++++
 src/fcstr.c   | 47 +++++++++++++++++++++++++++++++++--------------
 src/fcxml.c   |  2 +-
 6 files changed, 51 insertions(+), 21 deletions(-)

commit 98434b3392172233094cac25ade7225c93da9f1c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Dec 2 11:31:50 2015 +0900

    Add hintstyle templates and make hintslight default

 conf.d/10-hinting-full.conf   | 13 +++++++++++++
 conf.d/10-hinting-medium.conf | 13 +++++++++++++
 conf.d/10-hinting-none.conf   | 13 +++++++++++++
 conf.d/10-hinting-slight.conf | 13 +++++++++++++
 conf.d/Makefile.am            |  5 +++++
 5 files changed, 57 insertions(+)

commit 04763135d47ae24a808fc15c4482e2bb6f847ab9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 25 11:58:14 2015 +0900

    Avoid an error message on testing when no fonts.conf installed

    This test case doesn't require any config files so no need to ensure
    loading them.

 test/test-bz89617.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5886d98c368cdb76ddedc48aedbab45a5c7e96f6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 24 10:46:34 2015 +0900

    Bug 93075 - Possible fix for make check failure on msys/MinGW...

    Patch from Christian Fafard

 test/run-test.sh | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 1d87fab8b18bf5a497646d98a1c6279372aac4ea
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 18 14:44:17 2015 +0900

    remomve unnecessary code

 src/fcdefault.c | 1 -
 1 file changed, 1 deletion(-)

commit d162a4a83d6bf2182e288e0bc0b4d3ae2f78f040
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Oct 16 17:24:22 2015 +0900

    Fix assertion on 32bit arch

 src/fcarch.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6d6ce028eedc6775b61fe768eca4d791ba9db21d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 15 15:53:27 2015 +0900

    Fix compiler warnings on MinGW

 test/test-bz89617.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bd96984e4b1da2e4b422050b773f3ded978d976c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 15 15:48:23 2015 +0900

    Use int64_t instead of long long

 src/fccache.c | 4 ++--
 src/fcint.h   | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 7ccde89758f23a7eb90549667cffb084e684ed48
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Oct 13 13:06:54 2015 +0900

    Fix build issue on MinGW

 src/fccache.c | 16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit a44cc450b5f3d67c0298a912e12ed5ff234490f9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Oct 13 13:04:18 2015 +0900

    Use long long to see the same size between LP64 and LLP64

 src/fccache.c | 2 +-
 src/fcint.h   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit c88d9b62421e8ba35a71319c7b0d555d512510c7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Aug 17 16:37:08 2015 +0900

    Fail on make runtime as needed instead of configure if no python
    installed

    python isn't necessarily required to build fontconfig from tarball
    so that
    generated fcblanks.h is available in tarball.

    https://bugs.freedesktop.org/show_bug.cgi?id=91663

 configure.ac          | 3 ++-
 fc-blanks/Makefile.am | 5 +++++
 2 files changed, 7 insertions(+), 1 deletion(-)

commit ad9f5880502c9a3f8e7f8919336888ee056f17ba
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Aug 14 17:17:34 2015 +0900

    Fix the broken cache more.

    Take a look at the nano second in the mtime to figure out
    if the cache needs to be updated if available.
    and do the mutex lock between scanning and writing a cache
    to avoid the conflict.

    Also we don't need to scan directories again after writing
    caches. so getting rid of the related code as well.

    https://bugs.freedesktop.org/show_bug.cgi?id=69845

    and for reference:

    https://bugzilla.redhat.com/show_bug.cgi?id=1236034

 configure.ac            |  3 ++
 fc-cache/fc-cache.c     | 75 +++++++++++++------------------------
 fontconfig/fontconfig.h |  2 +-
 src/fcarch.c            |  2 +-
 src/fccache.c           | 98
 ++++++++++++++++++++++++++++++++++++++++++++++++-
 src/fcdir.c             |  6 +++
 src/fcint.h             |  8 ++++
 7 files changed, 142 insertions(+), 52 deletions(-)

commit 46ec6a52d4cc447cc3ff4a13b2067ecb76c9db2e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 26 17:02:13 2015 -0700

    Revert changes made to FcConfigAppFontAddDir() recently

    In 32ac7c75e8db0135ef37cf86f92d8b9be000c8bb the behavior of
    FcConfigAppFontAddFile/Dir() were changed to return false
    if not fonts were found.  While this is welldefined and useful
    for AddFile(), it's quite problematic for AddDir().  For example,
    if the directory is empty, is that a failure or success?  Worse,
    the false value from AddDir() was being propagated all the way
    to FcInit() returning false now.  This only happened upon memory
    allocation failure before, and some clients assert that FcInit()
    is successful.

    With this change, AddDir() is reverted back to what it was.
    AddFont() change (which was actually in fcdir.c) from the original
    commit is left in.

 doc/fcconfig.fncs |  2 +-
 src/fccfg.c       | 29 +++++++++++------------------
 src/fcint.h       |  3 ---
 src/fcstr.c       |  8 --------
 4 files changed, 12 insertions(+), 30 deletions(-)

commit a8096dfa5965bfb1953fe829ff13eea23b4233c7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jun 24 15:46:45 2015 +0900

    Bug 90867 - Memory Leak during error case in fccharset

    https://bugs.freedesktop.org/show_bug.cgi?id=90867

 src/fccharset.c | 24 ++++++++++++++++++++----
 1 file changed, 20 insertions(+), 4 deletions(-)

commit 0551e1b344bd2f57015a378dae4a0771031c3042
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jun 18 17:25:02 2015 +0900

    Update CaseFolding.txt to Unicode 8.0

 fc-case/CaseFolding.txt | 147
 +++++++++++++++++++++++++++++++++++++++++++++++-
 fc-case/Makefile.am     |   3 +
 2 files changed, 147 insertions(+), 3 deletions(-)

commit 6f929ff37ce277a12256b918751e2f3fca2fcb8a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jun 17 16:34:29 2015 +0900

    Fix a memory leak in FcFreeTypeQueryFace

 src/fcfreetype.c | 2 ++
 1 file changed, 2 insertions(+)

commit 46b2c62faa64250eec3981ee816e91a9a3dee857
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jun 17 16:29:08 2015 +0900

    Add a warning for blank in fonts.conf

    and remove the unnecessary code for parsing blanks

 src/fcxml.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit 33fd436a3ec63ca58f3cb51bd4ab7b33e90d89c8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jun 17 16:15:35 2015 +0900

    Don't return FcFalse even when no fonts dirs is configured

 src/fccfg.c | 2 ++
 src/fcint.h | 3 +++
 src/fcstr.c | 8 ++++++++
 3 files changed, 13 insertions(+)

commit f6d61c9beed856a925bd60c025b55284b2d88161
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jun 12 11:30:01 2015 +0900

    mark as private at this moment

 fontconfig/fontconfig.h | 3 ---
 src/fcint.h             | 3 +++
 2 files changed, 3 insertions(+), 3 deletions(-)

commit dbda1171427071ff31429ea6d36330bb8f193138
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jun 9 11:15:25 2015 +0900

    No need to be public

 fontconfig/fontconfig.h | 3 ---
 src/fcint.h             | 3 +++
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 359ada2b4c12b6b6c3b4c017f95a35f18a3c6dd7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jun 9 11:15:06 2015 +0900

    Fix a crash when no objects are available after filtering

 src/fcdbg.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 10a57edd07f8dc64b60c71d51c225436f4fbb3bc
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 8 17:38:02 2015 +0900

    Add one more debugging option to see transformation on font-matching

    just setting FC_MATCH=3 shows a lot of information and hard to keep
    on track for informamtion
    which is really necessary to see. to use this more effectively,
    added FC_DBG_MATCH_FILTER to
    see for what one really want to see. it takes a comma-separated-list
    of object names.
    If you want to see family name only, try like this:

    FC_DBG_MATCH_FILTER=family FC_DEBUG=4096 fc-match

    debugging output will be filtered out and see family only in the
    result.

 doc/fontconfig-user.sgml |  6 +++-
 fontconfig/fontconfig.h  |  6 ++++
 src/fcdbg.c              | 78
 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h              |  1 +
 src/fcmatch.c            | 41 +++++++++++++++++++++++++
 src/fcpat.c              |  6 ++++
 6 files changed, 137 insertions(+), 1 deletion(-)

commit 1827ef7b1e0a1fba27fcdb8a021abaa8ee7782eb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jun 2 17:33:03 2015 +0900

    Bump version to 2.11.94

 README                  | 40 ++++++++++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 40 insertions(+), 4 deletions(-)

commit 481a9f03a020ee53500585332786826e8c3ebd8e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed May 27 14:40:15 2015 -0700

    Bump cache version number to 6, because of recent FcRange changes

 fontconfig/fontconfig.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee2d1da2d21bc14127f4cf12312e1f007935e8b0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed May 27 14:36:35 2015 -0700

    Reduce number of places that cache version is specified to 1

 fontconfig/fontconfig.h | 5 ++++-
 src/fccache.c           | 6 +++---
 src/fcint.h             | 3 +--
 3 files changed, 8 insertions(+), 6 deletions(-)

commit 5bad26ccb6686f1b9c8df6c1e9b49a72d42ad661
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 20 16:07:26 2014 -0400

    Simplify FcRange

 src/fcdbg.c   |  10 ++----
 src/fcint.h   |  25 +-------------
 src/fcmatch.c |   2 +-
 src/fcname.c  |  14 ++------
 src/fcrange.c | 109
 ++++++++++------------------------------------------------
 src/fcxml.c   |  12 +++----
 6 files changed, 28 insertions(+), 144 deletions(-)

commit 13a5ae9fb953c8a8eb3ec801781a499521c211f3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 20 16:03:02 2014 -0400

    Fix compiler warnings

 src/fcxml.c | 3 +++
 1 file changed, 3 insertions(+)

commit 346073d9dc17fc07758f7ef86c4ed05213ed0dab
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jul 6 20:36:18 2014 -0400

    Don't set FC_SIZE for bitmap fonts

    They get FC_PIXELSIZE set, which is later converted to FC_SIZE using
    FC_DPI.

 src/fcfreetype.c | 36 ++++++++++++------------------------
 1 file changed, 12 insertions(+), 24 deletions(-)

commit eba6f109de475215c2d4b42612f6baf57041536d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 4 17:15:11 2014 -0400

    Accept Integer for FC_SIZE

    There are more places to fix I'm sure...

    https://bugs.freedesktop.org/show_bug.cgi?id=80873

 src/fcname.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit cb2f096e15cb868cbf29428b6dd339b8ba344e50
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 4 16:18:52 2014 -0400

    Add bitmap-only font size as Double, not Range

    The whole size setting part still smells to me.

 src/fcfreetype.c | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 51756aab180c9f7a6632743885695add2f511100
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 4 16:13:45 2014 -0400

    Only set FC_SIZE for scalable fonts if OS/2 version 5 is present

    Part of https://bugs.freedesktop.org/show_bug.cgi?id=80873

 src/fcfreetype.c | 28 +++++++++++++++-------------
 1 file changed, 15 insertions(+), 13 deletions(-)

commit d09ba385892862e18c409f49405f51f066dea552
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 4 16:09:23 2014 -0400

    Write ranges using a [start finish) format

    To show closed and open ends.

 src/fcdbg.c  | 2 +-
 src/fcname.c | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 4c9101f7044b68aa121557c796384e4bdf08f73f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon May 25 21:41:05 2015 +0900

    Revert the previous change

    and just abort if the object id is overflowed.

 src/fcobjs.c | 16 +---------------
 1 file changed, 1 insertion(+), 15 deletions(-)

commit 09edd84cf8e8bd1f6062c8803316327e662fdbda
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 22 20:51:21 2015 +0900

    Detect the overflow for the object ID

    Continue to increase the object id even after FcFini()
    and detect the overflow. that would be rather easier than
    reset the object id with the complicated mutex and atomic
    functions.

    This situation would be quite unlikely to happen though

 src/fcobjs.c | 22 +++++++++++++++++++++-
 1 file changed, 21 insertions(+), 1 deletion(-)

commit f053231186fc340b5365a59eea30db5af787877a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 22 20:46:54 2015 +0900

    Fix a crash

    segfault happens when the config needs to be migrated to XDG's
    and no definition for include with prefix="xdg"

 src/fcxml.c | 1 +
 1 file changed, 1 insertion(+)

commit 249306fbd782570cf958675672d21cf12aa1f14e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 22 20:45:05 2015 +0900

    Fix a typo

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fa6c6b53c5a42ae6a9f8254ca9603dbe0aec63ad
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 22 16:53:34 2015 +0900

    Fix memory leaks after FcFini()

    Reported by Jia Wang

    https://bugs.freedesktop.org/show_bug.cgi?id=83770

 fontconfig/fontconfig.h |  2 +-
 src/fcinit.c            |  2 ++
 src/fcint.h             |  6 ++++++
 src/fcobjs.c            | 25 ++++++++++++++++++++++++-
 src/fcxml.c             | 47
 +++++++++++++++++++++++++++++++++++++++++++----
 5 files changed, 76 insertions(+), 6 deletions(-)

commit bcfe167e3d60402c1f999359ca8531c6fae01a2b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon May 18 15:26:03 2015 -0700

    Add su[pport for symbol fonts

    Adds FC_SYMBOL.

    This affects fonts having a cmap with platform 3 encoding 0.
    We now map their glyphs from the PUA area to the Latin1 area.

    See thread "Webdings and other MS symbol fonts don't display"
    on the mailing list.

    Test before/after with:
    $ pango-view --markup --text='<span
    fallback="false">&#xd7;&#xf0d7;</span>' --font=Wingdings

 doc/fontconfig-devel.sgml |  1 +
 fontconfig/fontconfig.h   |  1 +
 src/fcdefault.c           |  1 +
 src/fcfreetype.c          | 57
 ++++++++++++++++++++++++++++++++++++++++++++---
 src/fcmatch.c             |  1 +
 src/fcobjs.h              |  1 +
 6 files changed, 59 insertions(+), 3 deletions(-)

commit ead7275e05966eca19f530712f8e5c738a61cf4f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon May 18 14:03:50 2015 +0900

    Bug 90148 - Don't warn if cachedir isn't specified

    only warn when FONTCONFIG_FILE or FONTCONFIG_PATH is set.

    Bug 90148 - Don't warn if cachedir isn't specified

 src/fcinit.c | 26 +++++++++++++++++++-------
 1 file changed, 19 insertions(+), 7 deletions(-)

commit 55ff8419274fd5ce59675f220b85035a3986d6cf
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue May 12 14:47:38 2015 +0900

    Make FC_SCALE deprecated

    Use FC_MATRIX instead.

    https://bugs.freedesktop.org/show_bug.cgi?id=90257

 doc/fontconfig-devel.sgml | 2 +-
 doc/fontconfig-user.sgml  | 2 +-
 fontconfig/fontconfig.h   | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit a10cb2e4d7fb7d790fe913058f0821ccf2185a86
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue May 12 14:28:45 2015 +0900

    Add missing description for usage

 fc-query/fc-query.c | 9 +++++----
 fc-scan/fc-scan.c   | 7 ++++---
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 4c040d393dfb47b8a2f75fb639f6b5e92fced6f3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 22 19:37:46 2015 +0900

    Observe blanks to compute correct languages in fc-query/fc-scan

    Added --ignore-blanks option to get back the behavior.

    https://bugs.freedesktop.org/show_bug.cgi?id=79955

 fc-query/fc-query.c    | 19 ++++++++++++++-----
 fc-query/fc-query.sgml | 12 ++++++++++++
 fc-scan/fc-scan.c      | 21 +++++++++++++++------
 fc-scan/fc-scan.sgml   | 14 +++++++++++++-
 4 files changed, 54 insertions(+), 12 deletions(-)

commit 4a6f5efd5f6a468e1872d58e589bcf30ba88e2fd
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Apr 30 11:25:59 2015 -0400

    Fix bitmap scaling

    Was broken by 66db69a6d991945f96feb1da683a2e04ea396842.  Ouch!

 conf.d/10-scale-bitmap-fonts.conf | 32 +++++++++++++++++---------------
 1 file changed, 17 insertions(+), 15 deletions(-)

commit 3a4136778cc5a4ff1dc979cbd50fcdf73cab4d70
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 22 14:36:29 2015 +0900

    Drop unmaintained code
    Use four-byte code for foundry as is instead.

    https://bugs.freedesktop.org/show_bug.cgi?id=88679

 src/fcfreetype.c | 84
 ++++++++------------------------------------------------
 1 file changed, 12 insertions(+), 72 deletions(-)

commit b3fc08bc952505e322160a4a7eb146754ae4f24a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 22 11:17:04 2015 +0900

    Fix a typo in fontconfig-user.sgml

    https://bugs.freedesktop.org/show_bug.cgi?id=90105

 doc/fontconfig-user.sgml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 07be485a0a84995ce69bf60e3b1bb22cb35f6b0e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Apr 20 10:49:21 2015 +0900

    Fix a typo for the latest cache version

 doc/fontconfig-user.sgml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f6e6a8a22b9d775fff117d65016b5e85233a7293
Author: Руслан Ижбулатов <lrn1986@gmail.com>
Date:   Wed Apr 8 08:41:25 2015 +0000

    W32: Support cache paths relative to the root directory

    Paths starting with '/' don't make sense on W32 as-is,
    prepend the installation root directory to them.

    This allows the cache to be contained within a particular
    fontconfig installation (as long as the default
    --with-cache-dir= is overriden at configure time).

 src/fccfg.c |  2 ++
 src/fcxml.c | 21 ++++++++++++++++++++-
 2 files changed, 22 insertions(+), 1 deletion(-)

commit 7bc07cf6c2a5685ab95f146f5af2b3bcd5f5864d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 30 15:18:44 2015 +0900

    Fix SIGFPE

 src/fcrange.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e92c92ff22c13e96afd6dfa0f75e7b37b9cfa06d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 25 12:10:48 2015 +0900

    Fix unknown attribute in Win32

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c965c9f67759585909fa03236bad826de85bd39c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 23 13:30:59 2015 +0900

    Bug 89617 - FcConfigAppFontAddFile() returns false on any font file

    Prior to the change of 32ac7c75e8db0135ef37cf86f92d8b9be000c8bb
    FcConfigAppFontAddFile() always returned FcTrue no matter what
    fonts was added. after that, it always returned FcFalse because
    adding a font doesn't add any subdirs with FcFileScanConfig().
    so changing that to simply ignore it.

    Also fixing it to return FcFalse if non-fonts was added, i.e.
    FcFreeTypeQuery() fails.

    https://bugs.freedesktop.org/show_bug.cgi?id=89617

 src/fccfg.c         |  4 +++-
 src/fcdir.c         |  2 ++
 test/Makefile.am    |  7 +++++++
 test/test-bz89617.c | 38 ++++++++++++++++++++++++++++++++++++++
 4 files changed, 50 insertions(+), 1 deletion(-)

commit 7301f2f02816c5d44ee75dd0689c806c5aabdbda
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 23 13:18:49 2015 +0900

    Remove the dead code

 src/fcdir.c | 2 --
 1 file changed, 2 deletions(-)

commit 69ff6b6e260584e383c38b1b7034ddcbb23d214f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 9 12:22:40 2015 +0900

    Bump version to 2.11.93

 README                  | 37 +++++++++++++++++++++++++++++++++++--
 configure.ac            |  6 +++---
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 39 insertions(+), 6 deletions(-)

commit b75d809d1298b791f39596170950597bcfe98dd6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 9 12:22:30 2015 +0900

    Fix a trivial bug for dist

 fc-blanks/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit f5b1e0ab97daa0e08af8d667cabb700bb73da568
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 9 12:18:03 2015 +0900

    Fix an infinite loop in FcBlanksIsMember()

 src/fcblanks.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 484834c186dee281bcd13067d7b7bce1322b4e0b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 6 11:15:26 2015 +0900

    Fix a bug in the previous change forFcBlanksIsMember()

 src/fcblanks.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit ed74a58ccc245bacd907cd91e0f3df64e427c163
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 6 11:05:23 2015 +0900

    Fix a segfault when OOM happened.

    Reported by Matt Breedlove

 src/fcinit.c | 2 ++
 1 file changed, 2 insertions(+)

commit 96a3f6879c13577cc9edd867b3f89b0cba469073
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 5 17:52:04 2015 +0900

    Improve the performance on searching blanks

    After the change of d6a5cc665a1d7e91332944353e92c83ad114368c
    we have a lot of code points in FcBlanks. doing the linear search
    on the array isn't comfortable anymore.
    So re-implementing FcBlanksIsMember() to use the binary search.

    Figuring out how much improved after this change depends on
    how many fonts proceed with fc-cache say though, it's about 20 times
    faster here on testing. which sounds good enough for
    improvement.

 src/fcblanks.c | 21 ++++++++++++++++++---
 1 file changed, 18 insertions(+), 3 deletions(-)

commit d997d7c770cd6a36159090fd0b8720a3dc426707
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 21 14:35:03 2015 -0800

    Simplify some more

 src/fcfreetype.c | 20 ++++++++------------
 1 file changed, 8 insertions(+), 12 deletions(-)

commit 9c99baba66d335738318dc7cacef64fafb699ebf
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 21 14:32:51 2015 -0800

    Remove dead code after previous commit

 src/fcfreetype.c | 339
 +------------------------------------------------------
 1 file changed, 3 insertions(+), 336 deletions(-)

commit 2f311c562d87c0bf95d27709e82afd196c2bff28
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Mar 3 11:30:12 2015 +0900

    Fix the array allocation

 src/fcstat.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f18f2f88f287a2438d2bf9b27773cb14606cbb11
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Feb 9 16:45:43 2015 +0900

    Don't add FC_LANG when it has "und"

    to avoid the situation to find the better fallback font.

    https://code.google.com/p/chromium/issues/detail?id=392724 has
    more words to explain the details.

    https://bugs.freedesktop.org/show_bug.cgi?id=81185

 src/fccfg.c | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 724664e3fd056b864576f8e100a8de5c0e93a725
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 2 11:34:53 2015 +0900

    Fix a build issue when $(srcdir) != $(builddir)

 fc-blanks/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a9d4dba7492e060f9d225307c58d79bc50b16cd3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Feb 27 15:48:54 2015 +0900

    Update the script to recognize the escaped space

 fc-blanks/fc-blanks.py | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit d6a5cc665a1d7e91332944353e92c83ad114368c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Feb 27 14:17:26 2015 +0900

    Hardcode the blanks in the library

    https://bugs.freedesktop.org/show_bug.cgi?id=79956

 Makefile.am               |   2 +-
 configure.ac              |   2 +
 fc-blanks/Makefile.am     |  40 +++++++++++++++
 fc-blanks/fc-blanks.py    | 125
 ++++++++++++++++++++++++++++++++++++++++++++++
 fc-blanks/fcblanks.tmpl.h |  25 ++++++++++
 fonts.conf.in             |  68 -------------------------
 src/fcblanks.c            |   7 +++
 src/fccfg.c               |   3 +-
 8 files changed, 202 insertions(+), 70 deletions(-)

commit 97cf7ec4d740c9b3ac7c29388224f5e0c226a120
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Feb 27 12:04:44 2015 +0900

    Rework again to copy the struct dirent

    Assuming that d_name is the last member of struct dirent.
    In POSIX, the maximum length of d_name is defined as NAME_MAX
    or FILENAME_MAX though, that assumption may be wrong on some
    platforms where defines d_name as the flexible array member
    and allocate the minimum memory to store d_name.

    Patch from Raimund Steger

 src/fcstat.c | 9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

commit 1add10bfbc6f0667284f58cb388ae02f695b4a57
Author: Michael Haubenwallner <michael.haubenwallner@ssi-schaefer.com>
Date:   Thu Feb 26 12:23:27 2015 +0100

    Ensure config.h is included first, bug#89336.

    config.h may define ABI-specific macros, especially for AIX,
    so has to be included before any system header - via fcint.h.

    https://bugs.freedesktop.org/show_bug.cgi?id=89336

 src/fcarch.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 8809d1b73b9c162ee0fecd314e2a80b287309954
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Feb 26 14:08:20 2015 +0900

    Copy the real size of struct dirent

    In some platforms, d_name is defined as the flexible array member.
    We may need to compute the real size for that case.

 configure.ac |  1 +
 src/fcstat.c | 11 +++++++++--
 2 files changed, 10 insertions(+), 2 deletions(-)

commit dd427253cc73d8786bbf436ec4d026f370ab0812
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Feb 25 17:36:50 2015 +0900

    filter can be null

 src/fcstat.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 45018e6979198b92b732b4b5e29671b2fe499bd8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Feb 24 15:25:16 2015 +0900

    Fix pointer cast warning on win32

 src/fclist.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f43c58189bb667e65630c37f33a58d39d7c550f6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Feb 24 15:01:14 2015 +0900

    ifdef'd the unnecessary code for win32

 src/fcxml.c | 4 ++++
 1 file changed, 4 insertions(+)

commit ed0d705e2221adbfb21de357c1a82b7a2a5c3641
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Feb 10 19:32:13 2015 +0900

    Fix a build fail on some non-POSIX platforms

    Use own scandir function. according to this change,
    we don't need -Werror things in configure anymore.

 configure.ac | 35 --------------------------
 src/fcstat.c | 80
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++------
 2 files changed, 72 insertions(+), 43 deletions(-)

commit d6d5adeb7940c0d0beb86489c2a1c2ce59e5c044
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 21 14:13:36 2015 -0800

    Fix symbol cmap handling

    A while back we removed Apple Roman encoding support.  This broke
    symbol fonts (Wingdings, etc) because those fonts come with two
    cmaps:

      1) platform=1,encoding=0, aka Apple Roman, which maps identity,
      2) platform=3,encoding=0, aka MS Symbol font

    Now, the reason the Apple Roman removal "broke" these fonts is
    obvious, and for the better: these fonts were mapping ASCII and
    other Latin chars to symbols.

    The reason the fonts didn't work anymore, however, is that we were
    mishandling the MS symbol-font cmaps.  In their modern incarnation
    they are like regular non-symbol-font cmap that map PUA codepoints
    to symbols.  We want to expose those as such.  Hence, this change
    just removes the special-handling for that.

    Now, the reason this confusion happened, if I was to guess, is either
    that FreeType docs are wrong saying that FT_ENCODING_MS_SYMBOL is
    the "Microsoft Symbol encoding, used to encode mathematical symbols":

      http://www.kostis.net/charsets/symbol.htm

    or maybe it started that way, but turned into also mapping MS symbol-
    font cmaps, which is a completely different thing.  At any rate, I
    don't know if there are any fonts that use this thing these days, but
    the code here didn't seem to produce charset for any font.  By now I'm
    convinced that this change is the Right Thing to do.  The MS Symbol
    thing was called AdobeSymbol in our code by the way.

    This fixes the much-reported bug that windings, etc are not usable
    with recent fontconfig:
    https://bugs.freedesktop.org/show_bug.cgi?id=58641

    Now I see PUA mappings reported for Wingdings.

    This also fixes:
    Bug 48947 - Drop the non-Unicode cmap support gradually
    https://bugs.freedesktop.org/show_bug.cgi?id=48947
    since the AdobeSymbol was the last non-Unicode cmap we were
    trying to parse (very incorrectly).

    Lots of code around this change can be simplified.  I'll push those
    out (including removing the table itself) in subsequent changes.

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eb5e89f817a78e8f6fbb0d8a1b48c510f1b898b1
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 20 20:34:47 2015 +0900

    Add pkg.m4 to git

 m4/pkg.m4 | 214
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 214 insertions(+)

commit 78ed920e2be4dca04ff64ba98cf6935fc40cc758
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jan 19 19:48:50 2015 +0900

    Fix a typo in docs

 doc/fontconfig-user.sgml | 2 +-
 fc-cache/fc-cache.sgml   | 2 +-
 fc-cat/fc-cat.sgml       | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 694368667a15341ea30b37a36e9540e6b1492680
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Jan 16 09:35:22 2015 -0800

    Fix configure to work with Solaris Studio compilers

    Passing -Werror in the scandir() checks caused Studio cc to report
    "Unrecognized option errors", confusing configure into thinking that
    scandir() was not available.   Use Studio equivalent flags instead.

    Leaves -Werror as the default for all other compilers, including
    unknown ones, to flag to them that they need to update their flags
    as well if -Werror is not correct for them.

    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

 configure.ac | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 4d739d13f4f58e11c62006e4f70776a945094ea4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 13 12:40:40 2015 +0900

    Bump version to 2.11.92

 README                  | 9 +++++++--
 configure.ac            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 3 files changed, 9 insertions(+), 4 deletions(-)

commit 4c60fabf6617a8954e46bdaeccc95667375fa159
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 6 16:37:18 2015 +0900

    Add missing docs

 doc/fontconfig-devel.sgml | 5 +++++
 doc/fontconfig-user.sgml  | 7 +++++++
 2 files changed, 12 insertions(+)

commit fff4086e1587f94c267055ff5c3b48df1f1055f7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 25 13:49:25 2014 +0900

    Bump version to 2.11.91

 README                  | 80
 +++++++++++++++++++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 80 insertions(+), 4 deletions(-)

commit 4420b27c074821a1d1f9d6ebe822a610176a417d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 25 13:48:57 2014 +0900

    Fix a typo

    missing a terminator caused a document generation fail.

 doc/fcrange.fncs | 1 +
 1 file changed, 1 insertion(+)

commit 365809938e901e603d2fe93363545e1c1afc1816
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 25 13:11:21 2014 +0900

    Bump the cache version to 5

    FcPattern isn't compatible to the older.

 fontconfig/fontconfig.h | 2 +-
 src/fcint.h             | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 456937cd15568c7f1a633445dee44ae8e2ed395f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Dec 24 18:53:41 2014 +0900

    fc-cache: Add an option to raise an error if no fonts found

    and get back the behavior.

 fc-cache/fc-cache.c    | 26 +++++++++++++++++---------
 fc-cache/fc-cache.sgml | 31 ++++++++++++++++++++++++++++++-
 2 files changed, 47 insertions(+), 10 deletions(-)

commit db64c71408636e2d0ac3c39682ac1b6c8f317ac4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Dec 16 20:43:02 2014 +0900

    fc-cache: make a fail if no fonts processed on a given path

 fc-cache/fc-cache.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit af5864419441e12f1951c7cfd0a742b6316934cc
Author: Nick Alcock <nick.alcock@oracle.com>
Date:   Sat Dec 13 18:21:16 2014 +0000

    Generate documentation for FcWeight* functions.

    The SGML for these functions exists, and they are named as manpages,
    but because they are not mentioned in fontconfig-devel.sgml, no
    documentation is ever generated, and installation under --enable-docs
    fails.

    (The documentation I have written in fontconfig-devel.sgml is
    boilerplate
    so I can get the manpages generated. It's probably wrong.)

 doc/fontconfig-devel.sgml | 7 +++++++
 1 file changed, 7 insertions(+)

commit 66db69a6d991945f96feb1da683a2e04ea396842
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 14 13:55:53 2014 -0800

    Treat color fonts as scalable

    All color fonts are designed to be scaled, even if they only have
    bitmap strikes.  Client is responsible to scale the bitmaps.  This
    is in constrast to non-color strikes...

    Clients can still use FC_OUTLINE to distinguish bitmap vs outline
    fonts.  Previously FC_OUTLINE and FC_SCALABLE always had the same
    value.  Now FC_SCALABLE is set to (FC_OUTLINE || FC_COLOR).

    Fixes:
    https://bugs.freedesktop.org/show_bug.cgi?id=87122

 src/fcfreetype.c | 27 ++++++++++++++++++---------
 1 file changed, 18 insertions(+), 9 deletions(-)

commit dbc7c4a2cfe1ba6c537957b3b68b625403ca99fd
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 14 13:39:41 2014 -0800

    Add FC_COLOR

    Only adds "color" to pattern if FreeType version supports color.

    Based on patch from Jungshik Shin.

 doc/fontconfig-devel.sgml | 1 +
 fontconfig/fontconfig.h   | 1 +
 src/fcfreetype.c          | 6 ++++++
 src/fcmatch.c             | 1 +
 src/fcobjs.h              | 1 +
 5 files changed, 10 insertions(+)

commit fc7e1a9497919c88d790d9395eb01cd7d5121507
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Dec 12 21:42:35 2014 -0800

    Fix buffer overflow in copying PS name

    As reported on the mailing list by Tanel Liiv.  Found using American
    Fuzzy Lop.

 src/fcfreetype.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 32ac7c75e8db0135ef37cf86f92d8b9be000c8bb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Dec 9 19:06:46 2014 +0900

    Returns False if no fonts found

    https://bugs.freedesktop.org/show_bug.cgi?id=86950

 doc/fcconfig.fncs | 10 ++++++----
 src/fccfg.c       | 23 +++++++++++++----------
 2 files changed, 19 insertions(+), 14 deletions(-)

commit b732bf057f4b3ec3bac539803005e9c42d056b2a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Nov 6 13:15:09 2014 +0900

    Update aliases for new URW fonts

    Patch from Tom Yan

    https://bugs.freedesktop.org/show_bug.cgi?id=85225

 conf.d/30-metric-aliases.conf | 94
 ++++++++++++++++++++++++++++++++++++++-----
 conf.d/45-latin.conf          | 12 ++++++
 conf.d/60-latin.conf          |  3 ++
 3 files changed, 98 insertions(+), 11 deletions(-)

commit e7121de237a1873c3241a5b8451e7d00a3d41524
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Oct 3 12:26:42 2014 +0900

    Revert "Bug 73291 - poppler does not show fl ligature"

    This reverts commit c6aa4d4bfcbed14f39d070fe7ef90a4b74642ee7.

    This issue has been fixed in poppler and we no longer need to patch
    it out in fontconfig.

 conf.d/30-metric-aliases.conf | 6 ------
 1 file changed, 6 deletions(-)

commit 1082161ea303cf2bbc13b62a191662984131e820
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Sep 25 17:03:27 2014 +0900

    Add FcRangeGetDouble()

    https://bugs.freedesktop.org/show_bug.cgi?id=82876

 doc/fcrange.fncs        | 10 ++++++++++
 fontconfig/fontconfig.h |  3 +++
 src/fcrange.c           | 23 +++++++++++++++++++++++
 3 files changed, 36 insertions(+)

commit 286cdc9c10b0453c25950103b6a1f7170d15bfdc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 20 15:23:04 2014 -0400

    Revert "[fcmatch] When matching, reserve score 0 for when elements
    don't exist"

    This reverts commit a5a384c5ffb479e095092c2aaedd406f8785280a.

    I don't remember what I had in mind for "We will use this property
    later.", but
    the change was wrong.  If a font pattern doesn't have any value
    for element,
    it must be interpretted as "it matches any value perfectly.
    And "perfectly"
    must have a score of 0 for that to happen.

    This was actually affecting bitmap fonts (in a bad way), as the
    change made
    an outline font to always be preferred over a (otherwise equal)
    bitmap font,
    even for the exact size of the bitmap font.  That probably was
    never noticed
    by anyone, but with the font range support this has become clear
    (and worked
    around by Akira).  To clean that up, I'm reverting this so I can
    land the
    rest of patches for bug 80873.

    https://bugs.freedesktop.org/show_bug.cgi?id=80873#c10

 src/fcmatch.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f0945396875ec4ff60add56935b02c3f66b3fc40
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 13 11:39:29 2014 +0900

    Note FcConfigSetCurrent() increases the refcount in document

 doc/fcconfig.fncs | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit eb2689c67ba2da969d33be43a05af1e8975e9837
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 12 18:53:04 2014 +0900

    Fix the memory leak in fc-cat

 fc-cat/fc-cat.c | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 23e88d8c6a5d3d0a9526a3f3217bd33a7607cbab
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 12 18:48:00 2014 +0900

    Increase the refcount in FcConfigSetCurrent()

    https://bugs.freedesktop.org/show_bug.cgi?id=82432

 fc-cat/fc-cat.c | 1 +
 src/fccfg.c     | 5 +++++
 src/fcinit.c    | 9 ++++++++-
 3 files changed, 14 insertions(+), 1 deletion(-)

commit 841753a93f0e5698663b7931b8456e7b96259f54
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Aug 11 12:14:54 2014 +0900

    fallback to the another method to lock when link() failed

    Bug 82358 - FcAtomicLock fails on OS X on network mounts
    https://bugs.freedesktop.org/show_bug.cgi?id=82358

 src/fcatomic.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 748a2ce9d4bd6aae90b974724b795056e2bcb4d7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 6 14:45:02 2014 -0400

    Fix previous commit

    Ouch!

 conf.d/45-latin.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3d2627bba6ce9f743273c6031a34fb2750c04a41
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 6 14:28:18 2014 -0400

    Trebuchet MS is a sans-serif font, not serif

    https://bugs.freedesktop.org/show_bug.cgi?id=82099

 conf.d/45-latin.conf | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 80edaccc3cbd77434718e8f4731a20b410f9d10a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 6 12:29:35 2014 -0400

    If OS/2 table says weight is 1 to 9, multiply by 100

    https://bugs.freedesktop.org/show_bug.cgi?id=82228

 src/fcweight.c | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 01bb6978b6389852c5259b135af45ecdfe9f42f8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 6 12:23:24 2014 -0400

    Fix assertion failure

    https://bugs.freedesktop.org/show_bug.cgi?id=82220
    https://bugs.freedesktop.org/show_bug.cgi?id=82228

 src/fcweight.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 37e501ed0af9b1f68f64600e00e90809e19f9302
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jul 27 16:53:28 2014 -0400

    Remove unneeded FcPublic

 src/fcweight.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a9e7b0494e04b3925d1bccc140ff2500cfff9618
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Jul 26 16:17:02 2014 -0400

    Export recently added API

    We should remove this alias mess.

 src/fccompat.c | 4 ++++
 src/fcrange.c  | 4 ++++
 src/fcstat.c   | 4 ++++
 src/fcweight.c | 4 ++++
 4 files changed, 16 insertions(+)

commit ffda7c0e8130eb107ecbb3bdc48043093b12dff9
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 25 17:59:26 2014 -0400

    Linearly interpolate weight values

    Rest of Part of https://bugs.freedesktop.org/show_bug.cgi?id=81453

    Adds new API:

            FcWeightFromOpenType()
            FcWeightToOpenType()

 doc/Makefile.am         |  1 +
 doc/fcweight.fncs       | 47 +++++++++++++++++++++++++++
 fontconfig/fontconfig.h |  7 +++++
 src/Makefile.am         |  1 +
 src/fcfreetype.c        | 27 +---------------
 src/fcweight.c          | 84
 +++++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 141 insertions(+), 26 deletions(-)

commit bf9df5ada77469f57101851f6b4e279a4a5ea087
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 25 18:07:10 2014 -0400

    Change DemiLight from 65 to 55

    Such that Regular is closer to Medium than to DemiLight

 doc/fontconfig-user.sgml | 4 ++--
 fontconfig/fontconfig.h  | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit be6506ca04ccce10868a8cd51d89e586284d149b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 25 16:24:26 2014 -0400

    Add FC_WEIGHT_DEMILIGHT

    Part of https://bugs.freedesktop.org/show_bug.cgi?id=81453
    Also hooks up FC_WEIGHT_BOOK to fcfreetype.c.

 doc/fontconfig-user.sgml | 2 ++
 fontconfig/fontconfig.h  | 2 ++
 src/fcfreetype.c         | 8 +++++++-
 src/fcname.c             | 2 ++
 4 files changed, 13 insertions(+), 1 deletion(-)

commit 9839d0112c6d61ae22bb3f215bffbe88df6781a1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jul 24 16:07:13 2014 -0400

    Improve / cleanup namelang matching

    Previously, if the patten didn't request, eg, style, then the style
    and stylelang were fully copied from the font, even though the pattern
    had a stylelang.  Eg:

    $ fc-match 'Apple Color Emoji:stylelang=en'
    Apple Color Emoji.ttf: "Apple Color Emoji" "標準體"

    This change both fixes that and makes the code much more readable.
    Now:

    $ fc-match 'Apple Color Emoji:stylelang=en'
    Apple Color Emoji.ttf: "Apple Color Emoji" "Regular"

 src/fcmatch.c | 45 +++++++++++++++++++++++----------------------
 1 file changed, 23 insertions(+), 22 deletions(-)

commit 874a5491641642f669396c514c3672f6794fdfa7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jul 24 15:42:54 2014 -0400

    Remove unused regex code

    Regex matching was disabled in
    f6244d2cf231e1dc756f3e941e61b9bf124879bb

 configure.ac | 10 ++--------
 src/fcint.h  |  6 ------
 src/fcstr.c  | 52 ----------------------------------------------------
 3 files changed, 2 insertions(+), 66 deletions(-)

commit 9a8e812477bd65d2ecfa721819d0555289520401
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jul 24 15:37:51 2014 -0400

    Use lang=und instead of lang=xx for "undetermined"

    That's the correct BCP 47 code.

 src/fcfreetype.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 76151ceaf3417a987ae2c36b247ca82f50d857f6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jul 24 15:34:20 2014 -0400

    Ouch, fix buffer

 src/fcfreetype.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit aeba5bf4b69f8b559cb909df12d0a636e6054325
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jul 24 15:28:09 2014 -0400

    Decode MacRoman encoding in name table without iconv

    iconv support was turned off by default in f30a5d76.
    Some fonts, like Apple Color Emoji, only have their English
    name in a MacRoman entry.  As such, decode MacRoman ourselves.

 src/fcfreetype.c | 162
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 162 insertions(+)

commit 07a0f511b13a872824c2c57251b7e47ee7df1354
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jul 24 15:01:57 2014 -0400

    Call FcInitDebug from FcFreeTypeQueryFace

 src/fcfreetype.c | 2 ++
 1 file changed, 2 insertions(+)

commit a5641cfb2472a92a64858d00525ae3b0fc0ae2a4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jul 23 13:21:05 2014 -0400

    Revert "Symlinks fix for DESTDIR"

    This reverts commit fd5667b42c253da9c4c5502f53b5c0fb7e0f589e.

    This was wrong, as pointed out by Akira on the list.
    We want symlinks to final destination.

 conf.d/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fd5667b42c253da9c4c5502f53b5c0fb7e0f589e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jul 23 11:57:31 2014 -0400

    Symlinks fix for DESTDIR

    From:
    https://github.com/Alexpux/MINGW-packages/blob/master/mingw-w64-fontconfig/fontconfig-2.11.0-symlinks-fix.patch

 conf.d/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 107b44f50b6818288ad70608fbe4ec3fd1a7119f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jul 23 19:17:26 2014 +0900

    Don't add duplicate lang

    Don't add duplicate lang from FC_LANG if the pattern already has.

    https://bugs.freedesktop.org/show_bug.cgi?id=81186

 src/fccfg.c | 28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit 342b908b9696a3f1cf1a45ddd779f3a17d6f9142
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Jul 19 16:33:49 2014 -0400

    More mingw32 MemoryBarrier() fixup

 src/fcwindows.h | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 6781c6baef062eeea5b5b68e4a9c31ea6cd7539b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 11 12:19:39 2014 -0400

    Update mingw32 MemoryBarrier from HarfBuzz

    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=81228

 src/fcatomic.h | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit dca5d0feee5eb6428bec48b1aff4396cf92c76c0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 8 14:55:15 2014 +0900

    Fix a gcc warning

    test-migration.c:17:5: warning: pointer targets in passing argument
    1 of 'FcStrDirname' differ in signedness

 test/test-migration.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit da8233b0f244676ea372ffa485b6cb329700c8ca
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jul 6 18:26:03 2014 -0400

    Fixup previous commit

 src/fcmatch.c | 12 ------------
 src/fcobjs.h  |  2 +-
 2 files changed, 1 insertion(+), 13 deletions(-)

commit bb27d6969ce0ef1244e73f9c6232f91bce60dad7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jul 6 18:10:44 2014 -0400

    Remove HASH from matching priorities

    We deprecated FC_HASH, so doesn't make sense to sort on it.

 src/fcmatch.c | 1 -
 1 file changed, 1 deletion(-)

commit 5674b8a66354d657559c37e9d168bfbf48b931a8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jul 6 17:41:19 2014 -0400

    Comments

 src/fcmatch.c | 6 ++++++
 1 file changed, 6 insertions(+)

commit 5b22776999b6052afe0e829b1a0c0935bbe1e9f7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jul 4 18:04:52 2014 +0900

    Fix a crash when no sysroot is given and failed to load the default
    fonts.conf

 src/fccfg.c | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit f5b4b2c1ed7ff92e2fb9339750f0288e2e794c4b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 4 01:43:47 2014 -0400

    Fix charset unparse after recent changes

 src/fccharset.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 940d27a197bfb0cfd93d3bb7dba33d5e23ac46b0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jul 3 21:15:25 2014 -0400

    Minor

 src/fccharset.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e708e97c351d3bc9f7030ef22ac2f007d5114730
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jul 3 17:52:54 2014 -0400

    Change charset parse/unparse format to be human readable

    Previous format was unusable.  New format is ranges of hex values.
    To choose space character and Latin capital letters for example:

    $ fc-pattern ':charset=20 41-5a'
    Pattern has 1 elts (size 16)
            charset:
            0000: 00000000 00000001 07fffffe 00000000 00000000 00000000
            00000000 00000000
    (s)

 src/fccharset.c | 223
 ++++++++++++++++++++------------------------------------
 1 file changed, 79 insertions(+), 144 deletions(-)

commit dab60e4476ada4ad4639599ea24dd012d4a79584
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 30 15:12:32 2014 +0900

    Rework for 5004e8e01f5de30ad01904e57ea0eda006ab3a0c

    Don't read/write from/to the XDG dirs even if XDG_*_HOME is set
    and the home directory is disabled.

 src/fccfg.c | 24 +++++++++---------------
 1 file changed, 9 insertions(+), 15 deletions(-)

commit 5004e8e01f5de30ad01904e57ea0eda006ab3a0c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 30 12:37:36 2014 +0900

    Don't read/write from/to the XDG dirs if the home directory is
    disabled

 src/fccfg.c | 18 +++++++++++++++---
 src/fcxml.c | 23 ++++++++++++++++++++++-
 2 files changed, 37 insertions(+), 4 deletions(-)

commit 274f2181f294af2eff3e8db106ec8d7bab2d3ff1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 18 12:20:57 2014 -0400

    Update blanks to Unicode 7.0

 fonts.conf.in | 4 ++++
 1 file changed, 4 insertions(+)

commit 2f96482a9f5bc185b244a8bdaa7563a829965f1a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jun 18 19:13:53 2014 +0900

    Update CaseFolding.txt to Unicode 7.0

 fc-case/CaseFolding.txt | 59
 ++++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 53 insertions(+), 6 deletions(-)

commit 6c3c2603b9f68a7460e9642d0421b5cc5a848452
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jun 18 11:49:10 2014 +0900

    Fix a segfault

    introduced by the previous commit
    d17f556153fbaf8fe57fdb4fc1f0efa4313f0ecf

 src/fcdir.c | 22 ++++++++++++----------
 1 file changed, 12 insertions(+), 10 deletions(-)

commit 8915c15b9ee394ef19042f1acf75eb8b0592e5a7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jun 12 17:56:04 2014 -0400

    Update list of blanks to Unicode 6.3.0

    Some were bogus, some were missing.  See:

      https://bugs.freedesktop.org/show_bug.cgi?id=79956

 fonts.conf.in | 20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit d17f556153fbaf8fe57fdb4fc1f0efa4313f0ecf
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jun 17 20:08:24 2014 +0900

    Read the config files and fonts on the sysroot when --sysroot is
    given to fc-cache

    Fix for e96d7760886a3781a46b3271c76af99e15cb0146

    https://bugs.freedesktop.org/show_bug.cgi?id=59456

 fc-cache/fc-cache.c | 10 ++++---
 src/fccache.c       | 76
 +++++++++++++++++++++++++++++++++++--------------
 src/fccfg.c         |  2 +-
 src/fcdir.c         | 82
 ++++++++++++++++++++++++++++++++++++++++++++++-------
 src/fcinit.c        | 17 +++++++++--
 src/fcint.h         |  3 +-
 src/fcxml.c         | 12 ++++++--
 7 files changed, 158 insertions(+), 44 deletions(-)

commit 8f62ccaa962b13781d7916d4d1c061993b991e69
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 9 22:00:25 2014 -0400

    Remove unused FcHash code now that FC_HASH is deprecated

 src/Makefile.am  |   1 -
 src/fcfreetype.c |  51 ---------------
 src/fchash.c     | 189
 -------------------------------------------------------
 src/fcint.h      |  19 ------
 4 files changed, 260 deletions(-)

commit 75abdaf5c8e8b14c3e9e94ff5c563091594a32cf
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 9 21:53:01 2014 -0400

    Deprecate FC_HASH and don't compute it

    It was added without proper measurement and a fuzzy possible
    use-case (font servers) in mind, but reality check shows that
    this significantly slows down caching.  As such, deprecate it
    and do NOT compute hash during caching.

    Makes caching two to three times faster (ignoring the 2 second
    delay in fc-cache).

 doc/fontconfig-devel.sgml | 2 +-
 fontconfig/fontconfig.h   | 2 +-
 src/fcfreetype.c          | 2 ++
 src/fcobjs.h              | 4 ++--
 4 files changed, 6 insertions(+), 4 deletions(-)

commit cd9631d83e51bab95413a8aa0e8ecc68f3e3a0fc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jun 12 17:01:07 2014 -0400

    [ko.orth] Remove U+3164 HANGUL FILLER

    Better not to reject a font just over that.  Note that we do NOT
    list U+115F and U+1160 either.

 fc-lang/ko.orth | 1 -
 1 file changed, 1 deletion(-)

commit f44bfad235e63bb792c38e16ae1fbd281ec1453b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jun 5 19:06:02 2014 +0900

    Workaround another race condition issue

    See https://bugzilla.redhat.com/show_bug.cgi?id=921706

 src/fccache.c | 24 +++++++++++++++++++++++-
 src/fcdir.c   | 30 ++++++++++++++++++++++++------
 src/fcint.h   |  7 ++++++-
 3 files changed, 53 insertions(+), 8 deletions(-)

commit 58acd993cb13b58c61633174071ef42da3dcac85
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri May 16 15:08:52 2014 -0600

    Allow passing NULL for file to FcFreeTypeQueryFace()

 src/fcfreetype.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3f992254f2a3b7f88df989067785141cbf265037
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri May 16 15:02:58 2014 -0600

    Rewrite hashing to use FT_Stream directly

    This is more robust but introduces a small change in behavior:
    For .pcf.gz fonts, the new code calculates the hash of the
    uncompressed
    font data whereas the original code was calculating the hash of the
    compressed data.

    No big deal IMO.

 src/fcfreetype.c | 78
 ++++++++++++++++++++++++++++++--------------------------
 src/fchash.c     | 75
 +++--------------------------------------------------
 src/fcint.h      | 19 +++++++++++---
 3 files changed, 61 insertions(+), 111 deletions(-)

commit 8284df49ef45678781fc6e05d18cc04acf04cf3c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri May 16 14:17:45 2014 -0600

    Further simplify hash code

 src/fchash.c | 88
 ++++++++++++++++++++++++++----------------------------------
 1 file changed, 38 insertions(+), 50 deletions(-)

commit 748e77e89f8f6ba297ce9d206ac3834ae087201d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri May 16 14:03:19 2014 -0600

    Simplify hash code

 src/fcfreetype.c |  4 +--
 src/fchash.c     | 94
 ++++++++++++++++++++++++++------------------------------
 src/fcint.h      |  6 ++--
 3 files changed, 48 insertions(+), 56 deletions(-)

commit e4d8847eee14ddfa9632057bca36cb60dfa1b35f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri May 16 13:45:44 2014 -0600

    Remove unused code

 src/fchash.c | 41 -----------------------------------------
 src/fcint.h  |  4 ----
 2 files changed, 45 deletions(-)

commit 48c8b7938a0f1412d31dbe2f4e332e460f624068
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue May 13 21:21:43 2014 +0900

    Allow the modification on FcTypeVoid with FcTypeLangSet and
    FcTypeCharSet

    FcTypeVoid is likely to happen when 'lang' and 'charset'
    is deleted by 'delete' or 'delete_all' mode in edit.
    Without this change, any modification on them are simply
    ignored.

    This is useful to make a lot of changes, particularly
    when one wants to add a few and delete a lot say.

 src/fccfg.c     | 10 ++++++++++
 src/fccharset.c | 15 +++++++++++++++
 src/fcint.h     |  3 +++
 src/fclang.c    | 27 +++++++++++++++------------
 4 files changed, 43 insertions(+), 12 deletions(-)

commit 81664fe54f117e4781fda5a30429b51858302e91
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 22 12:39:12 2014 +0900

    Rebase ja.orth against Joyo kanji characters

    Patch from Akihiro TSUKADA

 fc-lang/ja.orth | 4234
 +------------------------------------------------------
 1 file changed, 7 insertions(+), 4227 deletions(-)

commit f44157c809d280e2a0ce87fb078fc4b278d24a67
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 10 19:27:55 2014 +0900

    Fix fc-cache fail with -r

    Do not unlink the cache even if --really-force is given.
    because re-scanning process expects the cache exists.

    https://bugs.freedesktop.org/show_bug.cgi?id=77252

 fc-cache/fc-cache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 91784eb7d0c9f9f357210f4c82555469da37334a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Apr 4 12:18:28 2014 +0900

    Fix a typo

    https://bugs.freedesktop.org/show_bug.cgi?id=77033

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fcba9ef01c978323fc71c17e455d3cd6ae35edcc
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 26 16:01:49 2014 +0900

    Fix missing docs

 doc/Makefile.am           |  1 +
 doc/fcpattern.fncs        | 27 +++++++++++++++++---
 doc/fcrange.fncs          | 64
 +++++++++++++++++++++++++++++++++++++++++++++++
 doc/fontconfig-devel.sgml |  7 ++++++
 4 files changed, 95 insertions(+), 4 deletions(-)

commit fff91eee7df5a71ed9a63a4b6e3b02c14eaf9cb3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 26 12:22:02 2014 +0900

    Fix a build issue with freetype <2.5.1

 src/fcfreetype.c | 3 ---
 1 file changed, 3 deletions(-)

commit 3cd573fc1fb67db75cd356cad3e901d24af1ce8a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Nov 20 18:44:59 2013 +0900

    Bug 71287 - size specific design selection support in OS/2 table
    version 5

    This feature requires the FreeType 2.5.1 or later at the build time.

    Besides <range> element allows <double> elements with this changes.

    This may breaks the cache but not bumping in this change sets at
    this moment.
    please be aware if you want to try it and run fc-cache before/after to
    avoid the weird thing against it.

 configure.ac            |   4 +
 fontconfig/fcprivate.h  |   3 +
 fontconfig/fontconfig.h |  28 ++++++-
 src/Makefile.am         |   1 +
 src/fccfg.c             |  48 +++++++----
 src/fcdbg.c             |  13 ++-
 src/fcdefault.c         |  47 ++++++-----
 src/fcfreetype.c        |  38 +++++++++
 src/fcint.h             |  85 ++++++++++++++++----
 src/fclist.c            |   2 +
 src/fcmatch.c           |  45 +++++++++++
 src/fcname.c            |  49 +++++++++++-
 src/fcobjs.h            |   2 +-
 src/fcpat.c             |  73 +++++++++++++++++
 src/fcrange.c           | 207
 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcxml.c             | 108 +++++++++++++++++++------
 16 files changed, 663 insertions(+), 90 deletions(-)

commit 9260b7ec39c34ce68d74e16d47917290a8c3f35a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 24 15:03:12 2014 +0900

    Bump version to 2.11.1

 README                  | 57
 +++++++++++++++++++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 57 insertions(+), 4 deletions(-)

commit 812143c34d904fb26de471a579a7e381b7f7f33b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 24 15:02:26 2014 +0900

    Fix autoconf warning, warning: AC_COMPILE_IFELSE was called before
    AC_USE_SYSTEM_EXTENSIONS

    Call AC_USE_SYSTEM_EXTENSIONS before LT_INIT

 configure.ac | 48 ++++++++++++++++++++++++------------------------
 1 file changed, 24 insertions(+), 24 deletions(-)

commit 5478192f379d784b421329e4bf72cc780818e467
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Mar 18 12:14:03 2014 +0900

    Add README describes the criteria to add/modify the orthography files

    https://bugs.freedesktop.org/show_bug.cgi?id=73461

 fc-lang/README | 28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit c6aa4d4bfcbed14f39d070fe7ef90a4b74642ee7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Mar 18 11:51:37 2014 +0900

    Bug 73291 - poppler does not show fl ligature

    commented out substitutions for TeX Gyre Termes font
    until the broken font are fixed.

    https://bugs.freedesktop.org/show_bug.cgi?id=73291

 conf.d/30-metric-aliases.conf | 6 ++++++
 1 file changed, 6 insertions(+)

commit f8ccf379eb1092592ae0b65deb563c5491f69de9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 7 19:42:21 2014 +0900

    Update doc to include the version info of `since when'

    Version section was getting confused to the API's availability,
     even though it was the version the doc was genereated.
    So moving it into the footer and added @SINCE@ field in the data.

 doc/fccache.fncs    | 2 ++
 doc/fccharset.fncs  | 1 +
 doc/fcconfig.fncs   | 2 ++
 doc/fcdircache.fncs | 1 +
 doc/fcformat.fncs   | 1 +
 doc/fclangset.fncs  | 6 ++++++
 doc/fcstrset.fncs   | 1 +
 doc/func.sgml       | 9 +++++----
 8 files changed, 19 insertions(+), 4 deletions(-)

commit 39a2f1e8f98d27b929d56a55a68b3a20d2f8dd32
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 5 18:29:29 2014 +0900

    Fallback to lstat() in case the filesystem doesn't support d_type
    in struct dirent

 src/fcstat.c | 12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit e310d2fac2d874d5aa76c609df70cc7b871c0b6d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Feb 6 19:40:01 2014 +0900

    Fix incompatible API on AIX with random_r and initstate_r

    https://bugs.freedesktop.org/show_bug.cgi?id=74603

 src/fccompat.c | 35 ++++++++++++++++++++++++-----------
 1 file changed, 24 insertions(+), 11 deletions(-)

commit 7d75653285a3cd67b5f066fe899821462d7f324f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Feb 6 17:29:19 2014 +0900

    Add missing #include <sys/statvfs.h> in fcstat.c

    https://bugs.freedesktop.org/show_bug.cgi?id=74602

 configure.ac | 2 +-
 src/fcstat.c | 3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 787619b2c7bfbdc91ed170381f28003e86679c99
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Feb 6 17:15:26 2014 +0900

    Add a doc for FcDirCacheRescan

 doc/fcdircache.fncs | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 80081555fdffea927a53fce2773cfbe9db4c51f0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 31 11:10:02 2014 +0900

    Fix a crash issue when empty strings are set to the BDF properties

 src/fcfreetype.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e2b406053c2937799da8636c56b72a77998bcab0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jan 22 19:35:07 2014 +0900

    Update the use of autotools' macro

 configure.ac | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 5918d5bea5416cf27061db4263aefeb8fd310f0e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 17 13:05:25 2014 +0900

    Add missing license headers

    https://bugs.freedesktop.org/show_bug.cgi?id=73401

 autogen.sh             | 22 ++++++++++++++++++++++
 new-version.sh         | 21 +++++++++++++++++++++
 src/fcobjs.h           | 23 +++++++++++++++++++++++
 src/fcobjshash.gperf.h | 23 +++++++++++++++++++++++
 test/run-test.sh       | 21 +++++++++++++++++++++
 test/test-migration.c  | 24 ++++++++++++++++++++++++
 test/test-pthread.c    | 26 ++++++++++++++++++++++++--
 7 files changed, 158 insertions(+), 2 deletions(-)

commit bfdd40efd1c82dec5c818c8ce5f78d96fe0ebede
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 17 12:57:56 2014 +0900

    clean up the unused files

 config/Makedefs.in  |   76 ---
 config/config-subst |   10 -
 config/config.guess | 1497
 -----------------------------------------------
 config/config.sub   | 1608
 ---------------------------------------------------
 config/install.sh   |  240 --------
 5 files changed, 3431 deletions(-)

commit f35b44c35bf8468ea4c28c7efa77b47b1e2a1930
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 17 12:24:02 2014 +0900

    Update zh_hk.orth

    Patch from Abel Cheung

    https://bugs.freedesktop.org/show_bug.cgi?id=73461

 fc-lang/zh_hk.orth | 2249
 +++++++++++++---------------------------------------
 1 file changed, 564 insertions(+), 1685 deletions(-)

commit 320283cd70ae31ce46b03e0c5da55412089ce953
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 16 19:30:35 2014 +0900

    Bug 73686 - confdir is not set correctly in fontconfig.pc

 fontconfig.pc.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7a6622f25cdfab5ab775324bef1833b67109801b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 5 19:15:47 2013 +0900

    Improve the performance issue on rescanning directories

Notes:
    Tested-by: Jeremy Huddleston Sequoia <jeremyhu@apple.com>

 fc-cache/fc-cache.c     | 10 ++++++++--
 fontconfig/fontconfig.h |  3 +++
 src/fccache.c           | 13 +++++++++++++
 src/fcdir.c             | 46
 +++++++++++++++++++++++++++++++++++++++++++++-
 src/fcfs.c              | 22 ++++++++++++++++++++++
 src/fcint.h             |  6 ++++++
 src/fcpat.c             |  2 ++
 7 files changed, 99 insertions(+), 3 deletions(-)

commit 5c725f2f5829238d16116f782d00d8bb0defaf08
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 16 17:44:37 2013 +0900

    Fix a build issue on platforms where doesn't support readlink()

 configure.ac    | 2 +-
 src/fcdefault.c | 4 +++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 1132c98b7b760be24a301c9dbd24e348f6601fed
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 16 16:00:12 2013 +0900

    Fix a typo

 conf.d/10-no-sub-pixel.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fee834a9c9e1089a9ae29b1d8e8b6a4cc710204b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 9 21:21:57 2013 -0500

    Bug 72380 - Never drop first font when trimming

    Let me show it with an example.

    Currently:

    $ fc-match symbol
    symbol.ttf: "Symbol" "Regular"

    $ fc-match symbol --sort | head -n 1
    Symbol.pfb: "Symbol" "Regular"

    $ fc-match symbol --sort --all | head -n 1
    symbol.ttf: "Symbol" "Regular"

    I want to make sure the above three commands all return the same font.
    Ie.  I want to make sure FcFontMatch() always returns the first font
    from FcFontSort().  As such, never trim first font.

 src/fcmatch.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit c9e24f9ef41e2c3e552ddd35d8c70daae5b505cd
Author: Jehan <jehan@girinstud.io>
Date:   Sun Nov 17 22:38:28 2013 +1300

    Defaulting <cachedir> to LOCAL_APPDATA_FONTCONFIG_CACHE for Win32
    build

    https://bugs.freedesktop.org/show_bug.cgi?id=71691

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2e933bd8bcad936717b6b9d8a22b86b7ddb5457e
Author: Frederic Crozat <fcrozat@suse.com>
Date:   Fri Dec 6 14:23:52 2013 +0100

    Add metric aliases for additional Google ChromeOS fonts

    MS fonts Cambria, Symbol and Calibri have compat metrics fonts
    from ChromeOS.

    https://bugs.freedesktop.org/show_bug.cgi?id=72395

 conf.d/30-metric-aliases.conf | 43
 +++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 43 insertions(+)

commit 6a06e29491ffdb5be6342164b96de59c6fa07b32
Author: Frederic Crozat <fcrozat@suse.com>
Date:   Fri Dec 6 14:08:08 2013 +0100

    Fix inversion between Tinos and Cousine in the comment

 conf.d/30-metric-aliases.conf | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d97fbbe9f59965167fbc0bdc49f983c2bc96d521
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 2 19:18:25 2013 +0900

    Simplify to validate the availability of scandir

 configure.ac | 48 +++++++++++++++++++++++-------------------------
 1 file changed, 23 insertions(+), 25 deletions(-)

commit 51521153490ab0b01959c10c57e476de3ad27acb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 2 18:43:10 2013 +0900

    Simplify to validate the availability of posix_fadvise

 configure.ac          | 12 ++----------
 m4/ac_check_symbol.m4 | 48
 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/fccache.c         |  2 +-
 3 files changed, 51 insertions(+), 11 deletions(-)

commit 59fd9960bbb58fd6257adb13ec0f918882149332
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 2 15:53:57 2013 +0900

    Bug 72086 - Check for gperf in autogen.sh

 autogen.sh | 9 +++++++++
 1 file changed, 9 insertions(+)

commit a5fd7912ff8c7bc72d2cdbd0038c7ff0c968831f
Author: Ross Burton <ross.burton@intel.com>
Date:   Tue Nov 26 17:18:25 2013 +0000

    fc-cache: --sysroot option takes an argument

    The getopt_long option definitions say that sysroot doesn't take
    an argument,
    when it in fact does.

    Signed-off-by: Ross Burton <ross.burton@intel.com>

 fc-cache/fc-cache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 38acb08d9778ebad2bfc3407532adf8f2e8e667e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 11 11:53:09 2013 +0900

    Fix typo

    Use FcTypeUnknown instead of -1 with type casting.
    This seems missed when it was changed.

    Patch from brian porter

 src/fcxml.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a4443e64c89256087d40462cfbb482950873e366
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 5 20:30:35 2013 +0900

    Re-scan font directories only when it contains subdirs

    Somewhat improves the performance but still need to think about for
    the situation
    where both directories and fonts are in.

 fc-cache/fc-cache.c | 26 ++++++++++++++++++--------
 1 file changed, 18 insertions(+), 8 deletions(-)

commit 0b7f42f777a14ee61783fd95dd04e870f02d201e
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sat Nov 2 10:23:57 2013 -0700

    Avoid null pointer dereference in FcNameParse if malloc fails

    Reported by parfait 1.3:
    Error: Null pointer dereference (CWE 476)
       Read from null pointer t
            at line 423 of src/fcname.c in function 'FcNameParse'.
              Function _FcObjectLookupOtherTypeByName may return constant
              'NULL'
               at line 63, called at line 122 of src/fcobjs.c in function
               'FcObjectLookupOtherTypeByName'.
              Function FcObjectLookupOtherTypeByName may return constant
              'NULL'
               at line 122, called at line 67 of src/fcname.c in function
               'FcNameGetObjectType'.
              Function FcNameGetObjectType may return constant 'NULL'
              at line 67,
               called at line 422 in function 'FcNameParse'.
              Null pointer introduced at line 63 of src/fcobjs.c in
              function
               '_FcObjectLookupOtherTypeByName'.

    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

 src/fcname.c | 2 ++
 1 file changed, 2 insertions(+)

commit 5b8380d52eae55cba0adcc47d78a53c320d294ec
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sat Nov 2 10:23:56 2013 -0700

    Avoid memory leak when NULL path passed to FcStrBuildFilename

    Reported by parfait 1.3:
       Memory leak of pointer sset allocated with FcStrSetCreate()
            at line 933 of src/fcstr.c in function 'FcStrBuildFilename'.
              sset allocated at line 927 with FcStrSetCreate().
              sset leaks when sset != NULL at line 932.

    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

 src/fcstr.c | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit cb72901d0b7dff73ea2596491c5db602e4750853
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sat Nov 2 10:23:55 2013 -0700

    Leave room for null terminators in arrays

    Code currently returns a fatal error if it tries to add more entries
    than the array has room for, but it wasn't checking to make sure
    the final null terminator entry would fit.

    Reported by parfait 1.3:
    Error: Buffer overrun
       Buffer overflow (CWE 120): In array dereference of files[i]
       with index i
          Array size is 256 elements (of 4 bytes each), index >= 0 and
          index <= 256
            at line 250 of fc-glyphname/fc-glyphname.c in function 'main'.
    Error: Buffer overrun
       Buffer overflow (CWE 120): In array dereference of entries[i]
       with index i
          Array size is 1024 elements (of 8 bytes each), index >= 0 and
          index <= 1024
            at line 298 of fc-lang/fc-lang.c in function 'main'.

    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

 fc-glyphname/fc-glyphname.c | 2 +-
 fc-lang/fc-lang.c           | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 767108aa1327cf0156dfc6f024dbc8fb783ae067
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 31 22:12:26 2013 +0900

    Correct DTD

 fonts.dtd | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aa22e6e63933e8b31a032835b712b7ed596534cc
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 24 19:48:48 2013 +0900

    Warn if no <test> nor <edit> elements in <match>

    This corrects an error message being reported at
      https://bugs.freedesktop.org/show_bug.cgi?id=71085
      Bug 71085 - "out of memory" errors on empty match element in
      fonts.conf

    and somewhat works as a workaround for
      https://bugs.freedesktop.org/show_bug.cgi?id=59438
      Bug 59438 - Fix <alias> inside <match>

 src/fcxml.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 525a135ccf53e4bf3363c3143d9cfdf15fba55ab
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Oct 28 11:54:04 2013 +0900

    Change the default weight on match to FC_WEIGHT_NORMAL

 src/fcdefault.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 65872e9e46d17e4461c3a891ef23abe156005e04
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 24 19:35:26 2013 +0900

    Fix a build issue on Solaris 10

    Use own mkdtemp implementation if not available.

    Reported by Thomas Klausner and Jörn Clausen

 configure.ac          |  2 +-
 test/test-migration.c | 15 ++++++++++++++-
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 76ea9af816a50c6bb0b3dc2960460a90fadd9cdb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Oct 22 15:00:29 2013 +0900

    Use stat() if there are no d_type in struct dirent

    Reported by Thomas Klausner

 test/test-migration.c | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 5e029db4971e37437cfe6147d52d00136dfb8cb5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Oct 21 12:16:46 2013 +0900

    Fix the dynamic loading issue on NetBSD

    On NetBSD, it is not supported to load a library linked against
    libpthread into a program that wasn't (since the C library provides
    stubs for some pthread-functions, which might have already been called
    before libpthread is loaded, leading to problems).

    Patch from Matthias Drochner

 m4/ax_pthread.m4 | 5 +++++
 1 file changed, 5 insertions(+)

commit ff0e0d17b254f71592dfa29a988a82efefff8913
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Oct 21 12:13:31 2013 +0900

    Update ax_pthread.m4 to the latest version

 m4/ax_pthread.m4 | 71
 +++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 47 insertions(+), 24 deletions(-)

commit 06b388523d747db16708c1662f3c6d64a36d5daf
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Oct 21 11:50:55 2013 +0900

    Fix build issue on Debian/kFreeBSD 7.0

    There are posix_fadvise(2) but not POSIX_FADV_WILLNEED.
    Patch from Ryo ONODERA.

 src/fccache.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5406919c5e186f74ccdade1a65344ce7b5c56a64
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Oct 11 19:31:22 2013 +0900

    do not build test-migration for Win32

    This testing code is for XDG base directory spec which may be not
    interesting for them

 test/Makefile.am | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit f16c3118e25546c1b749f9823c51827a60aeb5c1
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Oct 11 13:27:33 2013 +0900

    Bump version to 2.11.0

 README                  | 29 +++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  4 ++--
 3 files changed, 30 insertions(+), 5 deletions(-)

commit f82a032f417445abbb4399344766102aff255b6c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Oct 11 13:27:24 2013 +0900

    Update CaseFolding.txt to Unicode 6.3

    No real updates between 6.2 and 6.3.

 fc-case/CaseFolding.txt | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c4c90ffc7a7eec42fc0b84f1a7af464a4c9fcfd8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Oct 11 12:40:23 2013 +0900

    Bump libtool revision

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9a4310176bb11e1e826d238eb0761b7895b48883
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Oct 9 12:19:35 2013 +0900

    Add missing doc for FcStrListFirst and fix a typo

 doc/fcstrset.fncs | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 604c2a683f1357fc65bad372b5d25a90099f827f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Oct 3 19:59:30 2013 +0900

    exit with the error code when FcNameParse() failed

 fc-list/fc-list.c       | 5 +++++
 fc-match/fc-match.c     | 5 +++++
 fc-pattern/fc-pattern.c | 5 +++++
 3 files changed, 15 insertions(+)

commit 0203055520206028eecee5d261887cdc91500e15
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Oct 2 16:34:34 2013 +0900

    Workaround the race condition issue on updating cache

 fc-cache/fc-cache.c     | 62
 ++++++++++++++++++++++++++++---------------------
 fontconfig/fontconfig.h |  3 +++
 src/fcstr.c             |  6 +++++
 3 files changed, 45 insertions(+), 26 deletions(-)

commit 9161ed1e4a3f4afaee6dbcfc0b84a279ad99b397
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Sep 30 11:30:00 2013 +0900

    Add the relative path for <include> to fonts.conf if the parent path
    is same to fonts.conf

    Bug 69836 - fonts.conf.in update for Windows cross-compiling

 Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 96c5f3cf0ff57e7bbb08cc1e0e78ed0542096484
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Sep 26 18:44:10 2013 +0900

    clean up

 conf.d/Makefile.am | 2 +-
 configure.ac       | 6 +-----
 2 files changed, 2 insertions(+), 6 deletions(-)

commit 43f768b53f554cf0f927ccac5daf96877f9fc69c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Sep 26 17:46:26 2013 +0900

    avoid reading config.h twice

    config.h is read from fcint.h now so having a line of the sort of
    #include "config.h"
    is duplicate.

    Bug 69833 - Incorrect SIZEOF_VOID_P and ALIGNOF_DOUBLE definitions
    causes nasty warnings on MacOSX when building fat libraries

 src/fcarch.c   | 4 ----
 src/fccache.c  | 3 ---
 src/fccompat.c | 4 ----
 src/fchash.c   | 3 ---
 src/fcstat.c   | 3 ---
 5 files changed, 17 deletions(-)

commit 102864d0dba46c99b22c912454c1f58731287405
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Sep 25 11:41:23 2013 +0900

    Add the description of -q option to the man page

 fc-list/fc-list.sgml | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 2b0fca14ad202d4dbd32478dc367e648833866c0
Author: W. Trevor King <wking@tremily.us>
Date:   Sat Sep 21 17:06:50 2013 -0700

    doc/fccharset.fncs: Describe the map format in more detail

    The previous documentation for FcCharSetFirstPage and
    FcCharSetNextPage was technically accurate, but a bit terse.  I've
    added an example using the returned page (root code point) and map to
    give folks something concrete to work with.  I've also documented
    FC_CHARSET_DONE, which wasn't mentioned at all before.

 doc/fccharset.fncs | 36 ++++++++++++++++++++++++++++++------
 1 file changed, 30 insertions(+), 6 deletions(-)

commit 8a174b6c51581df6ffd6a5da056949c6c79337cf
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Sep 24 11:14:57 2013 +0900

    Fix a crash when FcPattern is set to null on FcFontSetList()
    and FcFontList()

 src/fclist.c | 2 ++
 1 file changed, 2 insertions(+)

commit 643f8088f0d51107e58d142df47124efec6afab1
Author: Jan Alexander Steffens (heftig) <jan.steffens@gmail.com>
Date:   Sat Sep 14 02:25:26 2013 +0200

    Further changes to 30-metric-aliases.conf

    Big changes:
    * Handle more PostScript fonts (further reduce 30-urw-aliases.conf)
    * Update the big comment

    Specific->Generic:
    * Add missing maps, for symmetry

    Generic<->Generic:
    * Add "Helvetica Condensed" <-> "Arial Narrow" map

    Generic->Specific:
    * Add missing Courier -> Cursor alias
    * Add "Helvetica Condensed" -> "Heros Cn" alias
    * Remove Arial -> Heros and "Times New Roman" -> Termes maps

 conf.d/30-metric-aliases.conf | 319
 ++++++++++++++++++++++++++++++++++--------
 conf.d/30-urw-aliases.conf    |  24 +---
 2 files changed, 261 insertions(+), 82 deletions(-)

commit 5e6b8894ea9d03caabdfc3a6bcd0c402edf840a8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Sep 18 17:31:10 2013 +0900

    Copy all values from the font to the pattern if the pattern doesn't
    have the element

 src/fcmatch.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 7e44a0b5a88e597b33ba9e2cc3a6d4555736db0a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Sep 10 17:45:11 2013 +0900

    Bug 68955 - Deprecate / remove FC_RASTERIZER

 doc/fontconfig-devel.sgml | 2 +-
 doc/fontconfig-user.sgml  | 2 +-
 fontconfig/fontconfig.h   | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit a61e145304da86c8c35b137493bbd8fd5dd1e7f5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Sep 9 19:59:31 2013 +0900

    Fix memory leaks in FcFreeTypeQueryFace

 src/fcfreetype.c | 15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit 6720892e97f11fbe8d69ae5b3875d928c68ff90e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Sep 2 20:52:20 2013 +0900

    Add a test case of the migration for config place

 test/Makefile.am      |   7 +-
 test/test-migration.c | 172
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 177 insertions(+), 2 deletions(-)

commit 3e5f70a16ac6d54f1e01c92ddaa5985deec1b7f9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Sep 2 20:51:46 2013 +0900

    Do not create a config dir for migration when no config files nor dirs

 src/fcxml.c | 15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit d2bb1a8381ba50dce79a487cd82087ca57fdcb68
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Aug 31 10:50:07 2013 +0900

    Bump version to 2.10.95

 README                  | 10 ++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 10 insertions(+), 4 deletions(-)

commit 272a99217b15e9cf1e4d2a1dcf92b540576c29a6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Aug 31 10:43:13 2013 +0900

    Fix a crash

 src/fccfg.c | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 071ce44c35733e54cb477cc75810cbe55025b619
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Aug 29 20:53:58 2013 +0900

    Fix a typo

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 06dd98b2a3271e5f02787f208f73f13f794cb1bf
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Aug 29 17:38:29 2013 +0900

    Bump version to 2.10.94

 README                  | 37 +++++++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 37 insertions(+), 4 deletions(-)

commit 53ad60deabb787671a862b8d1fab52f8b71bf765
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Aug 29 17:12:45 2013 +0900

    Add quz.orth to Makefile.am

 fc-lang/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit c6228f8091ab91b67ea006ad5a1b1da97b3d4a5a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 27 12:28:52 2013 +0900

    Bug 68587 - copy qu.orth to quz.orth

 fc-lang/quz.orth | 36 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit fba9efecd2ef3aca84e0a4806899c09ba95f4c19
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Aug 26 12:47:07 2013 +0900

    Fix a wrong edit position when 'kind' is different

 src/fccfg.c | 24 ++++++++++++++++--------
 1 file changed, 16 insertions(+), 8 deletions(-)

commit 223c1384c98caaf9ba5d2cddf7465b7b3a82316b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Aug 23 20:42:37 2013 +0900

    Fix a crash when non-builtin objects are edited

 src/fccfg.c | 28 +++++++++++-----------------
 src/fcint.h |  5 +++--
 2 files changed, 14 insertions(+), 19 deletions(-)

commit 6c664d533d242112c30e0d3b585e90a361a1b959
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Aug 23 19:58:43 2013 +0900

    Fix a typo

 src/fcxml.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit f3bb3f19c917e3fd0a0cdd9a2adf8f827e7a5838
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 21 14:31:55 2013 -0400

    Fix assertion

    Apparently some AIX versions have 64bit pointers yet 32bit double
    alignment.  Fix assertion.

 src/fcarch.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ec3f0af6f09292126a54b7abe2313e5124ef9a4c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 21 14:27:16 2013 -0400

    Minor

 src/fcarch.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 104a2af0dd60f68a1e3f9e5f99e6180336ce28c2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 21 13:12:41 2013 +0900

    Bug 63399 - Add default aliases for Georgia, Garamond, Palatino
    Linotype, Trebuchet MS

 conf.d/45-latin.conf | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 010c973df5544996f5d8774e361d45daa5b61b52
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 21 13:12:22 2013 +0900

    Bug 68340 - More metric compat fonts

 conf.d/30-metric-aliases.conf | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 084cf7c44e985dd48c088d921ad0d9a43b0b00b4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 14 12:51:26 2013 +0900

    Bug 16818 - fontformat in match pattern is not respected?

 src/fcmatch.c | 1 +
 src/fcobjs.h  | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 45221ab12fa7001b9659293d4833f828801d2518
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 7 12:19:33 2013 +0900

    Bug 67845 - Match on FC_SCALABLE

 src/fcmatch.c | 1 +
 src/fcobjs.h  | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 041deb0cc541692e260b93232b9957c2538e3bb9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Aug 7 11:57:19 2013 +0900

    warn deprecated only when migration failed

 src/fccache.c  | 28 ----------------------------
 src/fccompat.c | 27 +++++++++++++++++++++++++++
 src/fcdir.c    | 10 ++++++++++
 src/fcint.h    |  6 ++++++
 src/fcxml.c    | 59
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 5 files changed, 101 insertions(+), 29 deletions(-)

commit d52daa0024a6c0bb160c3b3c7f85d0b031f88c85
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Aug 6 15:09:23 2013 +0900

    Bug 67809 - Invalid read/write with valgrind when assigning something
    twice

 src/fccfg.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a51d2767ce4d88017bd7d34ccb9e352d1687a3c0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Aug 5 20:04:13 2013 +0900

    Fix wrong edit position

 src/fccfg.c  | 100
 +++++++++++++++++++++++++++++++++++++++--------------------
 src/fcint.h  |   5 +++
 src/fcobjs.c |   2 +-
 3 files changed, 72 insertions(+), 35 deletions(-)

commit 338ffe6b886ad4ba86ff471cb59c4a5e5ffbe408
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jul 12 14:52:01 2013 +0900

    Correct fontconfig.pc to add certain dependencies for static build

 configure.ac     | 14 ++++----------
 fontconfig.pc.in |  7 ++++---
 2 files changed, 8 insertions(+), 13 deletions(-)

commit 7274f6e37a4d1a062b4eee3a625bd393a283a9d0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jul 12 12:39:36 2013 +0900

    Correct fontconfig.pc to add certain dependencies for build

 configure.ac     | 26 +++++++++++++++++++++++---
 fontconfig.pc.in |  7 ++++---
 2 files changed, 27 insertions(+), 6 deletions(-)

commit 04bd904632b22682c888f658650cdcd322544273
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 9 16:43:26 2013 +0900

    trivial code optimization

 src/fcxml.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit d420e1df983871ab18b0f07976596fdf0ce78847
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 4 19:51:03 2013 +0900

    Rework to apply the intermixed test and edit elements in one-pass

 src/fccfg.c | 349
 +++++++++++++++++++++++++++---------------------------------
 src/fcdbg.c |  39 +++++--
 src/fcint.h |  29 +++--
 src/fcxml.c | 245 ++++++++++++++++++++----------------------
 4 files changed, 321 insertions(+), 341 deletions(-)

commit 1162515a9819c7355890aad919e5b9daa448a3a4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jul 3 11:56:58 2013 +0900

    Add FC_UNUSED to FC_ASSERT_STATIC macro to avoid compiler warning

 src/fcint.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cbf06d7d3c797b97d720909fd4554d1771d41c20
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 2 19:04:36 2013 +0900

    Use INT_MAX instead of unreliable hardcoding value

 src/fcint.h | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ab5b535704fbcab43040d80100cb19cb33f6219d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 2 18:54:29 2013 +0900

    Ignore scandir() check on mingw

 configure.ac | 50 ++++++++++++++++++++++++++------------------------
 1 file changed, 26 insertions(+), 24 deletions(-)

commit 0907589a79d05aeed9bc6bff783838b0eb25736b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jun 28 15:54:38 2013 +0900

    Fix the behavior of intermixed tests end edits in match

    to get the following recipe working:

    <match>
      <test1 .../>
      <edit1 .../>
      <test2 .../>
      <edit2 .../>
    </match>

    as:

    <match>
      <test1 .../>
      </edit1 .../>
    </match>
    <match>
      <test1 .../>
      <test2 .../>
      <edit2 .../>
    </match>

 src/fccfg.c | 27 ++++++++++++++++-----------
 src/fcint.h |  1 +
 src/fcxml.c | 37 ++++++++++++++++++++++++++++++++++++-
 3 files changed, 53 insertions(+), 12 deletions(-)

commit 197d06c49b01413303f2c92130594daa4fcaa6ad
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jun 28 15:04:11 2013 +0900

    Add FcTypeUnknown to FcType to avoid comparison of constant -1

    This change reverts 9acc14c34a372b54f9075ec3611588298fb2a501
    because it doesn't work as expected when building
    with -fshort-enums which is default for older arms ABIs

    Thanks for pointing this out, Thomas Klausner, Valery Ushakov,
    and Martin Husemann

 fontconfig/fcprivate.h  | 3 ++-
 fontconfig/fontconfig.h | 1 +
 src/fccfg.c             | 4 +++-
 src/fcdbg.c             | 7 +++++++
 src/fcint.h             | 6 ++++--
 src/fclist.c            | 1 +
 src/fcname.c            | 5 ++++-
 src/fcobjs.c            | 2 +-
 src/fcpat.c             | 5 ++++-
 src/fcxml.c             | 2 +-
 10 files changed, 28 insertions(+), 8 deletions(-)

commit 38ab7ab2fbd83c0c62e4b78302b5fe89da0cb79e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jun 27 13:10:27 2013 +0900

    Fix a incompatible pointer warning on NetBSD

 configure.ac | 29 +++++++++++++++++++++++++++++
 src/fcstat.c | 10 ++++++++++
 2 files changed, 39 insertions(+)

commit 8603e5869505ff06d443b8b22d5357d4caaaac24
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jun 27 12:30:56 2013 +0900

    Fix a shift count overflow on 32bit box

 src/fchash.c | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 9acc14c34a372b54f9075ec3611588298fb2a501
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jun 26 12:03:38 2013 +0900

    Fix a comparison of constant warning with clang

 src/fcname.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd9b1033a68816a7acfbba1718ba0aa5888f6ec7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 24 13:55:07 2013 +0900

    Bug 64906 - FcNameParse() should ignore leading whitespace in
    parameters

    After this change, the following works as expected:
    $ FC_DEBUG=4 fc-match ":family=foo bar, sans-serif"
    ...
    FcConfigSubstitute Pattern has 3 elts (size 16)
            family: "foo bar"(s) "sans-serif"(s)
    ...

 src/fcname.c | 6 ++++++
 1 file changed, 6 insertions(+)

commit 8d54091513c00905457e0ee49ba6ea2c4aacddd7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon May 20 17:42:34 2013 +0900

    Bump version to 2.10.93

 README                  | 21 +++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 21 insertions(+), 4 deletions(-)

commit 1cad82cde29ea488ea22541b46ed347d10952557
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri May 10 20:26:11 2013 +0900

    Bug 63922 - FcFreeTypeQueryFace fails on postscripts fonts loaded
    from memory

    Workaround to not failing even when the hash is unable to generate
    from fonts.
    This change also contains to ignore the case if the hash isn't in
    either both
    patterns.

 src/fcfreetype.c | 16 +++++++++-------
 src/fcmatch.c    | 30 +++++++++++++++++++++---------
 src/fcobjs.h     |  2 +-
 3 files changed, 31 insertions(+), 17 deletions(-)

commit 0f9aa8759df563332db60055ae33dd9424ebf802
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu May 16 13:41:32 2013 +0900

    Fix missing OSAtomicCompareAndSwapPtrBarrier() on Mac OS X 10.4

    based on hb-atomic-private.hh in harfbuzz

 src/fcatomic.h | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit 93137252cfab1c38e1c9137d831c177665e0592a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon May 13 12:14:29 2013 +0900

    Bug 63452 - conf.d/README outdated

    reflect correct path where is configured at the build time.

 conf.d/Makefile.am           | 11 ++++++++---
 conf.d/{README => README.in} |  6 +++---
 2 files changed, 11 insertions(+), 6 deletions(-)

commit f6244d2cf231e1dc756f3e941e61b9bf124879bb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed May 8 11:57:49 2013 +0900

    Use the glob matching for filename

    Regex is expensive to compare filenames. we already have the glob
    matching
    and it works enough in this case.

    Prior to this change, renaming FcConfigGlobMatch() to FcStrGlobMatch()
    and moving to fcstr.c

 src/fccfg.c   | 46 +---------------------------------------------
 src/fcint.h   |  4 ++++
 src/fcmatch.c |  6 ++----
 src/fcstr.c   | 44 ++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 51 insertions(+), 49 deletions(-)

commit 03216ccf4ca0808f9c7b9513efcaeb7f4058b575
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 10 18:41:22 2013 +0900

    Bug 63329 - make check fails: .. contents:: :depth: 2

    Add back FcHashGetSHA256DigestFromFile() and fall back to it
    when font isn't SFNT-based font because FT_Load_Sfnt_Table
    fails with FT_Err_Invalid_Face_Handle.

 src/fcfreetype.c | 32 ++++++++++++++++++++---------
 src/fchash.c     | 62
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h      |  4 ++++
 3 files changed, 88 insertions(+), 10 deletions(-)

commit 77419a4dfdf41ed34dd03e74d0e4e6f89dbc65e1
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 10 11:14:39 2013 +0900

    documented FC_HASH and FC_POSTSCRIPT_NAME

 doc/fontconfig-devel.sgml | 3 +++
 1 file changed, 3 insertions(+)

commit fc5a589abad0e8285f7d95007ebda76536e8fa7d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 9 17:18:43 2013 +0900

    Revert the previous change and rework to not export freetype API
    outside fcfreetype.c

 src/fcfreetype.c | 23 ++++++++++++++++++++---
 src/fchash.c     | 47 ++++++++++++-----------------------------------
 src/fcint.h      |  5 ++---
 3 files changed, 34 insertions(+), 41 deletions(-)

commit c93a8b8b54afe33e5ecf9870723543cb4058fa94
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 9 12:46:30 2013 +0900

    Obtain fonts data via FT_Face instead of opening a file directly

 src/fcfreetype.c |  2 +-
 src/fchash.c     | 50 +++++++++++++++++++++++++++++++++-----------------
 src/fcint.h      |  4 +++-
 3 files changed, 37 insertions(+), 19 deletions(-)

commit 9299155b5247255d6b6687448173056c3ca8d09b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 9 11:34:35 2013 +0900

    Ensure closing fp on error

 src/fchash.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 18bf57c70aafcad031c0b43756b754dcaf6a756a
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Apr 7 00:02:58 2013 +0000

    build-chain, replace INCLUDES directive by AM_CPPFLAGS

    As of automake-13.1 the INCLUDES directive is no longer supported.
    An automake run will return with an error.

    This changeset simply follows automake's advice to replace INCLUDES
    by AM_CPPFLAGS.

 Tools.mk                | 4 ++--
 fc-cache/Makefile.am    | 2 +-
 fc-cat/Makefile.am      | 2 +-
 fc-list/Makefile.am     | 2 +-
 fc-match/Makefile.am    | 2 +-
 fc-pattern/Makefile.am  | 2 +-
 fc-query/Makefile.am    | 2 +-
 fc-scan/Makefile.am     | 2 +-
 fc-validate/Makefile.am | 2 +-
 src/Makefile.am         | 2 +-
 10 files changed, 11 insertions(+), 11 deletions(-)

commit 8fd0ed60a62cb7f36b2ade1bd16a66671eaf79da
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Apr 1 18:16:28 2013 +0900

    Bug 62980 - matching native fonts with even :lang=en

    Fix the matcher modified by 4eab908c8679a797ac7016b77a93ee41bb11b0fc
    to deal with both strong and weak of FC_LANG as the same location
    in the score

 src/fcmatch.c | 23 +++++++----------------
 1 file changed, 7 insertions(+), 16 deletions(-)

commit 73fa326d1e791b587da93b795f962c3405b7a96d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 29 16:10:15 2013 +0900

    Bump version to 2.10.92

 README                  | 65
 +++++++++++++++++++++++++++++++++++++++++++++++--
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 65 insertions(+), 4 deletions(-)

commit c842412c079e781d53f023616d9758223fb68323
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 29 16:07:30 2013 +0900

    Minor fix

 new-version.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b3b435b87f1aec1b2779fd7edbbff5571c3c61a2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 29 16:02:34 2013 +0900

    Bump libtool revision

 configure.ac | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3fc22cfe756fcb2d6c5a64aa305957c417c6cecd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 29 12:46:04 2013 +0900

    Minor cleanup

 Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit b561ff2016ce84eef3c81f16dfb0481be6a13f9b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 18 11:30:10 2013 +0900

    Bug 38737 - Wishlist: support FC_POSTSCRIPT_NAME

    Add the PostScript name into the cache and the matcher.
    Scoring the better font against the PostScript name by
    the forward-matching.

 fontconfig/fontconfig.h |  1 +
 src/fcfreetype.c        | 49 +++++++++++++++++++++++++++-
 src/fcint.h             |  6 ++++
 src/fcmatch.c           | 21 ++++++++++++
 src/fcobjs.h            |  1 +
 src/fcstr.c             | 85
 ++++++++++++++++++++++++++++---------------------
 6 files changed, 125 insertions(+), 38 deletions(-)

commit c758206e8c0e5b572bd34183b184ef4361745333
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 21 11:58:06 2013 +0900

    Fix a SIGSEGV on FcPatternGet* with NULL pattern

 src/fcpat.c | 2 ++
 1 file changed, 2 insertions(+)

commit bdf1581e3de5528f397f19bfd4ca9caaf9e7fe4a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Mar 8 05:53:27 2013 -0500

    Fix crash with FcConfigSetCurrent(NULL)

 src/fccfg.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aad4d6f6c68d06415333f5d0d3e4b4870114f11d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 7 13:19:50 2013 +0900

    Do not copy FC_*LANG_OBJECT even if it's not available on the pattern

    those objects are linked to the corresponding string objects.
    this may causes inconsistency that those objects has more values
    than them.

 src/fcmatch.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit e96d7760886a3781a46b3271c76af99e15cb0146
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Feb 6 19:35:30 2013 +0900

    Bug 59456 - Adding a --sysroot like option to fc-cache

    Add an ability to set the system root to generate the caches.
    In order to do this, new APIs, FcConfigGetSysRoot() and
    FcConfigSetSysRoot() is available.

 doc/fcconfig.fncs       | 21 +++++++++++
 fc-cache/fc-cache.c     | 38 +++++++++++++------
 fontconfig/fontconfig.h |  7 ++++
 src/fccache.c           | 99
 +++++++++++++++++++++++++++++++++----------------
 src/fccfg.c             | 57 ++++++++++++++++++++++++++++
 src/fcinit.c            | 30 ++++++++++-----
 src/fcint.h             | 15 +++++++-
 src/fcstr.c             | 62 ++++++++++++++++++++++++++++++-
 8 files changed, 275 insertions(+), 54 deletions(-)

commit 569657a24ca11aedfd3b588984344d7ab97fe09f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Mar 5 12:46:01 2013 +0900

    Fix a memory leak

 src/fclang.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 612ee2a5c91b8929b2cc5abce4af84d8d7e66bd0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 1 22:21:25 2013 +0900

    Fix broken sort order with FcFontSort()

    which was introduced by 4eab908c8679a797ac7016b77a93ee41bb11b0fc

 src/fcmatch.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit ea4ebd59377d3dff3616bd20381f308a92781ae6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 1 19:38:21 2013 +0900

    Fix a crash when the object is non-builtin object

 src/fcmatch.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 10230497675fa4fcbb427efe8dd2883839ddaec0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 1 18:41:27 2013 +0900

    Fix a typo

 conf.d/30-metric-aliases.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit db69bf6ecd0da4d23bdfe38652bb53d2daa655a2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 1 18:31:01 2013 +0900

    Bug 60783 - Add Liberation Sans Narrow to 30-metric-aliases.conf

    Add Liberation Sans Narrow as an alias for Arial Narrow

 conf.d/30-metric-aliases.conf | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 2c696255749683e9a084f797eb033d222510a275
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Feb 18 13:17:53 2013 +0900

    Bug 60748 - broken conf.d/10-autohint.conf and conf.d/10-unhinted.conf

    Move the target of recipes to the "pattern" from the "font".
    This is to ensure the targeted objects is updated by them
    prior to FcDefaultSubstitute() so that it can adds the default
    values properly.

 conf.d/10-autohint.conf          | 2 +-
 conf.d/10-no-sub-pixel.conf      | 2 +-
 conf.d/10-sub-pixel-bgr.conf     | 2 +-
 conf.d/10-sub-pixel-rgb.conf     | 2 +-
 conf.d/10-sub-pixel-vbgr.conf    | 2 +-
 conf.d/10-sub-pixel-vrgb.conf    | 2 +-
 conf.d/10-unhinted.conf          | 2 +-
 conf.d/11-lcdfilter-default.conf | 2 +-
 conf.d/11-lcdfilter-legacy.conf  | 2 +-
 conf.d/11-lcdfilter-light.conf   | 2 +-
 10 files changed, 10 insertions(+), 10 deletions(-)

commit 83f679ce558de736ef1a095a362397da0ac3417f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Feb 15 09:48:38 2013 -0500

    Accept digits as part of OpenType script tags

    They've been used since 2005.

 src/fcfreetype.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 72b0480a21958f0f8c115d8e0a5bfbd8d358b5c3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Feb 7 17:56:17 2013 +0900

    Add Culmus foundry to the vendor list

    Maps fonts produced by the Culmus project
    <http://culmus.sourceforge.net>
    to the XLFD foundry name culmus.

    For TrueType fonts, maps the vendor code CLM from the TrueType vendor
    id field.

    For Type1 fonts, which use heuristics to guess mappings to XLFD
    foundries from
    words in the copyright notice, add the names of the main contributors
    to
    the Culmus product to recognize the fonts under their copyright.

    Patch from Maxim Iorsh

 src/fcfreetype.c | 67
 +++++++++++++++++++-------------------------------------
 1 file changed, 23 insertions(+), 44 deletions(-)

commit 96220a5ed9d1d761b14a7ac516ac6786c132f280
Author: Quentin Glidic <sardemff7+git@sardemff7.net>
Date:   Sat Feb 2 17:01:07 2013 +0100

    Use LOG_COMPILER and AM_TESTS_ENVIRONMENT

    TESTS_ENVIRONMENT is deprecated and should be reserved to the user to
    override the test environment

    <ext>_LOG_COMPILER is meant to contain the program that runs the test
    with <ext> extension
    LOG_COMPILER is for extensionless tests
    AM_TESTS_ENVIRONMENT is meant to set the environment for the tests

      https://bugs.freedesktop.org/show_bug.cgi?id=60192

    Signed-off-by: Quentin Glidic <sardemff7+git@sardemff7.net>

 Makefile.am      |  1 -
 configure.ac     |  2 +-
 doc/Makefile.am  |  5 ++++-
 test/Makefile.am | 12 +++++++++++-
 4 files changed, 16 insertions(+), 4 deletions(-)

commit 62b7d764ce994bb32e7614337fdfa0854445c380
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Feb 6 19:14:51 2013 +0900

    Bump the cache version to 4

 fontconfig/fontconfig.h | 2 +-
 src/fcint.h             | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4eab908c8679a797ac7016b77a93ee41bb11b0fc
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Feb 6 19:02:07 2013 +0900

    Update _FcMatchers definition logic

    to make it easier to maintain. also added FC_HASH_OBJECT to be matched
    in the pattern, prior to FC_FILE_OBJECT.

 src/fcint.h            |   2 +-
 src/fcmatch.c          | 184
 +++++++++++++++++++++++--------------------------
 src/fcname.c           |   2 +-
 src/fcobjs.h           |  90 ++++++++++++------------
 src/fcobjshash.gperf.h |   2 +-
 5 files changed, 134 insertions(+), 146 deletions(-)

commit 52b2b5c99268d5ad28dc0972c5f136720d55f21b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Feb 5 20:44:18 2013 +0900

    Bug 60312 - DIST_SUBDIRS should never appear in a conditional

    As it is documented like this:

    If SUBDIRS is defined conditionally using Automake conditionals,
    Automake will define DIST_SUBDIRS automatically from the possible
    values of SUBDIRS in all conditions.

    So we don't need to re-define DIST_SUBDIRS in Makefile.am unless
    we use AC_SUBST to define SUBDIRS.

    Patch from Quentin Glidic

 Makefile.am | 3 ---
 1 file changed, 3 deletions(-)

commit 95af7447dba7c54ed162b667c0bb2ea6500e8f32
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Feb 4 16:03:29 2013 +0900

    Bug 50733 - Add font-file hash?

    Add "hash" object which contains SHA256 hash value (so far) computed
    from the font file.

 fontconfig/fontconfig.h |   1 +
 src/Makefile.am         |   1 +
 src/fcfreetype.c        |   9 ++
 src/fchash.c            | 265
 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h             |   7 ++
 src/fcobjs.h            |   1 +
 6 files changed, 284 insertions(+)

commit d34643894f2dff7eec35345e8e9b32a9a32fa113
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Feb 5 14:17:16 2013 +0900

    Use AM_MISSING_PROG instead of hardcoding missing

 Makefile.am  | 2 +-
 configure.ac | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 241cd53ff62599ecf557c6a4f975fc427dad9700
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Feb 5 11:33:47 2013 +0900

    Revert "test: Use SH_LOG_COMPILER and AM_TESTS_ENVIRONMENT"

    This reverts commit 2146b0307a3476892723104481f27f8484451c52.

    That change introduces incompatibility and seems not working with
    older releases of automake, including automake 1.12.2.

 test/Makefile.am | 12 +-----------
 1 file changed, 1 insertion(+), 11 deletions(-)

commit 2146b0307a3476892723104481f27f8484451c52
Author: Quentin Glidic <sardemff7+git@sardemff7.net>
Date:   Sat Feb 2 17:01:07 2013 +0100

    test: Use SH_LOG_COMPILER and AM_TESTS_ENVIRONMENT

    TESTS_ENVIRONMENT is deprecated and should be reserved to the user to
    override the test environment

    <ext>_LOG_COMPILER is meant to contain the program that runs the test
    with <ext> extension
    AM_TESTS_ENVIRONMENT is meant to set the environment for the tests

      https://bugs.freedesktop.org/show_bug.cgi?id=60192

    Signed-off-by: Quentin Glidic <sardemff7+git@sardemff7.net>

 test/Makefile.am | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit da0946721af3ab2dff3cd903065336b93592d067
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Feb 4 17:57:00 2013 +0900

    Use AM_MISSING_PROG instead of hardcoding missing

 configure.ac    | 2 ++
 src/Makefile.am | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 786ead52015573e7b60a53d79abc26d611f1fe93
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Feb 4 17:20:03 2013 +0900

    Modernize configure.ac

 configure.ac | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 20191810d1fea7c2f49b65ffee3e4d5e2bc0bac3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 29 20:19:36 2013 +0900

    Bug 23757 - Add mode="delete" to <edit>

    Add two edit mode, "delete" and "delete_all".
    what values are being deleted depends on <test> as documented.
    if the target object is same to what is tested, matching value there
    will be deleted. otherwise all of values in the object will be
    deleted.
    so this would means both edit mode will not take any expressions.

    e.g.

    Given that the testing is always true here, the following rules:

      <match>
        <test name="foo" compare="eq">
          <string>bar</string>
        </test>
        <edit name="foo" mode="delete"/>
      </match>

    will removes "bar" string from "foo" object. and:

      <match>
        <test name="foo" compare="eq">
          <string>foo</string>
        </test>
        <edit name="bar" mode="delete"/>
      </match>

    will removes all of values in "bar" object.

 doc/fontconfig-user.sgml |  2 ++
 fonts.dtd                |  2 +-
 src/fccfg.c              | 10 ++++++++++
 src/fcdbg.c              |  6 ++++--
 src/fcint.h              |  1 +
 src/fcxml.c              | 11 +++++++++++
 6 files changed, 29 insertions(+), 3 deletions(-)

commit c1d9588890798e389d0f0ba633b704dee1ea8bf5
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jan 31 21:32:46 2013 -0500

    build: Only use PKG_INSTALLDIR if available

    It's only in pkg-config 0.27 or newer, but 0.25 at least is still
    fairly widespread.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e11f15628cff04c4a742f88abee22f440edcce52
Author: Christoph J. Thompson <cjsthompson@gmail.com>
Date:   Fri Feb 1 02:27:32 2013 +0100

    Use the PKG_INSTALLDIR macro.

            modified:   Makefile.am
            modified:   configure.ac

 Makefile.am  | 1 -
 configure.ac | 1 +
 2 files changed, 1 insertion(+), 1 deletion(-)

commit d26fb23c41abd87422778bb38eea39f25ba3dc4a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 25 20:01:24 2013 +0900

    Bug 59385 - Do the right thing for intermixed edit and test elements

    This changes allows to have multiple mathcing rules in one <match>
    block
    in the same order.
    After this changes, the following thing will works as two matching
    rules:

            <match>
                    <!-- rule 1 -->
                    <test name="family" compare="eq">
                            <string>foo</string>
                    </test>
                    <edit name="foo" mode="append">
                            <string>foo</string>
                    </edit>
                    <!-- rule 2 -->
                    <test name="foo" compare="eq">
                            <string>foo</string>
                    </test>
                    <edit name="foo" mode="append">
                            <string>bar</string>
                    </edit>
            </match>

 fonts.dtd   |  2 +-
 src/fcxml.c | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 47 insertions(+), 1 deletion(-)

commit fb3b410998aba8835999e2ca7003a180431cfaf4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jan 23 12:37:51 2013 +0900

    remove the unnecessary code

 src/fccompat.c | 6 ------
 1 file changed, 6 deletions(-)

commit 5400bb4fb43dc811b813f11d5b0c023db727f543
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jan 23 12:32:37 2013 +0900

    Add another approach to FC_PRGNAME for Solaris 10 or before

    Patch from Raimund Steger

 configure.ac    | 2 +-
 src/fcdefault.c | 5 ++++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 000ca9ccb03013a5b151f0d21148ab0ca4c2f2de
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 22 12:11:56 2013 +0900

    Fix installation on MinGW32

    Patch from LRN

 src/Makefile.am | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 6363193a0575cf6f58baf7f0a772ad8f92b7b904
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 22 12:03:28 2013 +0900

    Fix mkstemp absence for some platform

    Patch from LRN and modified to make more generic.

 src/fccache.c  |  57 ----------------------------
 src/fccompat.c | 116
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h    |   3 ++
 3 files changed, 119 insertions(+), 57 deletions(-)

commit 9dbc282796e9a4d5a2a8cc7d1c8e29b9154e91c0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 22 10:26:41 2013 +0900

    Add missing file descriptor to F_DUPFD_CLOEXEC

    Patch from Matthieu Herrb

 src/fccompat.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6118781f7f5dba672d19a841cc231661bf5fb59d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 17 19:27:20 2013 -0600

    Fix readlink failure

    As reported by Raimund Steger.

 src/fcdefault.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 671bcb34e23ed03b1f564af35560db81f8b12b96
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 17 12:49:16 2013 +0900

    Better fix for 2fe5ddfd

    Drop realpath() and fix breakage on Win32

 configure.ac    |  2 +-
 src/fcdefault.c | 14 +++++++-------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 2fe5ddfdae6be80db5b7e622ab6c1ab985377542
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 16 21:01:28 2013 -0600

    Fix FC_PRGNAME default

    As reported by Raimund Steger.

 src/fcdefault.c | 36 +++++++++++++++++++-----------------
 1 file changed, 19 insertions(+), 17 deletions(-)

commit 55d39bcad0737e92e1207fabbd8c65fa9e5e0482
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 16 07:30:44 2013 -0600

    Fix fc-cache crash caused by looking up NULL object incorrectly

    We were returning a skiplist node when looking up NULL!

 src/fccache.c | 7 +++++--
 src/fccfg.c   | 4 ++--
 2 files changed, 7 insertions(+), 4 deletions(-)

commit 106c4f73119e00a7804ef79ee556f1111d680e32
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 16 07:05:07 2013 -0600

    Minor

 src/fcfreetype.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1a5d0daea0173e2cc47d76d2022467f0dbd423f0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 16 04:52:06 2013 -0600

    Remove unused checks for common functions

    The check results of these were never actually used.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f9ac4c84c90cbb57afbf1fa3a5c9ff3bfc4f537e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jan 16 16:35:28 2013 +0900

    Improve FcGetPrgname() to work on BSD

 configure.ac    |  2 +-
 src/fcdefault.c | 10 ++++++++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit ec5ca08c807585a9230f83c95f7cca6b7065b142
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 15 20:41:26 2013 -0600

    Bug 59379 - FC_PRGNAME

    Can be used for per-application configuration.

 configure.ac              |  2 +-
 doc/fontconfig-devel.sgml |  3 +-
 doc/fontconfig-user.sgml  |  1 +
 fontconfig/fontconfig.h   |  1 +
 src/fccfg.c               |  7 ++++
 src/fcdefault.c           | 85
 +++++++++++++++++++++++++++++++++++++++++++++--
 src/fcint.h               |  3 ++
 src/fcobjs.h              |  1 +
 8 files changed, 99 insertions(+), 4 deletions(-)

commit 3f84695104b169fe25742ba3b91d04467f5debc4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Sep 4 12:39:48 2012 +0900

    Bug 50497 - RFE: Add OpenType feature tags support

    Add FC_FONT_FEATURES to store the feature tags to be enabled.

 doc/fontconfig-devel.sgml | 2 ++
 doc/fontconfig-user.sgml  | 1 +
 fontconfig/fontconfig.h   | 1 +
 src/fcobjs.h              | 1 +
 4 files changed, 5 insertions(+)

commit dffb69ed8c7cf2e707bc692f94b51108b772d9d8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 15 17:26:27 2013 +0900

    Fix the build fail on MinGW

    Reported at
    http://lists.freedesktop.org/archives/fontconfig/2013-January/004601.html

    just warn at the runtime instead of the compile time. it somewhat
    works
    on even MinGW since FcMakeTempfile() isn't used on Win32 so far.

 src/fccompat.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 8b8f0d21534aa9b82276815c84429ffca8941d2a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jan 14 14:39:12 2013 -0600

    Minor

 src/fcmatch.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8828fffd93c6b19bcfd7626ddc472aa8f055d034
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jan 14 14:36:38 2013 -0600

    Copy all values from pattern to font if the font doesn't have
    the element

    Bug 59376 - FcFontRenderPrepare enhancement

 src/fcmatch.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 0831c1770e4bac7269a190936bbb0529d747e233
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 10 09:01:52 2013 -0600

    Ensure we find the uninstalled fontconfig header

    Patch from Colin Walters.

 test/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit 1527c395cbe0bbab9e66a42213ef3ac5ce1c0383
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 10 09:00:18 2013 -0600

    Resepct $NOCONFIGURE

    Patch from Colin Walters.

 autogen.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fcc3567847949ec422157d331c9640cd0453e169
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 10 17:57:12 2013 +0900

    Bump version to 2.10.91

 README                  | 105
 +++++++++++++++++++++++++++++++++++++++++++++++-
 configure.ac            |   2 +-
 fontconfig/fontconfig.h |   2 +-
 3 files changed, 105 insertions(+), 4 deletions(-)

commit 98352247f2ab01046c330485f73fd26eb15a08a4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 10 17:56:51 2013 +0900

    Update the date in README properly

 new-version.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9066fbe7855674ff51053b78f1d0d179486e22ea
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 10 01:23:07 2013 -0600

    Make linker happy

 fc-validate/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98efed3bcafc92b573b193b5b38039aa717617d3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 10 01:17:02 2013 -0600

    Add atomic ops for Solaris

    Patch from Raimund Steger.

 configure.ac   | 22 ++++++++++++++++++++--
 src/fcatomic.h | 12 ++++++++++++
 2 files changed, 32 insertions(+), 2 deletions(-)

commit 8e8a99ae8a1c2e56c42093bee577d6de66248366
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Sep 10 16:09:04 2012 +0900

    Bug 29312 - RFE: feature to indicate which characters are missing
    to satisfy the language support

    Add fc-validate to check the language coverage in a font.

 Makefile.am                  |   2 +-
 configure.ac                 |   1 +
 doc/fclangset.fncs           |   8 ++
 fc-validate/Makefile.am      |  60 +++++++++++
 fc-validate/fc-validate.c    | 242
 +++++++++++++++++++++++++++++++++++++++++++
 fc-validate/fc-validate.sgml | 182 ++++++++++++++++++++++++++++++++
 fontconfig/fontconfig.h      |   3 +
 src/fcint.h                  |   3 -
 8 files changed, 497 insertions(+), 4 deletions(-)

commit 16fd965171808c10f87d097f678ee9e10771be72
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jan 9 11:26:56 2013 +0900

    Fix a typo in the manpages template

 doc/func.sgml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7680e9ee891a74f0e428e30604a5d0ff0e2e9383
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 8 14:51:00 2013 -0600

    Add pthread test

    Not enabled by default since it requires config and fonts.

 test/Makefile.am    |  9 ++++++
 test/test-pthread.c | 79
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 88 insertions(+)

commit dc21ed28d69df279c6068d9cae862e02af72815f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 8 13:01:48 2013 -0600

    Fix memory corruption!

    In FcStrListCreate() we were increasing reference count of set,
    however, if set had a const reference (which is the case for list
    of languages), and with multiple threads, the const ref (-1) was
    getting up to 1 and then a decrease was destroying the set.  Ouch.

    Here's the valgrind error, which took me quite a few hours of
    running to catch:

    ==4464== Invalid read of size 4
    ==4464==    at 0x4E58FF3: FcStrListNext (fcstr.c:1256)
    ==4464==    by 0x4E3F11D: FcConfigSubstituteWithPat (fccfg.c:1508)
    ==4464==    by 0x4E3F8F4: FcConfigSubstitute (fccfg.c:1729)
    ==4464==    by 0x4009FA: test_match (simple-pthread-test.c:53)
    ==4464==    by 0x400A6E: run_test_in_thread (simple-pthread-test.c:68)
    ==4464==    by 0x507EE99: start_thread (pthread_create.c:308)
    ==4464==  Address 0x6bc0b44 is 4 bytes inside a block of size
    24 free'd
    ==4464==    at 0x4C2A82E: free (in
    /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
    ==4464==    by 0x4E58F84: FcStrSetDestroy (fcstr.c:1236)
    ==4464==    by 0x4E3F0C6: FcConfigSubstituteWithPat (fccfg.c:1507)
    ==4464==    by 0x4E3F8F4: FcConfigSubstitute (fccfg.c:1729)
    ==4464==    by 0x4009FA: test_match (simple-pthread-test.c:53)
    ==4464==    by 0x400A6E: run_test_in_thread (simple-pthread-test.c:68)
    ==4464==    by 0x507EE99: start_thread (pthread_create.c:308)

    Thread test is running happily now.  Will add the test in a moment.

 src/fcstr.c | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 4e6c7d0827c5b3b20205521bf9bd2e94e704b36d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 8 16:20:28 2013 +0900

    Fix a build fail on mingw

    Regarding the change of 596931c8b4a7a35cbff9c33437d3cd44395d9c3f

 configure.ac   | 2 +-
 src/fccompat.c | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit d837a7a584bc1e908bc4370d337cd10ecc781fad
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jan 8 16:18:32 2013 +0900

    missing header file to declare _mkdir

 src/fccache.c | 1 +
 1 file changed, 1 insertion(+)

commit 596931c8b4a7a35cbff9c33437d3cd44395d9c3f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 6 20:01:52 2012 +0900

    Bug 47705 - Using O_CLOEXEC

 configure.ac    |   4 ++-
 src/Makefile.am |   1 +
 src/fcatomic.c  |   3 +-
 src/fccache.c   |   6 ++--
 src/fccompat.c  | 103
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h     |   7 ++++
 src/fcstat.c    |   2 +-
 src/fcxml.c     |   2 +-
 8 files changed, 120 insertions(+), 8 deletions(-)

commit d7de1b5c6d4b8800825913ac40a9cea00824f2f8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jan 7 20:10:14 2013 -0600

    Fix pthreads setup

    As reported by Raimund Steger.

 configure.ac | 3 +++
 1 file changed, 3 insertions(+)

commit 1c4c4978adb0fa59767ac7d8c7f98a86928b2fdc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jan 7 17:59:17 2013 -0600

    Oops, add the actual file

 conf.d/10-scale-bitmap-fonts.conf | 81
 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 81 insertions(+)

commit dc11dd581f228623f0f14b3a6a1e4beaa659266b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jan 7 16:41:29 2013 -0600

    Add 10-scale-bitmap-fonts.conf and enable by default

 conf.d/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit ea3a35306617eec068ed961439cf76cdbcb10c28
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jan 7 17:55:04 2013 +0900

    Clean up the unused variable

 fc-query/fc-query.c | 1 -
 1 file changed, 1 deletion(-)

commit 17eda89ed2e24a3fc5f68538dd7fd9ada8efb087
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 3 20:33:34 2013 -0600

    Remove FcInit() calls from tools

    Library is supposed to automatically initialize itself.  If it
    doesn't,
    it's a bug.

 fc-list/fc-list.c       | 5 -----
 fc-match/fc-match.c     | 5 -----
 fc-pattern/fc-pattern.c | 5 -----
 fc-query/fc-query.c     | 6 ------
 fc-scan/fc-scan.c       | 6 ------
 5 files changed, 27 deletions(-)

commit 102a4344dd7f668cf03b9665c718505050e0ae78
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 3 20:31:22 2013 -0600

    Don't use blanks for fc-query

    fc-query is supposed to be config-independent.

 fc-query/fc-query.c | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit b6b678e71eb0ba2b53335b7df0804058f6bd006d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jan 4 11:29:50 2013 +0900

    Missing header file for _mkdir declaration

 src/fcatomic.c | 1 +
 1 file changed, 1 insertion(+)

commit 8e143b4ec447a7ee6c501e7488a3c94db7e6a035
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 3 04:19:12 2013 -0600

    Minor

 src/fcobjs.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 16ddb9ff31a7d45ae477f5274c704523b2ec7330
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 22:37:33 2013 -0600

    Ugh, add Tools.mk

 Tools.mk | 64
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 64 insertions(+)

commit 86e3255118e943bcc5c16cf1628ca381470ca34d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 20:16:55 2013 -0600

    Second try to make Sun CPP happy

 src/Makefile.am | 22 ++++++++++++----------
 1 file changed, 12 insertions(+), 10 deletions(-)

commit bc62c40597c3d95edfdc6a93b39d0bb3837d1d34
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 20:08:40 2013 -0600

    Really fix cross-compiling and building of tools this time

 configure.ac                |  1 +
 fc-case/Makefile.am         | 47 +++++----------------------
 fc-glyphname/Makefile.am    | 47 +++++----------------------
 fc-glyphname/fc-glyphname.c |  2 +-
 fc-lang/Makefile.am         | 44 +++++---------------------
 fc-lang/fc-lang.c           |  8 ++---
 m4/ax_cc_for_build.m4       | 77
 +++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 107 insertions(+), 119 deletions(-)

commit 32c1d32cbd54686804481fedaa1881d4f3043f1b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 19:04:17 2013 -0600

    Work around Sun CPP

    According to Raimund Steger:

    > [...]
    > diff --git a/src/Makefile.am b/src/Makefile.am
    > index dc082b7..57c34a2 100644
    > [...]
    > +fcobjshash.gperf: fcobjshash.gperf.h fcobjs.h
    > +    $(AM_V_GEN) $(CPP) -I$(top_srcdir) $< | $(GREP) '^[^#]' |
    awk ' \
    > +    /CUT_OUT_BEGIN/ { no_write=1; next; }; \
    > +    /CUT_OUT_END/ { no_write=0; next; }; \
    > +    { if (!no_write) print; next; }; \
    > +    ' - > $@.tmp && \
    > +    mv -f $@.tmp $@

    Sun Studio CPP seems to insert whitespace in a different way than
    GCC's CPP.

    GCC generates in src/fcobjshash.gperf:

    [...]
    "family", FC_FAMILY_OBJECT
    "familylang", FC_FAMILYLANG_OBJECT
    [...]

    Sun Studio generates:

    [...]
     "family" , FC_FAMILY_OBJECT
     "familylang" , FC_FAMILYLANG_OBJECT
    [...]

    leading to:

    [...]
    Making all in src
    gmake[2]: Entering directory
    `/home/rs/src/fontconfig-git/fontconfig/src'
      GEN    fcobjshash.gperf
      GEN    fcobjshash.h
    Key link: " " = " ", with key set "".
    1 input keys have identical hash values,
    use option -D.
    gmake[2]: *** [fcobjshash.h] Error 1
    gmake[2]: Leaving directory
    `/home/rs/src/fontconfig-git/fontconfig/src'
    gmake[1]: *** [all-recursive] Error 1
    gmake[1]: Leaving directory `/home/rs/src/fontconfig-git/fontconfig'
    gmake: *** [all] Error 2

    ...maybe we could tuck in an additional sed to remove the whitespace,
    like:

    [...]
    fcobjshash.gperf: fcobjshash.gperf.h fcobjs.h
        $(AM_V_GEN) $(CPP) -I$(top_srcdir) $< | \
        $(SED) 's/^\s*//;s/\s*,\s*/,/;' | \
        $(GREP) '^[^#]' | \
        $(AWK) '/CUT_OUT_BEGIN/,/CUT_OUT_END/ { next; }; { print; };' \
        > $@.tmp && \
        mv -f $@.tmp $@
    [...]

    though I'm not sure what kind of guarantee CPP can give us/what
    easier option I might have missed...

 src/Makefile.am | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b1510145e7a38802bd544de6035fabf9f81f9710
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 18:57:47 2013 -0600

    Fix build around true/false

 src/fcatomic.h |  4 ++--
 src/fcinit.c   | 10 ++++++++++
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 538f1579e86fdcf471cea58945bf8c674d5b91e7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 18:07:13 2013 -0600

    Trying to fix distcheck

    Doesn't work though :(.  Building docs is very fragile...

    At least, if docbook is present, distcheck passes now.

 Makefile.am     | 11 +++++++++--
 configure.ac    |  4 ----
 doc/Makefile.am |  8 ++++++++
 3 files changed, 17 insertions(+), 6 deletions(-)

commit 46ab96b8fa029fbc8ccf69a6f2fda89866e3ac9c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 17:52:00 2013 -0600

    Fix more warnings.

    Linux build and mingw32 cross build warning-free now.

 src/fcobjs.c           | 10 ++++++++--
 src/fcobjshash.gperf.h |  2 +-
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 558b3c65f91b4b2dd65ce2242e1a21ace621e44b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 17:49:41 2013 -0600

    Use CC_FOR_BUILD to generate source files

    Previously we were failing if CROSS_COMPILING and the generated
    headers
    were not present.  It works just fine now.

    One caveat: the fix is not fully correct since config.h is being
    included in the files built with CC_FOR_BUILD, but config.h has config
    for the host system, not the build system.  Should be fine though.

 configure.ac             | 1 +
 doc/Makefile.am          | 6 +-----
 fc-case/Makefile.am      | 8 +-------
 fc-glyphname/Makefile.am | 9 ++++-----
 fc-lang/Makefile.am      | 9 +++------
 5 files changed, 10 insertions(+), 23 deletions(-)

commit ec8a40d2381014ad2e72b5da0e6357a85f078f9f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 17:35:56 2013 -0600

    Fix build and warnings on win32

 src/Makefile.am |  1 +
 src/fcatomic.h  |  9 +++------
 src/fccache.c   |  2 +-
 src/fccfg.c     | 17 ++++++-----------
 src/fcint.h     |  7 +------
 src/fcmutex.h   |  5 ++---
 src/fcstat.c    |  3 ---
 src/fcstr.c     |  3 ---
 src/fcwindows.h | 44 ++++++++++++++++++++++++++++++++++++++++++++
 src/fcxml.c     | 18 +++++++++---------
 10 files changed, 67 insertions(+), 42 deletions(-)

commit 5c0a4f2726fd1440bf3ec4bb375e5e4d146bd989
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 02:27:57 2013 -0600

    Minor

 fc-glyphname/fc-glyphname.c | 46
 ++++++++++++++++++++++-----------------------
 1 file changed, 23 insertions(+), 23 deletions(-)

commit 766bed901f7f4c648387fb403ef6e253be1c45e9
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 02:19:04 2013 -0600

    Fix compiler warnings

 src/fcobjs.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 93fb1d4bab5fefb73393141bb3e96c9dc279e615
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 02:06:15 2013 -0600

    Remove FcSharedStr*

 src/fccfg.c     |  2 +-
 src/fcdefault.c |  6 +++---
 src/fcint.h     |  9 +++------
 src/fclist.c    |  6 +++---
 src/fcname.c    |  2 +-
 src/fcobjs.c    |  2 +-
 src/fcpat.c     | 25 +++----------------------
 src/fcstr.c     | 11 +----------
 src/fcxml.c     | 10 +++++-----
 9 files changed, 21 insertions(+), 52 deletions(-)

commit 6b143781073cf395fd6211c75bbdc9f5b5a54936
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 01:54:38 2013 -0600

    Fixup fcobjs.c

    Ouch!

 src/fcobjs.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6047ce7b9fb793da4e693e3777bbd3e1baf3146e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 01:31:34 2013 -0600

    Warn about undefined/invalid attributes during config parsing

 src/fcxml.c | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit b604f10c0c31a56ae16154dfe6a2f13b795aaabf
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 2 01:09:20 2013 -0600

    Make fcobjs.c thread-safe

    With this, the library should be threadsafe as far as my analysis
    goes!

 src/fcobjs.c | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 2ae07bbcd2a7650f2711b45e78e65e2ca1c4a17a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Oct 15 19:35:03 2012 -0500

    Make FcDirCacheDispose() threadsafe

 src/fccache.c | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit 68b8ae9af8b0f86dade6135b01aaf0b2f2077fb5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Oct 10 15:24:31 2012 -0400

    Make cache hash threadsafe

    This concludes my first pass at making fontconfig threadsafe.  Now to
    testing and actually fixing it!

 src/fccache.c | 37 ++++++++++++++++++++++++++++++-------
 1 file changed, 30 insertions(+), 7 deletions(-)

commit adb03b730de5d090855f45bc23b934a65ef2399c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Oct 8 20:03:35 2012 -0400

    Make random-state initialization threadsafe

 src/fccache.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 91dd7d28ffc397fb1389f76ac55b397e55da809d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Oct 8 20:02:05 2012 -0400

    Add a big cache lock

    Not used yet.

 src/fccache.c | 41 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit 8d2bbb193ae49ea6abd5a9b4d28d3d88ac97d7a2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 21:03:58 2012 -0400

    Make cache refcounting threadsafe

 src/fcatomic.h |  1 +
 src/fccache.c  | 13 ++++++-------
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 31ee38e541180db6d7bc58d5abde83136352e7ce
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 17:46:12 2012 -0400

    Minor

 src/fccfg.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b8f238e49d7b7e1cff787c518cd4490b32039cca
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 17:42:18 2012 -0400

    Make FcCacheIsMmapSafe() threadsafe

 src/fccache.c | 38 ++++++++++++++++++++++----------------
 1 file changed, 22 insertions(+), 16 deletions(-)

commit b27a22aae9902d409c21e5bb19a97dcc5966ea24
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 17:29:45 2012 -0400

    Minor

 src/fcinit.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 0552f26016865b8a76819cf342fa0cf13afdc5e8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 17:02:50 2012 -0400

    Make default-FcConfig threadsafe

 src/fccfg.c     | 60
 +++++++++++++++++++++++++++++++++++++--------------------
 src/fcdefault.c |  3 +--
 2 files changed, 40 insertions(+), 23 deletions(-)

commit e53f5da54f066f73a53eba1f82f54521fa3f7ea2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 16:42:36 2012 -0400

    Minor

 src/fccfg.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 7ae24b4554a8543d8cd41a83b6114e0143982758
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 16:37:03 2012 -0400

    Refactor; contain default config in fccfg.c

 src/fccfg.c  | 26 ++++++++++++++++++++++++--
 src/fcinit.c | 14 ++------------
 src/fcint.h  |  8 ++++++--
 src/fcxml.c  |  4 ++--
 4 files changed, 34 insertions(+), 18 deletions(-)

commit 32b0d88923524c24f4be36733ebef5872b57b95a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 16:26:53 2012 -0400

    Make FcDefaultFini() threadsafe

 src/fcdefault.c | 19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit 7019896c99872b23d89b1404b02754cbc4ea1456
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 16:09:35 2012 -0400

    Make FcInitDebug() idempotent

 src/fcdbg.c | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit b97ab0c94938448dc2b780b8f0f60fb68884899f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 15:52:25 2012 -0400

    Make FcGetDefaultLang and FcGetDefaultLangs thread-safe

 src/fcdefault.c | 83
 +++++++++++++++++++++++++++++++++++++++++----------------
 src/fcinit.c    |  1 +
 src/fcint.h     |  3 +++
 src/fcstr.c     |  4 +++
 4 files changed, 68 insertions(+), 23 deletions(-)

commit 64af9e1917114c789ad74dd28b3248f8c0525f45
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 14:41:38 2012 -0400

    Make refcounts, patterns, charsets, strings, and FcLang thread-safe

 src/fcatomic.h  | 18 +++++++++---------
 src/fccfg.c     | 29 +++++++++++++++--------------
 src/fccharset.c | 24 ++++++++++++------------
 src/fcdefault.c |  2 +-
 src/fcint.h     | 26 ++++++++++++++++++++------
 src/fclang.c    | 43 ++++++++++++++++++++++++-------------------
 src/fcmatch.c   |  4 ----
 src/fcmutex.h   |  2 ++
 src/fcpat.c     | 25 ++++++++++++-------------
 src/fcstr.c     | 24 +++++++++++++-----------
 10 files changed, 108 insertions(+), 89 deletions(-)

commit 814871b2aaa3a22ef711ca4656507fb69c952156
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 14:24:28 2012 -0400

    Add thread-safety primitives

 COPYING         |   1 +
 src/Makefile.am |   2 +
 src/fcatomic.h  | 123
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h     |   4 +-
 src/fcmutex.h   | 126
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 254 insertions(+), 2 deletions(-)

commit f6d8306e566dd1a4b8a13f433d2bc1ffbe667db7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Oct 7 13:49:45 2012 -0400

    Add build stuff for threadsafety primitives

    Copied over from HarfBuzz.

 configure.ac     |  38 ++++++-
 m4/ax_pthread.m4 | 309
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 346 insertions(+), 1 deletion(-)

commit b53744383dbefb3f80fb8a7365487669a499ad76
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Oct 6 18:15:58 2012 -0400

    Fix build stuff

 src/Makefile.am | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit db6d86a6c1b5bb15511e4e4015af889d4206be1d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Oct 6 18:12:19 2012 -0400

    Remove shared-str pool

    We used to have a shared-str pool.  Removed to make thread-safety
    work easier.  My measurements show that the extra overhead is not
    significant by any means.

 src/fcpat.c | 58
 +++++++---------------------------------------------------
 1 file changed, 7 insertions(+), 51 deletions(-)

commit ed41b237658ba290d86795904701ace09b46f6c4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Oct 6 17:52:39 2012 -0400

    Switch .gitignore to git.mk

 .gitignore               | 100 ---------------------
 Makefile.am              |   2 +
 conf.d/Makefile.am       |   2 +
 doc/Makefile.am          |   2 +
 fc-cache/Makefile.am     |   2 +
 fc-case/Makefile.am      |   2 +
 fc-cat/Makefile.am       |   2 +
 fc-glyphname/Makefile.am |   2 +
 fc-lang/Makefile.am      |   2 +
 fc-list/Makefile.am      |   2 +
 fc-match/Makefile.am     |   2 +
 fc-pattern/Makefile.am   |   2 +
 fc-query/Makefile.am     |   2 +
 fc-scan/Makefile.am      |   2 +
 fontconfig/Makefile.am   |   2 +
 git.mk                   | 227
 +++++++++++++++++++++++++++++++++++++++++++++++
 src/Makefile.am          |   2 +
 test/Makefile.am         |   2 +
 18 files changed, 259 insertions(+), 100 deletions(-)

commit d58c31e6dcfd8c5e6fe3ead4a69216b059558223
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Sep 20 14:42:31 2012 -0400

    Use a static perfect hash table for object-name lookup

    The hash table is generated by gperf.  For runtime element types,
    we use
    a append-only linked list.

    A bit clumsy, but I think I got it right.

 src/Makefile.am        |  26 +++-
 src/fcinit.c           |   1 -
 src/fcint.h            |  79 ++++---------
 src/fcname.c           | 315
 +++++++------------------------------------------
 src/fcobjs.c           | 130 ++++++++++++++++++++
 src/fcobjs.h           |  44 +++++++
 src/fcobjshash.gperf.h |  26 ++++
 7 files changed, 291 insertions(+), 330 deletions(-)

commit 7c0f79c5fe9db50b55112a1048a8f1c6a80e96fa
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Sep 20 14:01:47 2012 -0400

    Deprecate FcName(Un)RegisterObjectTypes / FcName(Un)RegisterConstants

    These never worked as intended.  The problem is, if Fontconfig
    tries to
    read config files when these new types / constants are not registered,
    it errs.  As a result, no defined types / constants are usable from
    config files.  Which makes these really useless.  Xft was the
    only user
    of this API and even there it's not really used.  Just kill it.

    One inch closer to thread-safety since we can fix the object-type hash
    table at compile time.

 doc/fcconstant.fncs     |   8 +---
 doc/fcobjecttype.fncs   |   6 +--
 fontconfig/fontconfig.h |  10 +++--
 src/fcname.c            | 100
 ++++++------------------------------------------
 4 files changed, 23 insertions(+), 101 deletions(-)

commit 1e2c0d70527c39f761c5770d93a5c1f8e87522bc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 1 20:28:08 2013 -0600

    Whitespace

 fontconfig/fontconfig.h | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a498f2f717a73c3fff9784dd92173583fb37a596
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 1 20:27:54 2013 -0600

    Minor

 src/fcname.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8198127b2525084bfe2378b83c185fa0da7f583b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 1 20:20:31 2013 -0600

    Don't crash in FcPatternFormat() with NULL pattern

 src/fcformat.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit c9581b47c4409612e8f2d4f67a402c566ba8330e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 1 20:20:12 2013 -0600

    Don't crash in FcPatternDestroy with NULL pattern

 src/fcpat.c | 3 +++
 1 file changed, 3 insertions(+)

commit e7d3e2163280ffb970b60c6ed18e26325d0241e4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 1 20:10:18 2013 -0600

    Add NULL check

 src/fcformat.c | 3 +++
 1 file changed, 3 insertions(+)

commit 5bb5da4c4a34ca7c0a7c513e38829f69654f9962
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 1 20:09:08 2013 -0600

    Refuse to set value to unsupported types during config too

 src/fccfg.c | 34 ++++++++++++++++++++++++++++------
 1 file changed, 28 insertions(+), 6 deletions(-)

commit 3878a125410d1dd461aee1e40f9ac00d68be71f2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 1 19:52:14 2013 -0600

    Make FC_DBG_OBJTYPES debug messages into warnings

    And remove FC_DBG_OBJTYPES since it has no use now.

 src/fcdbg.c | 30 +++++++++++++++++++-----------
 src/fcint.h |  5 ++++-
 src/fcpat.c | 21 +++++++++------------
 3 files changed, 32 insertions(+), 24 deletions(-)

commit 209750a4e0a3e1d7b8c5c971e9e2cbd5770d959f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 31 20:11:12 2012 -0600

    Warn if <name target="font"> appears in <match target="pattern">

 src/fccfg.c | 21 +++++++++++++++------
 1 file changed, 15 insertions(+), 6 deletions(-)

commit 424cfa1684f8af8bb6ecb01dc83bfc3d0a14f20a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 31 20:00:17 2012 -0600

    Adjust docs for recent changes

 doc/fontconfig-user.sgml | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 31ce352bb350a10c6ae08f1415d348458b64bf61
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 31 19:55:37 2012 -0600

    Initialize matrix during name parsing

    Before:
    $ fc-match sans:matrix=2 -v | grep matrix
            matrix: [2 6.95183e-310; 0 0](s)

    After:
    $ fc-match sans:matrix=2 -v | grep matrix
            matrix: [2 0; 0 1](s)

 src/fcname.c | 1 +
 1 file changed, 1 insertion(+)

commit 6bfef3ca4e52bdd5216facb90faa043c845aa0f6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 31 17:21:07 2012 -0600

    Make tests run on Windows

 test/Makefile.am | 2 +-
 test/run-test.sh | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit b1630dc00e3538a8fc6629ddbbba5435bfb2bd7a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 31 17:20:29 2012 -0600

    Enable fcarch assert checks even when FC_ARCHITECTURE is explicitly
    given

    After all, if the asserts fail, the resulting library simply can't be
    working correctly.

 src/fcarch.c | 9 ---------
 1 file changed, 9 deletions(-)

commit a0638ff0c7445925e873b39dbe584fbaf3cc87e5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 31 17:20:12 2012 -0600

    Remove unneeded stuff

 fc-cat/fc-cat.c   | 10 ++++------
 fc-lang/fc-lang.c | 11 -----------
 2 files changed, 4 insertions(+), 17 deletions(-)

commit a603be89cd13555d5992836531c5ef2ba88b8473
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 31 17:00:19 2012 -0600

    Unbreak build when FC_ARCHITECTURE is defined

 src/fcarch.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1fbb0b3b15774c187c697a80fb3c89bc1f3e0006
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 30 19:08:42 2012 -0600

    Don't warn if an unknown element is used in an expression

    The type will be resolved at runtime...

    For example, we can do this now without getting a warning:

    <match target="font">
      <test name="scalable" compare="eq">
        <bool>false</bool>
      </test>
      <edit name="pixelsizefixupfactor" mode="assign">
        <divide>
          <name target="pattern">pixelsize</name>
          <name target="font"   >pixelsize</name>
        </divide>
      </edit>
      <edit name="matrix" mode="assign">
        <times>
          <name>matrix</name>
          <matrix>
            <name>pixelsizefixupfactor</name> <double>0</double>
            <double>0</double> <name>pixelsizefixupfactor</name>
           </matrix>
        </times>
      </edit>
      <edit name="size" mode="assign">
        <divide>
          <name>size</name>
          <name>pixelsizefixupfactor</name>
        </divide>
      </edit>
    </match>

    Previously the last edit was generating:

    Fontconfig warning:
    "/home/behdad/.local/etc/fonts/conf.d/00-scale-bitmap-fonts.conf",
    line 29: saw unknown, expected number

 src/fcxml.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 51b0044648e00025cf20014b19aaceed7beeed75
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 23:58:38 2012 -0500

    Allow target="font/pattern/default" in <name> elements

    Based on idea from Raimund Steger.

    For example, one can do something like this:

    <match target="font">
      <test name="scalable" compare="eq">
        <bool>false</bool>
      </test>
      <edit name="pixelsizefixupfactor" mode="assign">
        <divide>
          <name target="pattern">pixelsize</name>
          <name target="font"   >pixelsize</name>
        </divide>
      </edit>
      <edit name="matrix" mode="assign">
        <times>
          <name>matrix</name>
          <matrix>
            <name>pixelsizefixupfactor</name> <double>0</double>
            <double>0</double> <name>pixelsizefixupfactor</name>
           </matrix>
        </times>
      </edit>
    </match>

    Part of work to make bitmap font scaling possible.  See thread
    discussion:

    http://lists.freedesktop.org/archives/fontconfig/2012-December/004498.html

 fonts.dtd   |  3 ++-
 src/fccfg.c | 57 +++++++++++++++++++++++++++----------------------
 src/fcdbg.c | 19 ++++++++++++-----
 src/fcint.h |  9 +++++++-
 src/fcxml.c | 71
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++-------
 5 files changed, 118 insertions(+), 41 deletions(-)

commit d7e1965aa0f55925913e9764d2d0792cc14490c2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 23:12:07 2012 -0500

    Remove memory accounting and reporting

    That belongs in tools like cairo/util/malloc-stat.so

 src/fcatomic.c  |   6 ----
 src/fcblanks.c  |   8 -----
 src/fccfg.c     |  16 ---------
 src/fccharset.c |  36 -------------------
 src/fcfs.c      |   8 -----
 src/fcinit.c    | 105
 --------------------------------------------------------
 src/fcint.h     |  45 ------------------------
 src/fclang.c    |  17 +--------
 src/fclist.c    |  10 ------
 src/fcmatrix.c  |   4 ---
 src/fcname.c    |   2 --
 src/fcpat.c     |  20 +----------
 src/fcstr.c     |  21 ------------
 src/fcxml.c     |  22 ------------
 14 files changed, 2 insertions(+), 318 deletions(-)

commit d823bb3cad1b34d92ca99998a00f35b66666bdf3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 22:57:53 2012 -0500

    Fixup from 4f6767470f52b287a2923e7e6d8de5fae1993f67

 src/fcxml.c | 5 -----
 1 file changed, 5 deletions(-)

commit eb9ffac7e5955bcfdf98fa985cc39062d6ea641b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 22:56:14 2012 -0500

    Fix more warnings

 src/fcserialize.c | 1 -
 src/ftglue.c      | 1 -
 2 files changed, 2 deletions(-)

commit 1404af312a091b601bca91b791fe4039da8dba8f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 22:55:36 2012 -0500

    Fix warning

 src/fcstat.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit dd69d96e06b16c37bb87817edd40f6e4040f35ae
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 22:47:49 2012 -0500

    Fix sign-compare warnings

 src/fccache.c    | 6 +++---
 src/fcfreetype.c | 6 +++---
 src/fcint.h      | 4 ++--
 src/fclang.c     | 6 +++---
 src/fcname.c     | 6 +++---
 src/fcxml.c      | 4 ++--
 src/ftglue.c     | 2 +-
 7 files changed, 17 insertions(+), 17 deletions(-)

commit 4ad3a73691b98781cfd4de789af7d33649ce3023
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 22:33:33 2012 -0500

    Fix more warnings

 src/fcstr.c | 2 --
 src/fcxml.c | 2 --
 2 files changed, 4 deletions(-)

commit 83d8019011232d491df93cda97a2f988ee96005b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 22:32:56 2012 -0500

    Fix unused-parameter warnings

 src/fcarch.c    |  2 +-
 src/fccache.c   |  2 +-
 src/fccfg.c     |  2 +-
 src/fccharset.c |  4 ++--
 src/fcdir.c     |  6 +++---
 src/fcformat.c  |  6 +++---
 src/fcint.h     |  6 ++++++
 src/fcmatch.c   |  9 ++++-----
 src/fcxml.c     | 10 +++++-----
 9 files changed, 26 insertions(+), 21 deletions(-)

commit 24cdcf52ab7f83b329072efacbdd9253991579c0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 22:11:09 2012 -0500

    Fix compiler warnings

 src/fccfg.c      | 44 ++++++++++++++++++++++----------------------
 src/fcformat.c   |  2 +-
 src/fcfreetype.c |  6 ++----
 src/fcmatch.c    | 14 +++++++-------
 src/fcname.c     |  6 +++---
 src/fcpat.c      | 16 ++++++++--------
 src/fcxml.c      | 20 ++++++++++----------
 7 files changed, 53 insertions(+), 55 deletions(-)

commit 4f6767470f52b287a2923e7e6d8de5fae1993f67
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 21:39:06 2012 -0500

    Parse matrices of expressions

    Previously a <matrix> element could only accept four <double>
    literals.
    It now accepts full expressions, which can in turn poke into the
    pattern, do math, etc.

 fonts.dtd   |  2 +-
 src/fccfg.c | 24 +++++++++++++--
 src/fcdbg.c | 16 ++++++----
 src/fcint.h |  6 +++-
 src/fcxml.c | 97
 +++++++++++++++++++++++++++++++++++--------------------------
 5 files changed, 94 insertions(+), 51 deletions(-)

commit 927dd3ddb582303843e70300b04167ca774e78b7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Dec 29 20:14:07 2012 -0500

    Fix typo

    Ouch, this has been wrong since 2004...  I guess no one uses <patelt>
    stuff.

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9ce36f4bbebc702a35d0cd9f1a59d5b828549bc6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Dec 11 18:53:57 2012 +0900

    Check the system font to be initialized

    config->fonts is an array and checking if config->fonts is a null
    will not be useful.

 src/fccfg.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 58040349e8309601b0e5488b8a71cedf03f81415
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Dec 11 12:38:42 2012 +0900

    Fix a memory leak

 src/fcxml.c | 1 +
 1 file changed, 1 insertion(+)

commit 5ea3118ad63787c9a3daa856dd09736aac6f4069
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Dec 11 12:35:02 2012 +0900

    Fix a typo that accessing to the out of array

 src/fcstr.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cef2b50c6647582bb128f98f2f78331fbe7dec4e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Dec 11 12:30:05 2012 +0900

    clean up

    ret won't be -1 if HAVE_STRUCT_DIRENT_D_TYPE isn't defined.

 src/fcstat.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 36265aeebd637e75c7b84db107afd6a35eb485c1
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Dec 11 11:37:23 2012 +0900

    Remove the dead code

 fc-cache/fc-cache.c | 7 -------
 1 file changed, 7 deletions(-)

commit 608c5b590bd3428dfcd30f3d68ee8b7131e2f019
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 10 10:54:47 2012 +0900

    Remove the duplicate null-check

 src/fcinit.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e7954674eb4f16d0fed3018cbefb4907c89d2465
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Dec 7 19:09:36 2012 +0900

    Fix the wrong estimation for the memory usage information in
    fontconfig

 src/fccfg.c  |  2 ++
 src/fcinit.c | 16 ++++++++++------
 src/fclang.c | 26 ++++++++++++++++++++++++--
 src/fcstr.c  |  5 ++---
 src/fcxml.c  | 28 ++++++++++++++++------------
 5 files changed, 54 insertions(+), 23 deletions(-)

commit 959442bca138e6480418f2607a04d9343db7f438
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 6 19:49:05 2012 +0900

    Fix a typo

 src/fcdir.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9231545c6bb775460702d8a615f1649bd8632f00
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Dec 5 18:13:25 2012 +0900

    Do not show the deprecation warning if it is a symlink

 conf.d/50-user.conf |  7 ++++++-
 configure.ac        |  2 +-
 src/fcdir.c         | 14 ++++++++++++++
 src/fcint.h         |  3 +++
 src/fcxml.c         |  6 ++++--
 5 files changed, 28 insertions(+), 4 deletions(-)

commit 2442d611579bccb84f0c29e3f9ceb0a7436df812
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Nov 30 20:10:30 2012 +0900

    Fix build issues on clean tree

 doc/Makefile.am          | 9 ++-------
 fc-case/Makefile.am      | 7 +++++--
 fc-glyphname/Makefile.am | 9 ++++++---
 fc-lang/Makefile.am      | 9 ++++++---
 4 files changed, 19 insertions(+), 15 deletions(-)

commit faea1cac85ac3b0fd6a983e1c0adeb68e115e06c
Author: Jon TURNEY <jon.turney@dronecode.org.uk>
Date:   Wed Nov 28 16:10:28 2012 +0000

    Fix build when srcdir != builddir

    When ./configure'd in a directory other than the srcdir, we need
    to look
    in ${top_builddir)/src for the generated header fcstdint.h

    Signed-off-by: Jon TURNEY <jon.turney@dronecode.org.uk>

 fc-case/Makefile.am      | 2 +-
 fc-glyphname/Makefile.am | 2 +-
 fc-lang/Makefile.am      | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 3d3629f86a45d30eed51dad58865753b3b1e186e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 27 18:25:11 2012 +0900

    Fix a potability issue about stdint.h

 configure.ac             |   1 +
 m4/ax_create_stdint_h.m4 | 695
 +++++++++++++++++++++++++++++++++++++++++++++++
 src/Makefile.am          |  11 +-
 src/fcint.h              |   9 +-
 4 files changed, 707 insertions(+), 9 deletions(-)

commit 02db01ac22318b2e296e6e1fd9664cac1ae66442
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 26 17:21:14 2012 +0900

    Bump version to 2.10.2

 README                  | 25 ++++++++++++++++++++++++-
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 26 insertions(+), 3 deletions(-)

commit 376fc9d22f1480ac380a3845f4cb4fe227e4be9a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 20 20:09:10 2012 +0900

    Bug 57286 - Remove UnBatang and Baekmuk Batang from monospace in
    65-nonlatin.conf

    Those two fonts are serif fonts. shouldn't be added to monospace.

 conf.d/65-nonlatin.conf | 2 --
 1 file changed, 2 deletions(-)

commit e7b5b5b586fd3c1f1fc7959730b760b7fd1bdee8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Nov 20 11:48:17 2012 +0900

    Update CaseFolding.txt to Unicode 6.2

    No real updates between 6.1 and 6.2, but anyway.

 fc-case/CaseFolding.txt | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit c20ac78b01df3f0919352bba16b5b48b3b5d4d6d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Nov 15 16:37:01 2012 +0900

    Bug 57114 - regression on FcFontMatch with namelang

    After 7587d1c99d9476b6dd4dbe523c0204da700fed8d applied, family,
    style, and fullname is localized against current locale or lang
    if any though, the string in other languages were dropped from
    the pattern. this caused unexpected mismatch on the target="font"
    rules.

    This fix adds other strings at the end of the list.

 src/fcint.h   |  22 +++++++++
 src/fcmatch.c |  63 +++++++++++++++++--------
 src/fcpat.c   | 146
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 3 files changed, 210 insertions(+), 21 deletions(-)

commit bdaef0b80dc27f4ab7a9d9bcedcfd8b5724b3cfd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Oct 30 09:56:24 2012 +0900

    Bug 56531 - autogen.sh fails due to missing 'm4' directory

    Keep m4 directory in git.

 m4/.gitkeep | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 038aa930ae2c3b7972eefe334917e7222fe478ec
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Oct 26 14:31:23 2012 +0900

    Use automake variable instead of cleaning files in clean-local

    just for git.mk coming up from Behdad's threadsafe branch

 fc-cache/Makefile.am   | 7 +++----
 fc-cat/Makefile.am     | 7 +++----
 fc-list/Makefile.am    | 7 +++----
 fc-match/Makefile.am   | 7 +++----
 fc-pattern/Makefile.am | 7 +++----
 fc-query/Makefile.am   | 7 +++----
 fc-scan/Makefile.am    | 7 +++----
 7 files changed, 21 insertions(+), 28 deletions(-)

commit 73ab254336100c5971e3a1e14b73222efd0e9822
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Oct 23 15:52:37 2012 +0900

    autogen.sh: Add -I option to tell aclocal a place for external
    m4 files

 autogen.sh | 1 +
 1 file changed, 1 insertion(+)

commit e7bfe729ab4cae63ca502291c1fe46cf7152b459
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Oct 9 11:05:59 2012 +0900

    Fix syntax errors in fonts.dtd.

    Patch from Steve Simpson

 fonts.dtd | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 8890f94438179ed7d6f7e2622178bb6c9b1f0e5e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Oct 9 11:03:03 2012 +0900

    Fix wrongly squashing for the network path on Win32.

    Patch from Diego Santa Cruz

 src/fcstr.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 8daa863c6d84ea56cc2f568a89316690e784a277
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Sep 11 18:09:36 2012 +0900

    deal with warnings as errors for the previous change

    missed this change to commit. doh!

 configure.ac | 3 +++
 1 file changed, 3 insertions(+)

commit ab26a722c05b43468f838b2fa72bb6ccd0408ac8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Aug 31 15:10:50 2012 +0900

    Bug 52573 - patch required to build 2.10.x with oldish GNU C library
    headers

    On older libc, _POSIX_C_SOURCE didn't satisfy to use posix_fadvise()
    and AC_CHECK_FUNCS doesn't check a header file if the function is
    declared there properly. so use AC_LINK_IFELSE instead.

 configure.ac | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 535e0a37d6d77a9d65096277f3bf94c39ffbf7d1
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Aug 31 12:39:38 2012 +0900

    Bug 54138 - X_OK permission is invalid for win32 access(..) calls

    X_OK checking was added back in
    8ae1e3d5dc323542e7def06a42deea62c7ba7027
    which was removed due to the same reason in
    238489030a64fa883f8f9fc3d73247b7f7257899.
    apparently the test case in Bug#18934 still works without it.
    so I'm removing it again to get this working on Windows.

 src/fccache.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9ec868665dd0f4890b5fb9edb85df8334e5bb689
Author: Jeremy Huddleston Sequoia <jeremyhu@apple.com>
Date:   Mon Aug 27 14:52:23 2012 -0700

    Remove _CONFIG_FIXUPS_H_ guards, so multiple includes of "config.h"
    result in the correct values

    Signed-off-by: Jeremy Huddleston Sequoia <jeremyhu@apple.com>

 config-fixups.h | 4 ----
 1 file changed, 4 deletions(-)

commit c4a58ae0e2fa43fbf9ebefc83891f6abd6728ac9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Aug 27 16:36:49 2012 +0900

    Fix for libtoolize's warnings

 Makefile.am  | 1 +
 configure.ac | 1 +
 2 files changed, 2 insertions(+)

commit 65da8c091c402ec706d76054eacbc455a7e3d801
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Aug 25 14:10:14 2012 -0400

    Fix N'ko orthography

 fc-lang/nqo.orth | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 375cdbce9d283d1eddb8f6b1c904d755653a87c5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Aug 16 20:33:12 2012 +0900

    Bug 53585 - Two highly-visible typos in src/fcxml.c

 src/fcxml.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cbfbd4041d4209b5da36746d68fe7aac7645eea5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jul 27 11:22:14 2012 +0900

    Bump version to 2.10.1

 README                  | 8 +++++++-
 configure.ac            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 3 files changed, 9 insertions(+), 3 deletions(-)

commit b7287a91fedc8b3ba2f566a17e4c5a00222ca76e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jul 23 13:59:16 2012 +0900

    Install config files first

    Use install-data-hook instead of install-data-local.
    This allows on the real installation to create a symlink with
    the broken ln command though, still not work with the pseudo
    installation by using DESTDIR say.

 conf.d/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ebd5096abc495550596861b6af2aae067e861553
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jul 19 10:20:30 2012 +0900

    Fix a typo in fontconfig.pc

    Reported by Daniel Macks

 fontconfig.pc.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d4fc407246ba0860dd883baf4551401614ec220f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 17 14:20:48 2012 +0900

    correct version

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 92bad770e505ec8683aad2e6e063232843734ece
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 17 11:36:01 2012 +0900

    Bump version to 2.10

 README                  | 11 ++++++++++-
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  4 ++--
 3 files changed, 13 insertions(+), 4 deletions(-)

commit f513f53347ae943a03192e83f7a6d7c40bcdfd5d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 17 11:35:41 2012 +0900

    Update INSTALL

 INSTALL | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 14d23ef330808b480393196984cb06efb5724160
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 17 11:34:31 2012 +0900

    Bump libtool revision

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit da9400212db8e5aa0a0bdd4fad21d2008b5034e2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 18 11:23:39 2012 +0900

    Fix a build fail with gcc 2.95, not supporting the flexible array
    members.

 configure.ac | 2 ++
 src/fcint.h  | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 489a575a7455204ee5c170754b92e72ba1e483fd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jul 6 19:02:05 2012 +0900

    Update CaseFolding.txt to Unicode 6.1

 fc-case/CaseFolding.txt | 21 +++++++++++++++++----
 1 file changed, 17 insertions(+), 4 deletions(-)

commit 5b2d065ef87514ca32af325f793ee37fabd6af19
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 3 19:56:56 2012 +0900

    Bug 34266 - configs silently ignored if libxml2 doesn't support
    SAX1 interface

    Check if libxml2 has built with --with-sax1

 configure.ac | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 9c377192bf7d59336dbe4603d73449c7090c11ca
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 25 14:57:51 2012 +0900

    Bump version to 2.9.92

 README                  | 19 ++++++++++++++++++-
 configure.ac            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 20 insertions(+), 3 deletions(-)

commit 2162d9c2ee7ba930dca8f710ad35a83cb7c76ca6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 25 14:57:40 2012 +0900

    Update INSTALL

 INSTALL | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a94c6b3b94b4a66d7f528fcc7e939b8ec19ad660
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 25 14:50:18 2012 +0900

    Bump libtool revision

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 769306665c37175d1e0e1167895eace0a8bc4bc3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 24 19:11:41 2012 +0900

    Bug 18726 - RFE: help write locale-specific tests

    Add an example matching rule for the language specific

 doc/fontconfig-user.sgml | 35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit e5a59eac905f1ff6ebe6005c257ce3f9f3c4cc6b
Author: Marius Tolzmann <tolzmann@molgen.mpg.de>
Date:   Thu Jun 21 21:01:10 2012 +0200

    Fix warning about deprecated, non-existent config includes

    Fontconfig warning: "/etc/fonts/conf.d/50-user.conf", line 8:
    reading configurations from ~/.fonts.conf.d is deprecated.

    Fontconfig warning: "/etc/fonts/conf.d/50-user.conf", line 9:
    reading configurations from ~/.fonts.conf is deprecated.

    Be polite and do not issue the warning if deprecated config includes
    (e.g. ~/.fonts.conf.d and/or ~/.fonts.conf) do not exist.

 src/fcxml.c | 16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit 3a5e9bc75d7e240ec590c6e50161ee157904d4d6
Author: Marius Tolzmann <tolzmann@molgen.mpg.de>
Date:   Thu Jun 21 21:01:09 2012 +0200

    Fix newline in warning about deprecated config includes

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d9ad5434b1d3afa2aa3d8a77af0bce940c69177
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 18 18:31:36 2012 +0900

    Rename configure.in to configure.ac

 configure.in => configure.ac | 0
 new-version.sh               | 4 ++--
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4353df754fcf4126ff4a69ccfef1a59450e5a7c7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 18 10:52:21 2012 +0900

    clean up the lock file properly on even hardlink-not-supported
    filesystem.

 src/fcatomic.c | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 997a64a67b77ae7c083f4a2898670201ed618fb2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jun 14 11:27:31 2012 +0900

    Fix the fail of make install with --disable-shared on Win32

 .gitignore      | 1 +
 configure.in    | 1 +
 src/Makefile.am | 2 ++
 3 files changed, 4 insertions(+)

commit cd280f6532663981fb5fcc2d38f99973033568db
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Jun 13 20:01:30 2012 +0900

    Fix a build fail on MINGW

 src/fcatomic.c |  7 ++++---
 src/fccfg.c    | 18 +++++++++---------
 src/fcint.h    |  4 +++-
 src/fcstat.c   | 16 ++++++++++------
 src/fcstr.c    |  6 +++---
 src/fcxml.c    | 24 ++++++++++++------------
 6 files changed, 41 insertions(+), 34 deletions(-)

commit 2ec0440fb580f5556d8e1fc4e0e3a6c5b9472cf6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jun 12 11:02:03 2012 +0900

    Fix a typo and build fail.

 doc/Makefile.am | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b447fc5d52e1e88ca1eca0ce3472d48626e27109
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 11 14:14:41 2012 +0900

    Bug 50835 - Deprecate FC_GLOBAL_ADVANCE

    FC_GLOBAL_ADVANCE is deprecated. this flag is simply ignored on
    freetype 2.4.5 or later.

 conf.d/20-fix-globaladvance.conf | 28 ----------------------------
 conf.d/Makefile.am               |  2 --
 doc/fontconfig-devel.sgml        |  2 +-
 doc/fontconfig-user.sgml         |  2 +-
 fontconfig/fontconfig.h          |  1 +
 src/fcdefault.c                  |  1 +
 src/fcint.h                      |  2 +-
 src/fcname.c                     |  4 ++--
 8 files changed, 7 insertions(+), 35 deletions(-)

commit 54fb7967de3850cf7176dde12432ed48c628ebea
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 11 20:15:15 2012 +0900

    Bump version to 2.9.91

 README                  | 81
 ++++++++++++++++++++++++++++++++++++++++++++++++-
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 82 insertions(+), 3 deletions(-)

commit 0b20bd0281a2247a047ef388ea2c6c58614d7b1a
Author: Mark Brand <mabrand@mabrand.nl>
Date:   Mon Jun 11 20:13:02 2012 +0900

    fix building for WIN32

    8c255fb185d5651b57380b0a9443001e8051b29d moved some code out of switch
    but did not declare 'buffer'. Also, replacing the "break" with
    "goto bail" neglected the WIN32 specific code.

 src/fcxml.c | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 101825a129aa1a025e91fd55124e973fcdb31f9e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 11 18:43:56 2012 +0900

    Generate bzip2-compressed tarball too

 Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit fdb1155035da677368f762d8fb24ad2f470a9813
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 11 18:39:37 2012 +0900

    doc: Fix distcheck error again...

 doc/Makefile.am | 15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit e8f16c9343f64266c3ec0048d867bfe23bdb6ec6
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Jun 11 17:48:12 2012 +0900

    Bump libtool revision

 configure.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cf70eaa3bfa9b14847a1067295c5c0dc12c95e83
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jun 8 19:41:59 2012 +0900

    Bug 50525 - superfluous whitespace in the style

 src/fcfreetype.c | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit f4103bf708778433f5ea02014f890cdeccde206b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jun 8 19:17:57 2012 +0900

    fcdefault: Add the lang object at FcConfigSubstituteWithPat() only
    when kind is FcMatchPattern

 src/fccfg.c | 33 ++++++++++++++++-----------------
 1 file changed, 16 insertions(+), 17 deletions(-)

commit 07e52eeb097a4e3c147e00ed7a6eb7652a611751
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jun 8 15:54:48 2012 +0900

    fcdefault: no need to set FC_LANG in FcDefaultSubstitute() anymore

 src/fcdefault.c | 4 ----
 1 file changed, 4 deletions(-)

commit 550fd49d4fb8efab33d1fa1687b1b9bd352202fe
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue May 22 14:17:10 2012 +0900

    Add the default language to the pattern prior to do build the
    substitution

    the default language is referred from the FC_LANG environment variable
    or the current locale

 src/fccfg.c | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 2261a64ce14d692f7c553f46e2158e70400dbc9c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jun 8 15:47:52 2012 +0900

    fcdefault: fallback if the environment variables are empty

    try to fallback if FC_LANG, LC_ALL, LC_CTYPE and LANG is empty

 src/fcdefault.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit bbc8fb5ba705e5257693f3b266fce12d2f81b50c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 29 20:25:20 2012 +0900

    Bug 32853 - Export API to get the default language

    Add a new API FcGetDefaultLangs() to export the string sets of
    the default
    languages.

 doc/fclangset.fncs      |   9 +++
 fc-lang/fc-lang.c       |   6 ++
 fontconfig/fontconfig.h |   3 +
 src/fcdefault.c         | 102 ++++++++++---------------------
 src/fcint.h             |   6 ++
 src/fclang.c            | 159
 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcstr.c             |  44 ++++++++++++++
 7 files changed, 260 insertions(+), 69 deletions(-)

commit 1b692d8ab91a096e7d433c51ab187382de91147b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Jun 1 19:06:17 2012 +0900

    Fix the wrong estimation for the memory usage information in
    fontconfig

 fc-cat/fc-cat.c         |  2 +-
 fc-list/fc-list.c       |  2 +-
 fc-match/fc-match.c     |  2 +-
 fc-pattern/fc-pattern.c |  2 +-
 fc-query/fc-query.c     |  2 +-
 fc-scan/fc-scan.c       |  2 +-
 src/fccfg.c             | 12 ++++++++----
 src/fcformat.c          |  4 ++--
 src/fcpat.c             |  3 ++-
 src/fcstr.c             |  3 +--
 src/fcxml.c             | 11 +++++++++--
 11 files changed, 28 insertions(+), 17 deletions(-)

commit 5254a6630fdf132b0cda62c1bc7e8e40d2639bdf
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu May 31 12:46:55 2012 +0900

    Fix a typo and polish the previous change

 src/fcstat.c | 21 ++++++++-------------
 1 file changed, 8 insertions(+), 13 deletions(-)

commit 4a741e9a0ab8dbaa0c377fbfed41547645ac79af
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed May 30 18:21:57 2012 +0900

    Fix the build fail on Solaris

    It's introduced by 0ac6c98294d666762960824d39329459b22b48b7.
    Use lstat() and S_ISDIR() to check if it's the directory or not
    if there are no d_type in struct dirent.

 configure.in |  2 ++
 src/fcstat.c | 61
 ++++++++++++++++++++++++++++++++++++++++++++++++++++--------
 2 files changed, 55 insertions(+), 8 deletions(-)

commit 0ac6c98294d666762960824d39329459b22b48b7
Author: Mikhail Gusarov <dottedmag@dottedmag.net>
Date:   Mon May 28 14:52:21 2012 +0900

    Fix cache aging for fonts on FAT filesystem under Linux

    Windows does not update mtime of directory on FAT filesystem when
    file is added to it or removed from it. Fontconfig uses mtime of
    directory to check cache file aging and hence fails to detect
    newly added or recently removed files.

    This changeset detects FAT filesystem (currently implemented for
    Linux) and adds generating checksum of directory entries instead
    of using mtime which guarantees proper cache rebuild.

    For non-FAT filesystems this patch adds single syscall per directory
    which is negligeable overhead.

    This fixes bug https://bugs.freedesktop.org/show_bug.cgi?id=25535

    Signed-off-by: Mikhail Gusarov <dottedmag@dottedmag.net>

 src/fccache.c | 14 +++++-----
 src/fcdir.c   |  2 +-
 src/fcint.h   |  5 +++-
 src/fcstat.c  | 84
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 96 insertions(+), 9 deletions(-)

commit dc2da23e69e6b3f6e6d0436d4777ee2c1d8ff1be
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon May 28 13:59:48 2012 +0900

    Move statfs/statvfs wrapper to fcstat.c and add a test for the mtime
    broken fs

    just rework to share the efforts between FcIsFsMmapSafe() and
    FcIsFsMtimeBroken().

 src/fccache.c |  50 +--------------------------
 src/fcint.h   |  13 +++++++
 src/fcstat.c  | 108
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 122 insertions(+), 49 deletions(-)

commit 6a83c1ad40594530994b826d928312e9eeb19c35
Author: Mikhail Gusarov <dottedmag@dottedmag.net>
Date:   Sun Apr 29 12:56:16 2012 +0200

    Move FcStat to separate compilation unit

    FcStat() logic is quite complicated in presence of various semi-broken
    operating
    systems and filesystems, split it out in order to make it a bit
    easier.

    Signed-off-by: Mikhail Gusarov <dottedmag@dottedmag.net>

 src/Makefile.am |   1 +
 src/fccache.c   |  88 ------------------------------------------
 src/fcint.h     |   8 ++--
 src/fcstat.c    | 116
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 122 insertions(+), 91 deletions(-)

commit 26160366d7ba5c7baf20ae091d5dd0388714df83
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon May 28 15:58:56 2012 +0900

    fcatomic: fallback to create a directory with FcAtomicLock

    link(2) might be failed on the filesystem that doesn't support
    the hard link. e.g. FcAtomicLock() always fails on FAT filesystem
    when link(2) is available.
    So that may be a good idea to fallback if link(2) is failed.

 src/fcatomic.c | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 2837c63876b9b1f27d74aad51d45fc18d48f4652
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon May 21 13:43:20 2012 +0900

    Bug 33644 - Fontconfig doesn't match correctly in <test>

    Warn if the multiple values is set to <test>, including the case of
    in <alias> because the behavior isn't intuitive since so many users
    is asking for a help to get things working for their expectation.

    Use multiple <match>s or <alias>es for OR operator and
    multiple <test>s for AND operator.

 doc/fontconfig-user.sgml | 23 +++++++++++++++++++++++
 src/fcxml.c              |  5 +++++
 2 files changed, 28 insertions(+)

commit 794fb0bd6a3fa91c6e03e51dc080e458b8960a55
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon May 21 13:37:54 2012 +0900

    Correct the example

    Enclose the string with <string> in <test>

 doc/fontconfig-user.sgml | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 8c255fb185d5651b57380b0a9443001e8051b29d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 12 19:18:19 2012 +0900

    Bug 20411 - fontconfig doesn't match FreeDesktop directories specs

    Allows reading configuration files, fonts and cache files from
    the directories where the XDG Base Directory Specification defines.

    the old directories are still in the configuration files for
    the backward compatibility.

 conf.d/50-user.conf      |   7 +-
 doc/fontconfig-user.sgml |  37 ++---
 fonts.conf.in            |   4 +
 fonts.dtd                |  10 +-
 src/fccfg.c              |  78 ++++++++++-
 src/fcinit.c             |  20 ++-
 src/fcint.h              |  11 ++
 src/fcstr.c              |   5 +-
 src/fcxml.c              | 344
 ++++++++++++++++++++++++++++++-----------------
 9 files changed, 366 insertions(+), 150 deletions(-)

commit bc4517d8e5af8f31821ec8d9990765dad2867dd4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 11 19:52:35 2012 +0900

    Bug 19128 - Handling whitespace in aliases

    Add a new attribute `ignore-blanks' to <test>.
    When this is set to "true", any blanks in the string will be ignored
    on comparison.  This takes effects for compare="eq" or "not_eq" only.

    Also changed the behavior of the comparison on <alias> too.

 conf.d/20-fix-globaladvance.conf |  8 ++++----
 conf.d/20-unhint-small-vera.conf |  6 +++---
 conf.d/25-unhint-nonlatin.conf   | 30 +++++++++++++++---------------
 conf.d/30-urw-aliases.conf       |  7 +------
 conf.d/65-fonts-persian.conf     | 14 +++++++-------
 conf.d/80-delicious.conf         |  2 +-
 doc/fontconfig-user.sgml         |  3 ++-
 fonts.dtd                        |  1 +
 src/fccfg.c                      | 35 ++++++++++++++++++++++-------------
 src/fcdbg.c                      | 27 ++++++++++++++++++---------
 src/fcint.h                      |  8 ++++++++
 src/fclist.c                     |  2 +-
 src/fcxml.c                      | 24 ++++++++++++++++++++----
 13 files changed, 103 insertions(+), 64 deletions(-)

commit 5ac12c0e94128ea63e3e74b4e602cf0c74661bce
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu May 10 16:47:09 2012 +0900

    fcarch.c: get rid of the duplicate definition of FC_MAX

    FC_MAX is also available in src/fcint.h

 src/fcarch.c | 2 --
 1 file changed, 2 deletions(-)

commit cc9d572d3e3d270653c994ff1269f56eb7ee1b1c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu May 10 16:36:10 2012 +0900

    fonts.conf: keeps same binding for alternatives

    Since the binding is affected to the score, the replacement should
    have same binding to avoid the unexpected estimation.

 fonts.conf.in | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d81407611b160ebfa631556ee60be147d1c0416f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 1 19:28:27 2012 -0700

    Deal with architectures where ALIGNOF_DOUBLE < 4

    This patch isn't really tested as I don't have such a machine, but I
    have a bug report that on m68k machines, double values are aligned on
    smaller than 4 byte boundaries. If ALIGNOF_DOUBLE < sizeof(int),
    the "expected" sizeof of FcValue is miscomputed. Use the maximum of 4
    (sizeof (int)) and ALIGNOF_DOUBLE when computing the expected size of
    FcValue.

    Signed-off-by: Keith Packard <keithp@keithp.com>

 src/fcarch.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit e41474e925947b5a2fb64c80135bc116e9e56d2d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 1 19:28:26 2012 -0700

    Extra ',' in AC_ARG_WITH(arch causes arch to never be autodetected

    Commit 87d7b82a98780223422a829b6bb1a05fd753ae5e reformatted this
    part of the configure script, accidentally introducing a spurious
    comma.

    Signed-off-by: Keith Packard <keithp@keithp.com>

 configure.in | 1 -
 1 file changed, 1 deletion(-)

commit d2718257f9aa3e6071f649296a52a22684c43e96
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue May 1 20:18:41 2012 +0900

    Output more verbose debugging log to show where to insert the element
    into the value list

 src/fccfg.c |  2 +-
 src/fcdbg.c | 79
 +++++++++++++++++++++++++++++++++++++++++++------------------
 src/fcint.h |  8 ++++++-
 3 files changed, 64 insertions(+), 25 deletions(-)

commit 7d65f9f514e33305bdeafd0d34140da46259e57f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 11 19:52:35 2012 +0900

    Bug 39278 - make usage of mmap optional

    Stop using mmap() if the cache file is stored on NFS.
    also added FONTCONFIG_USE_MMAP environment variable to enforce the
    use of
    or not the use of mmap(2) regardless of what the filesystem the
    cache files
    are stored on.

 configure.in             | 24 +++++++++++++--
 doc/fontconfig-user.sgml | 20 ++++++++++++-
 src/fccache.c            | 77
 ++++++++++++++++++++++++++++++++++++++++++++++--
 3 files changed, 116 insertions(+), 5 deletions(-)

commit f30a5d7637af14b12f07267b59e02ec4a14458f2
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 25 16:21:33 2012 +0900

    Disable iconv support anyway...

 configure.in | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7587d1c99d9476b6dd4dbe523c0204da700fed8d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 26 16:34:34 2012 +0900

    Bug 27765 - FcMatch() returns style in wrong language

    Add "namelang" object to obtain the localized name in the font
    regardless
    of the lang object. it's applied to "familylang", "stylelang" and
    "fullnamelang" alltogether. this would helps if one wants to enforce
    selecting them in the specific language if any.  the default value for
    the namelang object is determined from current locale.

 doc/fontconfig-devel.sgml |   3 ++
 fontconfig/fontconfig.h   |   1 +
 src/fcdefault.c           |  37 ++++++++++++++-
 src/fcint.h               |   3 +-
 src/fclist.c              |  47 +++++++++++++++----
 src/fcmatch.c             | 113
 +++++++++++++++++++++++++++++++++++++++-------
 src/fcname.c              |   1 +
 7 files changed, 178 insertions(+), 27 deletions(-)

commit 526f0da93fc487e9b33a4d97386a9054156d01ac
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 24 11:40:51 2012 +0900

    Add --enable-iconv option to configure

    Disable iconv support by default, which provide a feature to convert
    non-Unicode SFNT names to UTF-8.

 configure.in | 64
 ++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 34 insertions(+), 30 deletions(-)

commit 06d6b7c3120cd417af5ff47e9735aed577978354
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 28 17:28:06 2012 +0900

    Create CACHEDIR.TAG when fc-cache is run or only when the cache
    directory is created at the runtime.

    Also add FcCacheCreateTagFile() API to do create CACHEDIR.TAG on
    the cache
    directory.

 doc/fccache.fncs        |  9 ++++++
 doc/fcconfig.fncs       |  2 +-
 fc-cache/fc-cache.c     | 73 +-----------------------------------------
 fontconfig/fontconfig.h |  5 ++-
 src/fccache.c           | 85
 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/fccfg.c             |  2 +-
 src/fcint.h             |  3 ++
 7 files changed, 104 insertions(+), 75 deletions(-)

commit 25ccc3f3d27d8affd45c4b0a8041ef757dbb20dd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Apr 20 19:08:59 2012 +0900

    Bug 47721 - Add ChromeOS fonts to 30-metric-aliases.conf

 conf.d/30-metric-aliases.conf | 50
 +++++++++++++++++++++++++++++++++----------
 1 file changed, 39 insertions(+), 11 deletions(-)

commit 7069d717e982adcf8e1d300cbd10eec6322a65c9
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sun Apr 22 21:40:44 2012 +0900

    C++11 requires a space between literal and identifier

    Reported by Buganini

 fontconfig/fontconfig.h | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 22dc5460906f78b3dc1b12ab2440e62b930adf0b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Apr 20 20:04:17 2012 +0900

    Fix a build issue again when no regex functions available

    Reported by Jon TURNEY

 configure.in | 4 +---
 src/fcstr.c  | 2 +-
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 9fa7b7c8f2d1d8a9c50f3ba0f99087f653b6a9b8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Apr 20 11:17:41 2012 +0900

    Rework to avoid adding the unexpected value to ICONV_CFLAGS and
    ICONV_LIBS

 configure.in | 44 ++++++++++++++++++++++++--------------------
 1 file changed, 24 insertions(+), 20 deletions(-)

commit dd2a3d3520b6fea20a58b2888fef0458c01b287f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 18 12:55:23 2012 +0900

    Bug 25151 - Move cleanCacheDirectory() from fc-cache.c into
     the library

    Add FcDirCacheScan() API to clean up the cache files in the directory.

 doc/fccache.fncs        |  9 +++++
 fc-cache/fc-cache.c     | 93
 +------------------------------------------------
 fontconfig/fontconfig.h |  3 ++
 src/fccache.c           | 91
 +++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h             |  2 ++
 5 files changed, 106 insertions(+), 92 deletions(-)

commit 9e62fcedfe774a13843cc0982bc3e535369b99eb
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 16 11:28:36 2012 -0700

    Use posix_fadvise to speed startup

    Given that fontconfig will scan all of the cache file data during the
    first font search, ask the kernel to start reading the pages right
    away.

    Signed-off-by: Keith Packard <keithp@keithp.com>

 configure.in  | 2 +-
 src/fccache.c | 3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 94c2cc58a091138aa8c507d6239eca69520b65f0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Apr 16 20:25:52 2012 +0900

    doc: Fix a typo of the environment variable name.

 doc/fcconfig.fncs | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c5714bcf90d6b345e748b7fa7b21e421409aba60
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Apr 13 11:09:04 2012 +0900

    Add --with-expat, --with-expat-includes and --with-expat-lib back.

 configure.in | 41 ++++++++++++++++++++++++++++++++++++++---
 1 file changed, 38 insertions(+), 3 deletions(-)

commit 470e92c9dbdc75d354c9dce9063276996ecf535d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 12 14:01:25 2012 +0900

    Bug 27526 - Compatibility fix for old windows sytems

    Patch from Gianluigi Tiesi

 src/fccache.c |  3 ---
 src/fcint.h   | 12 ++++++++++--
 src/fcxml.c   | 52 +++++++++++++++++++++++++++++++++++++++++++---------
 3 files changed, 53 insertions(+), 14 deletions(-)

commit ac6271dbac32086ce60845efc4d87e669f37796a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Apr 12 11:01:12 2012 +0900

    Bug 48573 - platform without regex do not have also REG_XXX defines

    Fix a build issue on the platforms where regex isn't available

 configure.in | 9 +++++++++
 src/fcstr.c  | 6 ++++--
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 9231d79ad180f992f9bbef4f3127576870a75075
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Apr 9 12:51:12 2012 +0900

    Bug 28491 - Allow matching on FC_FILE

    Allow :file=/path/to/font/file on matching

 configure.in  |  4 +--
 src/fcint.h   |  6 +++++
 src/fcmatch.c | 84
 ++++++++++++++++++++++++++++++++++++-----------------------
 src/fcstr.c   | 50 +++++++++++++++++++++++++++++++++++
 4 files changed, 110 insertions(+), 34 deletions(-)

commit 2589207cfd4c7e948a4b50d7c07c13a3a52fe0aa
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Apr 10 18:34:11 2012 +0900

    Bug 26830 - Add search for libiconv non-default directory

    Add --with-libiconv, --with-libiconv-includes and --with-libiconv-lib
    to specify the directory where libiconv might be installed.

 configure.in    | 85
 +++++++++++++++++++++++++++++++++++++++++----------------
 src/Makefile.am |  1 +
 2 files changed, 63 insertions(+), 23 deletions(-)

commit ddefa5021f7785514f373aab6a8e6191a867278e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 4 14:47:57 2012 +0900

    Bug 22862 - <alias> ignores <match> <test>s

    Allow to use the test elements in the alias element.

 fonts.dtd   |  2 +-
 src/fcxml.c | 27 +++++++++++++++++++++------
 2 files changed, 22 insertions(+), 7 deletions(-)

commit e181ab4de5d20fe1f70e68f66ef8332553eba206
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Apr 4 16:49:30 2012 +0900

    Bug 29341 - Make some fontconfig paths configurable

    Add configure options to set the directory to be installed:
      --with-templatedir for the configuration files a.k.a.
        /etc/fonts/conf.avail
      --with-baseconfigdir for fonts.conf etc a.k.a. /etc/fonts
      --with-configdir for the active configuration files a.k.a.
        /etc/fonts/conf.d
      --with-xmldir for fonts.dtd etc

    and the default path for templatedir is changed to
    ${datadir}/fontconfig/conf.avail

 Makefile.am        | 36 +++++++++++---------
 conf.d/Makefile.am | 99
 ++++++++++++++++++++++++++----------------------------
 configure.in       | 72 ++++++++++++++++++++++++++++++++-------
 fonts.conf.in      |  2 +-
 src/Makefile.am    |  2 +-
 5 files changed, 129 insertions(+), 82 deletions(-)

commit bb02899d9ff9813738809fb5349a9f3ae2dba76f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Apr 2 15:38:27 2012 +0900

    Use pkgconfig to check builddeps

 configure.in | 164
 +++++++++++------------------------------------------------
 1 file changed, 31 insertions(+), 133 deletions(-)

commit 87d7b82a98780223422a829b6bb1a05fd753ae5e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Apr 2 14:32:44 2012 +0900

    Use AC_HELP_STRING instead of formatting manually

 configure.in | 57
 ++++++++++++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 46 insertions(+), 11 deletions(-)

commit d3e3f4a46d07a7b611be21600d7049225b8b2909
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 30 18:09:14 2012 +0900

    doc: Add contains and not_contains operators and elements

 doc/fontconfig-user.sgml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9279f71a3a855e3b2dbd13dbe0d38f2b69673c49
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 30 11:52:25 2012 +0900

    Bug 24729 - [ne_NP] Fix ortho file

    further update for ne.orth

    Patch from Pravin Satpute.

 fc-lang/ne.orth | 23 ++++++++++++++++++++---
 1 file changed, 20 insertions(+), 3 deletions(-)

commit 9fe7c986c64d8cfb7f85a300b6f0d470ce66b18a
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 29 15:43:11 2012 +0900

    Bug 48020 - Fix for src/makealias on Solaris 10

    Use the command substitution `command` instead of $(command) for
    Solaris 10.

 src/makealias | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit becbdaebe3d77726900072de1a0fb6a95c938da5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 28 15:09:25 2012 +0900

    Move workaround macros for fat binaries into the separate header file

 Makefile.am     |  5 +++--
 config-fixups.h | 44 ++++++++++++++++++++++++++++++++++++++++++++
 configure.in    |  4 +++-
 src/fcarch.h    | 13 -------------
 4 files changed, 50 insertions(+), 16 deletions(-)

commit fe6ba5e5c54928adeaf96668d0cf6f44f0484065
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 28 16:27:46 2012 +0900

    Fix the hardcoded cache file suffix

 fc-cat/fc-cat.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4a060729a1466186d3be63ada344f43d66f937e5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 28 13:38:53 2012 +0900

    fcpat: Increase the number of buckets in the shared string hash table

    This is a reasonably conservative increase in the number of buckets
    in the hash
    table to 251.  After FcInit(), there are 240 shared strings in use
    on my system
    (from configuration files I assume).  The hash value is stored in
    each link in
    the chains so comparison are actually not very expensive.  This change
    should
    reduce the average length of chains by a factor of 8.  With the
    reference
    counted strings, it should keep the average length of chains to
    about 2.  The
    number of buckets is prime so as not to rely too much on the quality
    of the
    hash function.

    https://bugs.freedesktop.org/show_bug.cgi?id=17832#c5

    Patch from Karl Tomlinson

 src/fcpat.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d8dcff7b96b09748e6f1df9e4adc7ab0850d7b18
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 28 13:37:15 2012 +0900

    Bug 17832 - Memory leaks due to FcStrStaticName use for external
    patterns

    Use the reference-counted strings instead of the static strings

    Patch from Karl Tomlinson

 src/fccfg.c  |  2 +-
 src/fcinit.c |  4 ++--
 src/fcint.h  | 10 +++++-----
 src/fclist.c | 10 +++++++++-
 src/fcname.c | 34 ++++++++------------------------
 src/fcpat.c  | 63
 +++++++++++++++++++++++-------------------------------------
 src/fcxml.c  |  8 +++++---
 7 files changed, 54 insertions(+), 77 deletions(-)

commit ea1c6ea337b8cf6b86169b565787d0d31a0fc330
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Mar 27 21:06:36 2012 +0900

    Fix a memory leak in FcDirScanConfig()

 src/fcdir.c | 3 +++
 1 file changed, 3 insertions(+)

commit 1aaf8b773d73f89f5b0d8591cca0a2072524fdb3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 26 10:58:18 2012 +0900

    Bug 17722 - Don't overwrite user's configurations in default config

    Use "append" to avoid overwriting the user configuration.
    This presumes most clients may takes care of the first value only.

 conf.d/10-autohint.conf          | 8 +++++++-
 conf.d/10-no-sub-pixel.conf      | 8 +++++++-
 conf.d/10-sub-pixel-bgr.conf     | 8 +++++++-
 conf.d/10-sub-pixel-rgb.conf     | 8 +++++++-
 conf.d/10-sub-pixel-vbgr.conf    | 8 +++++++-
 conf.d/10-sub-pixel-vrgb.conf    | 8 +++++++-
 conf.d/10-unhinted.conf          | 8 +++++++-
 conf.d/11-lcdfilter-default.conf | 8 +++++++-
 conf.d/11-lcdfilter-legacy.conf  | 8 +++++++-
 conf.d/11-lcdfilter-light.conf   | 8 +++++++-
 10 files changed, 70 insertions(+), 10 deletions(-)

commit 900675d0b0b40f22ecc0d75e4d5ce16295a3a5e3
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 22 19:57:47 2012 +0900

    Bug 47703 - SimSun default family

    40-nonlatin.conf: SimSun should be serif but not sans-serif.

    http://www.microsoft.com/typography/fonts/family.aspx?FID=37

    Patch from Petr Gajdos

 conf.d/40-nonlatin.conf | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 92ac054ce5e270f22a4f81a09522c3f03b76c876
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 22 19:15:27 2012 +0900

    fcmatch: Set FcResultMatch at the end if the return value is valid.

    In the previous code, the result of 'result' in the argument for
    FcFontSetSort() and FcFontSetMatch() wasn't predictable and not
    reliable to
    check if the return value is valid or not. this change is to ensure
    if it's
    performed successfully.

 src/fcmatch.c | 19 ++++++++++++++-----
 1 file changed, 14 insertions(+), 5 deletions(-)

commit 1db3e9cdd8bc7408e630934cfc8deda7798b8970
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Mar 22 12:36:34 2012 +0900

    fc-cache: improvement of the fix for Bug#39914.

    Use sizeof() instead of strlen() and use stdio.

 fc-cache/fc-cache.c | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 4f7f3bf9f78843be5b39eb64acfeb02ffcd8e3a4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 21 16:06:37 2012 +0900

    Bug 39914 - Please tag the cache directory with CACHEDIR.TAG

    fc-cache: Create CACHEDIR.TAG at the top of the cache directory.

    Reviewed-by: Josh Triplett <josh@joshtriplett.org>

 fc-cache/fc-cache.c | 77
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 77 insertions(+)

commit 8cc4498122b17843b00ec3eebdd7a7d8d59cb7ff
Author: Jeremy Huddleston <jeremyhu@apple.com>
Date:   Mon Mar 19 02:16:41 2012 -0700

    fcarch: Check for architecture signature at compile time rather than
    configure time

    https://bugs.freedesktop.org/show_bug.cgi?id=20208

    Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>

 fc-cache/fc-cache.c |  3 +--
 src/fcarch.c        |  4 ++--
 src/fcarch.h        | 23 +++++++++++++++++++++--
 3 files changed, 24 insertions(+), 6 deletions(-)

commit e1ffb3dcd46f1fbbc5cb7527bc7f447b060ed98f
Author: Akira TAGOH <tagoh@redhat.com>
Date:   Fri Mar 16 23:18:23 2012 +0900

    Get rid of the prerequisites from the sufix rules

    Thanks to Adam Sampson for pointing this out.

 doc/Makefile.am | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 93460f93e9e55e39a42fb6474918f31539436d9c
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 16 16:29:53 2012 +0900

    Fix a build issue due to the use of non-portable variables

    $< isn't supported in BSD make say. $(RM) is pre-defined in GNU make
    though, not in BSD make say. so changed to check on configure if it's
    pre-defined by make, otherwise set the appropriate command to $(RM).

    This would be a workaround until it has the certain pre-defined value.

 Makefile.am            | 10 +++++-----
 conf.d/Makefile.am     |  8 ++++----
 configure.in           |  9 +++++++++
 doc/Makefile.am        | 32 ++++++++++++++++----------------
 fc-cache/Makefile.am   |  4 ++--
 fc-case/Makefile.am    |  6 ++----
 fc-cat/Makefile.am     |  4 ++--
 fc-list/Makefile.am    |  4 ++--
 fc-match/Makefile.am   |  4 ++--
 fc-pattern/Makefile.am |  4 ++--
 fc-query/Makefile.am   |  4 ++--
 fc-scan/Makefile.am    |  4 ++--
 src/Makefile.am        |  8 ++++----
 13 files changed, 54 insertions(+), 47 deletions(-)

commit f2813ffc689fb6972ff4d5d414c3abfa3e0be26f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 16 11:55:47 2012 +0900

    Revert "Fix a build fail on some environment"

    This reverts commit b75eb63982a54c0fb4576d8a655ef734908d3604.

 fc-case/Makefile.am      | 10 ++++++----
 fc-glyphname/Makefile.am |  4 ++--
 fc-lang/Makefile.am      |  4 ++--
 3 files changed, 10 insertions(+), 8 deletions(-)

commit a5b609196fe9cf688e5b4f7b7cd31fb2dc15b154
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 16 11:55:30 2012 +0900

    Revert "Fix a build fail on some environment."

    This reverts commit 0fdfddf2ac93c1c0238b70a265998fd6b5ffe7af.

    Conflicts:

            doc/Makefile.am

 Makefile.am              |  2 +-
 doc/Makefile.am          | 30 +++++++++++++++---------------
 fc-cache/Makefile.am     | 10 +++++-----
 fc-case/Makefile.am      |  2 +-
 fc-cat/Makefile.am       |  6 +++---
 fc-glyphname/Makefile.am |  2 +-
 fc-lang/Makefile.am      |  2 +-
 fc-list/Makefile.am      |  8 ++++----
 fc-match/Makefile.am     |  8 ++++----
 fc-pattern/Makefile.am   |  6 +++---
 fc-query/Makefile.am     |  8 ++++----
 fc-scan/Makefile.am      |  8 ++++----
 src/Makefile.am          |  2 +-
 13 files changed, 47 insertions(+), 47 deletions(-)

commit 765b7b32d862474eb631b47bbdbd34ffba507392
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 12 19:02:27 2012 +0900

    [doc] Update for cachedir.

    <cache> element is now obsoletes and no longer used. get rid of it
    from the doc and add <cachedir> instead.

 doc/fontconfig-user.sgml | 19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit e8bdc6df2ed329a38c2152b3592bf4ded8f27ce7
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Mar 12 17:58:00 2012 +0900

    [doc] Update the path for cache files and the version.

 doc/fontconfig-user.sgml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit dd3214aa392a66095513f8fc160d6b62d81f36f5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sun Mar 11 02:24:33 2012 +0900

    Bump version to 2.9.0

 README                  | 129
 +++++++++++++++++++++++++++++++++++++++++++++++-
 configure.in            |   2 +-
 fontconfig/fontconfig.h |   2 +-
 3 files changed, 129 insertions(+), 4 deletions(-)

commit 3b142c2aaeaed4d6d5b3353aa1007d6ac08dbbdb
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sun Mar 11 02:12:10 2012 +0900

    Get rid of $< from Makefile.am

 Makefile.am     |  2 +-
 doc/Makefile.am | 16 ++++++++--------
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 0fdfddf2ac93c1c0238b70a265998fd6b5ffe7af
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Mar 10 23:30:30 2012 +0900

    Fix a build fail on some environment.

 Makefile.am              |  2 +-
 doc/Makefile.am          | 20 ++++++++++----------
 fc-cache/Makefile.am     | 10 +++++-----
 fc-case/Makefile.am      |  2 +-
 fc-cat/Makefile.am       |  6 +++---
 fc-glyphname/Makefile.am |  2 +-
 fc-lang/Makefile.am      |  2 +-
 fc-list/Makefile.am      |  8 ++++----
 fc-match/Makefile.am     |  8 ++++----
 fc-pattern/Makefile.am   |  6 +++---
 fc-query/Makefile.am     |  8 ++++----
 fc-scan/Makefile.am      |  8 ++++----
 src/Makefile.am          |  2 +-
 13 files changed, 42 insertions(+), 42 deletions(-)

commit b75eb63982a54c0fb4576d8a655ef734908d3604
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Mar 10 22:05:07 2012 +0900

    Fix a build fail on some environment

 fc-case/Makefile.am      | 10 ++++------
 fc-glyphname/Makefile.am |  4 ++--
 fc-lang/Makefile.am      |  4 ++--
 3 files changed, 8 insertions(+), 10 deletions(-)

commit a47899a853e4ed3405f398f43d03424095ae73f5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Sat Mar 10 19:03:05 2012 +0900

    Fix a build issue

 doc/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit d6de5351922d79ccf38d2bc6b75f6ea2011dd421
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 9 22:24:18 2012 +0900

    Update to detect the uncommited changes properly

 new-version.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 78d75c003c5f03a2aeebc628d70d3f75bd6f5707
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 9 22:12:35 2012 +0900

    Update the version info

 configure.in | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 353f7cc69184cdb1a7d5b4cc00741fab97b32f17
Author: Akira TAGOH <akira@tagoh.org>
Date:   Fri Mar 9 17:33:03 2012 +0900

    Fix distcheck error

 doc/Makefile.am          | 334
 ++++++++++++++++++++++++-----------------------
 fc-case/Makefile.am      |   3 +
 fc-glyphname/Makefile.am |   3 +
 fc-lang/Makefile.am      |   3 +
 4 files changed, 179 insertions(+), 164 deletions(-)

commit 254232f47eaea0d03d2b1c2405d4ded5fd09142e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 7 18:16:35 2012 +0900

    Bug 19128 - Handling whitespace in aliases

    Add a workaround alias for Dingbats.

 conf.d/30-urw-aliases.conf | 5 +++++
 1 file changed, 5 insertions(+)

commit 0ca752dd25462ed88112ba7c859ef6d5a41ea606
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 7 17:56:39 2012 +0900

    Check null value for given object to avoid possibly segfaulting

 src/fccharset.c | 175
 +++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 103 insertions(+), 72 deletions(-)

commit 1f01c4b60c4c5e16a92d60f76ce615005c7db6b8
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Mar 7 17:32:14 2012 +0900

    Bug 23336 - unable to display bitmap-only (SFNT) TrueType or OpenType

    Force to find out a size for bitmap-only ttf to avoid the blank glyphs
    in the font.

    Patch from Bug Fly

 src/fcfreetype.c | 32 ++++++++++++++------------------
 1 file changed, 14 insertions(+), 18 deletions(-)

commit a13d518fdd079aeb0bd07a0457393cca8def7f90
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Feb 28 12:52:25 2012 +0900

    Bug 41694 - FcCache functions have random-number-generator side
    effects

    Use the own random number generator state if possible.

 configure.in  |  2 +-
 src/fccache.c | 69
 ++++++++++++++++++++++++++++++++++++++++++++++++++---------
 2 files changed, 60 insertions(+), 11 deletions(-)

commit c7a671ab6069c676bbc77875234364242fd00e88
Author: Pravin Satpute <psatpute@redhat.com>
Date:   Fri Feb 24 16:50:14 2012 +0900

    Bug 25652 - Add ortho file for locale mni_IN

    Add mni.orth for Maniputi

    Signed-off-by: Akira TAGOH <akira@tagoh.org>

 fc-lang/Makefile.am |  3 ++-
 fc-lang/mni.orth    | 35 +++++++++++++++++++++++++++++++++++
 2 files changed, 37 insertions(+), 1 deletion(-)

commit 04c96f59b92091b758fb26b97f1f9a3c9c2a6b6c
Author: Pravin Satpute <psatpute@redhat.com>
Date:   Fri Feb 24 16:43:14 2012 +0900

    Bug 25653 - Add ortho file for locale doi_IN

    Add doi.orth for Dogri

    Signed-off-by: Akira TAGOH <akira@tagoh.org>

 fc-lang/Makefile.am |  3 ++-
 fc-lang/doi.orth    | 40 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 42 insertions(+), 1 deletion(-)

commit 857753d3680b7e64e753a4b8a8324138200eb86b
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Feb 23 20:12:06 2012 +0900

    Add brx.orth and sat.orth

 fc-lang/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 942cb16f6c59103e29b4e04ca8c64d29c8e67cb0
Author: Parag Nemade <pnemade@redhat.com>
Date:   Thu Feb 23 20:06:41 2012 +0900

    Bug 25650 - Add ortho file for locale sat_IN

    Add sat.orth for Santali

    Signed-off-by: Akira TAGOH <akira@tagoh.org>

 fc-lang/sat.orth | 44 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 44 insertions(+)

commit 38b9c42fe2e9d496a41e773d84a74254a6f65bc4
Author: Parag Nemade <pnemade@redhat.com>
Date:   Thu Feb 23 19:34:18 2012 +0900

    Bug 25651 - Add ortho file for locale brx_IN

    Add brx.orth for Bodo.

    Signed-off-by: Akira TAGOH <akira@tagoh.org>

 fc-lang/brx.orth | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit a3ff1f07f8c60d2a3c77a4670de6aad0622ecacc
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Feb 23 15:23:23 2012 +0900

    Bug 27385 - lcdfilter settings for freetype-2.3.12 not available
    in fontconfig-2.8.0

    Add config files for FT_LcdFilter options.

    Patch from Robin Johnson.

 conf.d/11-lcdfilter-default.conf | 10 ++++++++++
 conf.d/11-lcdfilter-legacy.conf  | 10 ++++++++++
 conf.d/11-lcdfilter-light.conf   | 10 ++++++++++
 conf.d/Makefile.am               |  3 +++
 4 files changed, 33 insertions(+)

commit 5e4ea1104c9b832046cc8dde5ea7da52aaa61143
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Feb 22 16:50:13 2012 +0900

    Do not update stream->pos when seeking is failed.

 src/ftglue.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 71b14d645f524637579d87ea99720c123d728e1f
Author: Akira TAGOH <akira@tagoh.org>
Date:   Wed Feb 22 16:30:05 2012 +0900

    Bug 46169 - Pointer error in FcConfigGlobMatch

    Fix possibly accessing the invalid memory and a crash in the
    worst case
    when the glob string is longer than the string.

 src/fccfg.c | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 3abf981542788310104bc96b9c9cf70dd39b361b
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Tue Nov 8 14:19:57 2011 -0500

    makealias: handle missing funcs better

    When adding new functions, if the actual definition doesn't match the
    header (say due to a typo), the regeneration of the internal headers
    get confused and output bad cpp logic.  This causes gcc to barf due
    to mismatched #ifdef/#endif.  Which is a pain to figure out due to
    the sheer voulme of generated code.

    So tweak the makealias script to detect this case and error out.
    While we're here, improve the cpp output a bit to indent, include
    comments, and merge similar ifdef blocks.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

 src/makealias | 18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit d9c4462778a3d97b38e267dcdf68dfe22210ed8c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Nov 7 20:09:10 2011 -0500

    FcObjectValidType: tweak -1 checking

    Newer gcc doesn't like when you switch on an enum and use a value
    that isn't declared:

    fcname.c: In function 'FcObjectValidType':
    fcname.c:299:2: warning: case value '4294967295'
            not in enumerated type 'FcType' [-Wswitch]

    So tweak the logic to avoid this warning.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

 src/fcname.c | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 97c9506e4d0abe5e6a7d61c1a909741d2605507b
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Nov 7 19:29:57 2011 -0500

    fix build warnings when using --with-arch

    Latest configure code will setup FC_ARCHITECTURE directly rather than
    going through ARCHITECTURE, so update fcarch.h accordingly.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

 src/fcarch.h | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 01c833379e19d8f8752ac7cec15b179c71242e2c
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Nov 7 15:33:12 2011 -0500

    fc-{list,match}: constify format string

    We don't free this string anywhere, so mark it const to avoid gcc
    warnings
    and possible bugs in the future (if people did try freeing it).

    fc-list.c: In function 'main':
    fc-list.c:161:16: warning: pointer targets in assignment
            differ in signedness [-Wpointer-sign]

    fc-match.c: In function 'main':
    fc-match.c:201:13: warning: pointer targets in assignment
            differ in signedness [-Wpointer-sign]
    fc-match.c:203:13: warning: pointer targets in assignment
            differ in signedness [-Wpointer-sign]

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

 fc-list/fc-list.c   | 20 ++++++++++----------
 fc-match/fc-match.c | 22 +++++++++++-----------
 2 files changed, 21 insertions(+), 21 deletions(-)

commit 123d344f4590c45c5ccced8c46d157edb2b9efd2
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Nov 7 15:26:52 2011 -0500

    FcName{,Get}Constant: constify string input

    These funcs don't modify the incoming string, so add const markings.
    This is the "right thing", shouldn't change the ABI, and fixes some
    gcc warnings:

    fccfg.c: In function 'FcConfigEvaluate':
    fccfg.c:916:2: warning: passing argument 1 of 'IA__FcNameConstant'
            discards 'const' qualifier from pointer target type [enabled
            by default]
    fcalias.h:253:34: note: expected 'FcChar8 *' but
            argument is of type 'const FcChar8 *'

    fcxml.c: In function 'FcTypecheckExpr':
    fcxml.c:604:2: warning: passing argument 1 of 'IA__FcNameGetConstant'
            discards 'const' qualifier from pointer target type [enabled
            by default]
    fcalias.h:251:37: note: expected 'FcChar8 *' but
            argument is of type 'const FcChar8 *'

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

 fontconfig/fontconfig.h | 4 ++--
 src/fcname.c            | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit da763aa77dbaefd9be10ff5ad04ab5da39327b2e
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Nov 7 15:24:53 2011 -0500

    fc-cat: fix pointer warning

    Add a cast to avoid a gcc warning:

    fc-cat.c: In function 'cache_print_set':
    fc-cat.c:230:2: warning: pointer targets in passing argument 2
            of 'FcPatternFormat' differ in signedness [-Wpointer-sign]
    ../fontconfig/fontconfig.h:860:1: note:
            expected 'const FcChar8 *' but argument is of type 'char *'

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

 fc-cat/fc-cat.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 647569d029d0c01ce36ae7d94095ea83f40728de
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Nov 7 15:21:51 2011 -0500

    FcStat: change to FcChar8 for first arg

    This shouldn't affect the ABI, makes FcStat more like the rest of the
    fontconfig API, and fixes warnings where we pass FcChar8* pointers in
    to this func from other places.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

 src/fccache.c | 4 ++--
 src/fcint.h   | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit e3a66c2937c3bd5c45f5170cf7720b4023b8ae3f
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Nov 7 15:18:26 2011 -0500

    delete unused variables

    Newer gcc is better at detecting set-but-unused variables.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

 src/fccache.c    |  6 ++----
 src/fcdir.c      | 17 -----------------
 src/fcformat.c   |  5 ++---
 src/fcfreetype.c |  3 ---
 4 files changed, 4 insertions(+), 27 deletions(-)

commit 6f020161e8628546158766ce7a5f5e0ce1f7d95a
Author: Mike Frysinger <vapier@gentoo.org>
Date:   Mon Nov 7 14:25:51 2011 -0500

    FcStrPlus: optimize a little

    We've already calculated the lengths of these strings, so re-use those
    values to avoid having to rescan the strings multiple times.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

 src/fcstr.c | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 2b010e46e629f118885f17ba860e9c4ddbba8779
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Jan 19 12:04:52 2012 +0900

    Bug 44826 - <alias> must contain only a single <family>

    Fix invalid syntax around alias elements in 30-metric-aliases.conf
    40-nonlatin.conf and 45-latin.conf.

    Patch from lolilolicon

 conf.d/30-metric-aliases.conf |  36 +++++++++++
 conf.d/40-nonlatin.conf       | 140
 +++++++++++++++++++++++++++++++++++++++++-
 conf.d/45-latin.conf          |  96 +++++++++++++++++++++++++++++
 3 files changed, 271 insertions(+), 1 deletion(-)

commit 54dd481512265a247bd23663c8fdb290a8886ccd
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Dec 20 18:46:14 2011 +0900

    Get rid of the unexpected family name

    UmePlus P Gothic isn't a serif font.

 conf.d/65-nonlatin.conf | 1 -
 1 file changed, 1 deletion(-)

commit 1c13fee11adcaae9eaaa08f9193a8c3c5b01504a
Author: MINAMI Hirokazu <minami@mistfall.net>
Date:   Tue Dec 20 18:36:35 2011 +0900

    Bug 43406 - typo of Japanese font name in conf.d/65-nonlatin.conf

    Fix a typo.

    Signed-off-by: Akira TAGOH <akira@tagoh.org>

 conf.d/65-nonlatin.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a53553b4b65d6230b1a91b1a7433c8c5852ab055
Author: Pravin Satpute <pravin.d.s@gmail.com>
Date:   Wed Dec 21 11:38:28 2011 +0900

    Bug 43321 - Required corrections in urdu.orth file

    Drop U+0629 and U+0647, and add U+06c3 to ur.orth

    Signed-off-by: Akira TAGOH <akira@tagoh.org>

 fc-lang/ur.orth | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 8c58dc276895cbeb0e9ae79718b1a38a082709d3
Author: Jinkyu Yi <jincreator@naver.com>
Date:   Wed Nov 9 18:07:37 2011 +0900

    Bug 42423 - make default Korean font from Un to Nanum

    Update 40-nonlatin.conf and 65-nonlatin.conf for Nanum korean fonts.

    Signed-off-by: Akira TAGOH <akira@tagoh.org>

 conf.d/40-nonlatin.conf |  3 +++
 conf.d/65-nonlatin.conf | 24 ++++++++++++++----------
 2 files changed, 17 insertions(+), 10 deletions(-)

commit a18ca17b6211f62fbd1d893811b94b8c83db4cc0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Feb 21 15:29:56 2012 +0900

    Bug 40452 - Running 'fc-match --all' core dumps when no fonts are
    installed

    This would changes the behavior of FcFontSort().
    it won't returns NULL afterward.

 fc-match/fc-match.c |  5 +++++
 src/fcmatch.c       | 29 ++++++++++++++++++++++++++++-
 2 files changed, 33 insertions(+), 1 deletion(-)

commit cbb6ee1662f1219518677a9d489159778a812782
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Jul 19 20:12:09 2011 +0900

    Bug 35517 - Remove Apple Roman cmap support

    Get rid of the apple roman encoding related code

 src/fcfreetype.c | 260
 -------------------------------------------------------
 1 file changed, 260 deletions(-)

commit d3c438221610d2e584a611f21433062dc7e7f83d
Author: Akira TAGOH <akira@tagoh.org>
Date:   Tue Feb 21 15:11:30 2012 +0900

    Add a missing file

 fc-lang/Makefile.am | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5582043a49f4360ae83d66ea05409e1c0a25b61e
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 14 12:56:28 2011 +0900

    Bug 32965 - Asturian (ast-ES) language matching missing ḷḷḥ

    Add U+1E24, U+1E25, U+1E36 and U+1e37 for Asturian

 fc-lang/ast.orth | 4 ++++
 1 file changed, 4 insertions(+)

commit dab0afd81013507b3d32afdd5a552d6ac09c10c0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 14 18:22:48 2011 +0900

    Remove the unnecessary comment in ks.orth

 fc-lang/ks.orth | 4 ----
 1 file changed, 4 deletions(-)

commit dedc16733a44373633e319461ff04ec9d1f08ed6
Author: Pravin Satpute <pravin.d.s@gmail.com>
Date:   Fri Nov 11 15:30:56 2011 +0900

    Bug 27195 - need updates to ks.orth file

    Add U+0620, U+0657, U+065f, U+0672, U+0673 and U+06c4 for Kashmiri

    See http://www.unicode.org/charts/PDF/U0600.pdf

    Signed-off-by: Akira TAGOH <akira@tagoh.org>

 fc-lang/ks.orth | 6 ++++++
 1 file changed, 6 insertions(+)

commit a1ecd679db82b0b118dc7334993f53b4288c4ae4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Nov 14 17:44:24 2011 +0900

    Bug 24744 - No n'ko orthography

    Add nqo.orth for N'Ko

 fc-lang/nqo.orth | 31 +++++++++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 19651262e9502c952184f27962c9f5e521a11db9
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Oct 6 14:59:04 2011 -0400

    Add FcPublic to FcLangSetUnion and FcLangSetSubtract

    Patch from ssp

 fontconfig/fontconfig.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3951fbaa39699684ebd3e76b333a14d5ebb19919
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Oct 5 15:12:48 2011 -0400

    Fix parallel build

 doc/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 082caefb6d5462c97f280b7037e3740b4865a244
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Sep 24 13:52:05 2011 -0400

    Bug 41171 - Invalid use of memset

 src/fccache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bf3bfa72d91e8bc37903d7e1bb7ac23c6ef4952a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 22 13:06:19 2011 -0400

    Fix stupid bug in FcFontSort()

    I broke FcFontSort() language handling at the end of 2008 with this
    commit: c7641f28

    G-d knows how many of the lang-matching bugs in bugzilla will be
    fixed by this changed...

    I'm really sorry, everyone!

 src/fcmatch.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e61eba94efffbdbec6f9e08f3fb04b75f0ba2a3f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 20 11:55:25 2011 -0400

    Switch fc-cat to use FcPatternFormat()

    Added the a builtin "fccat" to FcPatternFormat().

 doc/fcformat.fncs |  7 +++++++
 fc-cat/fc-cat.c   | 39 +++++++++++----------------------------
 src/fcformat.c    |  3 +++
 3 files changed, 21 insertions(+), 28 deletions(-)

commit a15ac5d3840552528874f1d5ad166eb00906ce80
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 20 11:32:46 2011 -0400

    Switch fc-match to use FcPatternFormat()

    Fix small bug in FcPatternFormat that was letting element-default to
    consume the convertor sequence.

 fc-match/fc-match.c | 38 +++++++++-----------------------------
 src/fcformat.c      |  2 +-
 2 files changed, 10 insertions(+), 30 deletions(-)

commit e0be405a1dd5765e36152c754a47c8ad7ff0ab85
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 20 11:22:17 2011 -0400

    Bug 26718 - "fc-match sans file" doesn't work

    - Do not throw away FC_FILE in FcNameUnparse
    - Update the builtin "fclist" format to remove FC_FILE properly
    instead
    - Switch fc-list to use FcPatternFormat()

    Note that I had previously broken fc-list and it was not showing the
    file name anymore.  No one noticed that it seems!  Now fixed.

 fc-list/fc-list.c | 17 ++++-------------
 src/fcformat.c    |  2 +-
 src/fcname.c      |  3 +--
 3 files changed, 6 insertions(+), 16 deletions(-)

commit 0fcf866d44c46bd63d91f656e36544b6ce9af47d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 20 11:07:56 2011 -0400

    Bug 36577 - Updating cache with no-bitmaps disables bitmap fonts...

    Do not remove blacklisted fonts during cache generation.  We already
    apply the blacklist when reading the caches.  The idea always has been
    that the config should not affect caches built, although that design
    was tarnished with the introduction of target="scan" configurations.

 src/fcdir.c | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 0392abf79131c9325c66c71c2708a4cd77673296
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Apr 12 22:15:37 2011 -0400

    [.gitignore] Update

 .gitignore | 3 +++
 1 file changed, 3 insertions(+)

commit 1c475d5c8cb265ac939d6b9e097666e300162511
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Mar 28 16:33:12 2011 -0400

    Bug 35587 - Add padding to make valgrind and glibc not hate each other

 src/fccfg.c | 13 +++++++++++--
 src/fcpat.c | 10 +++++++---
 2 files changed, 18 insertions(+), 5 deletions(-)

commit f0ee5761e1ab63d848f980a767dd8475986f1342
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Mar 14 18:58:13 2011 -0300

    Fix warning

 fc-lang/fc-lang.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c21fb9ac27ca89f3b581c58b1a08372f8273a262
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Mar 14 18:49:21 2011 -0300

    Always define FcStat as a function

    Such that first arg is const char *.  We also need to make more
    changes
    in that function as part of some other bug.

 src/fcatomic.c |  2 +-
 src/fccache.c  | 13 +++++++++++--
 src/fccfg.c    |  2 +-
 src/fcdir.c    |  4 ++--
 src/fcint.h    |  4 ----
 5 files changed, 15 insertions(+), 10 deletions(-)

commit b5617e636cbb0bc8ef4daba6681a6f58078d7a42
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Mar 14 18:23:56 2011 -0300

    More doc typo fixes

 doc/fcatomic.fncs    | 2 +-
 doc/fcconfig.fncs    | 4 ++--
 doc/fcinit.fncs      | 2 +-
 doc/fcmatrix.fncs    | 4 ++--
 doc/fcobjectset.fncs | 2 +-
 5 files changed, 7 insertions(+), 7 deletions(-)

commit 6c7915c10548132c3f7d0c00d08fdb268e5da6d4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Mar 14 18:21:32 2011 -0300

    Mark constant strings as constant

    Fixes a few compiler warnings in fcxml.c and makes it clear that they
    should not be freed.

 doc/fcatomic.fncs | 2 +-
 src/fcint.h       | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c76ed777ddb03a70c5990ef439d8d97809d1ef92
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Mar 14 18:04:59 2011 -0300

    Bug 30566 - fcformat.c:interpret_enumerate() passes uninitialized
    idx to FcPatternGetLangSet()

 src/fcformat.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ccc239b3865dd8d83026ae59b89de965e948120a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Mar 14 17:28:53 2011 -0300

    Bug 20113 - Uighur (ug) orthography incomplete

 fc-lang/ug.orth | 35 ++++++++++++++++++++++++++++-------
 1 file changed, 28 insertions(+), 7 deletions(-)

commit 7baa20c7590b12d11dcfb0a50131d50963581258
Author: Brad Hards <bradh@frogmouth.net>
Date:   Fri Mar 11 19:43:42 2011 -0300

    Documentation fixes

 doc/fcatomic.fncs         |   2 +-
 doc/fccharset.fncs        |   8 +--
 doc/fcfontset.fncs        |   2 +-
 doc/fcformat.fncs         |   4 +-
 doc/fcfreetype.fncs       |   4 +-
 doc/fcinit.fncs           |   2 +-
 doc/fclangset.fncs        |   4 +-
 doc/fcpattern.fncs        |   2 +-
 doc/fcstring.fncs         |   4 +-
 doc/fontconfig-devel.sgml | 148
 +++++++++++++++++++++++-----------------------
 doc/fontconfig-user.sgml  |   8 +--
 11 files changed, 94 insertions(+), 94 deletions(-)

commit 9bfe7bad1c85403d85b833b58ebc6343f766e0a9
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Mar 11 19:40:38 2011 -0300

    Remove --enable-maintainer-mode from autogen.sh

 autogen.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e1bb01bfdc64d0276fb17f248a54bcabe6f9aff1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jan 21 16:34:52 2011 -0500

    Update CaseFolding.txt to Unicode 6.0

 fc-case/CaseFolding.txt | 15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit e10a42178c65ff974fa9383dbc78525b3d8de1ae
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jan 3 22:18:38 2011 -0500

    Remove AM_MAINTAINER_MODE

    That macro is simply broken.

    This was also brought up in:
    Bug 32679 - fontconfig-2.8.0 does not cross compile

 configure.in | 1 -
 1 file changed, 1 deletion(-)

commit 0c7b8676171f2238af9785abf775e0f420e6545a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jan 2 13:25:29 2011 -0700

    Fix assertion failure on le32d4

    Reported by Jon TURNEY.

 src/fcarch.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e63f90ce74d1f2c1e22959cb2ed97120eff3867f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 28 02:58:16 2010 -0600

    Doc nit

 doc/fclangset.fncs | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 43bf659eedb3eeff75d219864af475dcadcf6983
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 28 02:55:31 2010 -0600

    Skip <range> elements with begin > end

 src/fcxml.c | 26 ++++++++++++++++----------
 1 file changed, 16 insertions(+), 10 deletions(-)

commit 8c625aa01f0ad95b1c06acb079921c209906f3b4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 28 02:52:06 2010 -0600

    Add <range> support for <blank> into the DTD

 fonts.dtd | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 549c9962a48cd728116c8f39db31c58043236ff0
Merge: 30fd4fa fa269cf
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 28 02:50:16 2010 -0600

    Allow editing charset and lang in target="scan"

    Merge commit 'fa269cf812ee304534b0e4c44662202496008db0'

    Fixes:
    Bug 31969 - Can't modify charset in target="scan"
    Bug 23758 - Can't modify lang in target="scan"

commit 30fd4fac9ca2238f84608c23836cab219640d9c1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 28 01:28:39 2010 -0600

    Bump version

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d1a0fca316ab8d9d61474028da54615e4d9f7540
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 28 00:59:19 2010 -0600

    Make fc-arch stuff cross-compiling-safe

    Fixes:
    Bug 32679 - fontconfig-2.8.0 does not cross compile
    Bug 25462 - Cross-compilation doesn't work

 Makefile.am           |   2 +-
 configure.in          |  64 +++++------------------
 fc-arch/Makefile.am   |  54 --------------------
 fc-arch/fc-arch.c     | 138
 --------------------------------------------------
 fc-arch/fcarch.tmpl.h |  65 ------------------------
 fc-cache/fc-cache.c   |   2 +-
 fc-cat/fc-cat.c       |   2 +-
 src/Makefile.am       |   6 +--
 src/fcarch.c          |  72 ++++++++++++++++++++++++++
 src/fcarch.h          |  71 ++++++++++++++++++++++++++
 src/fccache.c         |   3 +-
 src/fcint.h           |   4 ++
 12 files changed, 167 insertions(+), 316 deletions(-)

commit 2a6b235ff6d2750171e8dff7cfdfe3bccb0f630e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 27 13:20:47 2010 -0600

    Make most generated-files cross-compiling-safe

    By simply including a copy in the tarball.

    Remains fc-arch which is trickier.

 doc/Makefile.am          | 19 +++++++++++--------
 fc-arch/fcarch.tmpl.h    |  2 +-
 fc-case/Makefile.am      | 14 ++++++++------
 fc-glyphname/Makefile.am | 14 ++++++++------
 fc-lang/Makefile.am      | 17 ++++++++++-------
 5 files changed, 38 insertions(+), 28 deletions(-)

commit fa269cf812ee304534b0e4c44662202496008db0
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 9 11:57:24 2010 +0900

    add some documents

 doc/fclangset.fncs       | 30 ++++++++++++++++++++++++++++++
 doc/fontconfig-user.sgml |  4 ++++
 2 files changed, 34 insertions(+)

commit 3c862aad9f49be4b098cb679a67449c85b58f1f5
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 6 12:38:18 2010 +0900

    Add editing langset feature.

    The syntax to add any langset to the langset table looks like:

    <match target="scan">
        <test name="family">
            <string>Buggy Sans</string>
        </test>
        <edit name="lang" mode="assign">
            <plus>
                <name>lang</name>
                <langset>
                    <string>zh-cn</string>
                    <string>zh-tw</string>
                </langset>
            </plus>
        </edit>
    </match>

    To remove any langset from the langset table:

    <match target="scan">
        <test name="family">
            <string>Buggy Sans</string>
        </test>
        <edit name="lang" mode="assign">
            <minus>
                <name>lang</name>
                <langset>
                    <string>ja</string>
                </langset>
            </minus>
        </edit>
    </match>

 fontconfig/fontconfig.h |  9 ++++++
 fonts.dtd               |  5 ++--
 src/fccfg.c             | 24 +++++++++++++++
 src/fcdbg.c             |  6 ++++
 src/fcint.h             |  3 +-
 src/fclang.c            | 62 ++++++++++++++++++++++++++++++++++++++
 src/fcxml.c             | 80
 +++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 186 insertions(+), 3 deletions(-)

commit d975cdda782bb88c8bb6706889a554b2afb9f939
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 6 12:18:23 2010 +0900

    Add the range support in blank element

 src/fcxml.c | 35 +++++++++++++++++++++--------------
 1 file changed, 21 insertions(+), 14 deletions(-)

commit 51e352a1bde91348888202539639a5a2d0d506d4
Author: Akira TAGOH <akira@tagoh.org>
Date:   Thu Dec 9 11:32:26 2010 +0900

    add some document for range and charset.

 doc/fontconfig-user.sgml | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 857b7efe1e301f670329c6836da52fbab8c5df66
Author: Akira TAGOH <akira@tagoh.org>
Date:   Mon Dec 6 12:10:17 2010 +0900

    Add charset editing feature.

    The syntax to add any characters to the charset table looks like:

    <match target="scan">
        <test name="family">
            <string>Buggy Sans</string>
        </test>
        <edit name="charset" mode="assign">
            <plus>
                <name>charset</name>
                <charset>
                    <int>0x3220</int>    <!-- PARENTHESIZED IDEOGRAPH
                    ONE -->
                </charset>
            </plus>
        </edit>
    </match>

    To remove any characters from the charset table:

    <match target="scan">
        <test name="family">
            <string>Buggy Sans</string>
        </test>
        <edit name="charset" mode="assign">
            <minus>
                <name>charset</name>
                <charset>
                    <int>0x06CC</int>    <!-- ARABIC LETTER FARSI YEH -->
                    <int>0x06D2</int>    <!-- ARABIC LETTER YEH BARREE -->
                    <int>0x06D3</int>    <!-- ARABIC LETTER YEH BARREE
                    WITH HAMZA ABOVE -->
                </charset>
            </minus>
        </edit>
    </match>

    You could also use the range element for convenience:

    ...
                <charset>
                    <int>0x06CC</int>    <!-- ARABIC LETTER FARSI YEH -->
                    <range>
                        <int>0x06D2</int>    <!-- ARABIC LETTER YEH
                        BARREE -->
                        <int>0x06D3</int>    <!-- ARABIC LETTER YEH
                        BARREE WITH HAMZA ABOVE -->
                    </range>
                </charset>
    ...

 fonts.dtd       |   4 +-
 src/Makefile.am |   4 +-
 src/fccfg.c     |  19 +++++++
 src/fcdbg.c     |   2 +
 src/fcint.h     |   9 +++-
 src/fcxml.c     | 156
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 6 files changed, 185 insertions(+), 9 deletions(-)

commit 0d47cfabd82cd9c02ec5711383f06599b0450ac0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 7 18:48:56 2010 -0500

    Bug 28958 - lang=en matches other langs

    Patch from Akira TAGOH.

 src/fclang.c | 2 ++
 1 file changed, 2 insertions(+)

commit 1e7a2a4f6cd05bfa8b15f88c2f9ca10ad97fc8ac
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Dec 2 08:13:59 2010 -0500

    Fix returned value

 src/fcinit.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5aaf466d3899842763e746a9c2b745748eb34b48
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 10 16:45:42 2010 -0500

    Cleanup copyright notices to replace "Keith Packard" with "the
    author(s)"

 COPYING                         | 5 ++---
 Makefile.am                     | 4 ++--
 conf.d/Makefile.am              | 4 ++--
 config/Makedefs.in              | 4 ++--
 configure.in                    | 4 ++--
 doc/Makefile.am                 | 4 ++--
 doc/confdir.sgml.in             | 4 ++--
 doc/edit-sgml.c                 | 4 ++--
 doc/fcatomic.fncs               | 4 ++--
 doc/fcblanks.fncs               | 4 ++--
 doc/fccache.fncs                | 4 ++--
 doc/fccharset.fncs              | 4 ++--
 doc/fcconfig.fncs               | 4 ++--
 doc/fcconstant.fncs             | 4 ++--
 doc/fcfile.fncs                 | 4 ++--
 doc/fcfontset.fncs              | 4 ++--
 doc/fcformat.fncs               | 4 ++--
 doc/fcfreetype.fncs             | 4 ++--
 doc/fcinit.fncs                 | 4 ++--
 doc/fcmatrix.fncs               | 4 ++--
 doc/fcobjectset.fncs            | 4 ++--
 doc/fcobjecttype.fncs           | 4 ++--
 doc/fcpattern.fncs              | 4 ++--
 doc/fcstring.fncs               | 4 ++--
 doc/fcstrset.fncs               | 4 ++--
 doc/fcvalue.fncs                | 4 ++--
 doc/fontconfig-devel.sgml       | 8 ++++----
 doc/fontconfig-user.sgml        | 4 ++--
 doc/func.sgml                   | 4 ++--
 doc/version.sgml.in             | 4 ++--
 fc-arch/Makefile.am             | 4 ++--
 fc-arch/fcarch.tmpl.h           | 4 ++--
 fc-cache/Makefile.am            | 4 ++--
 fc-cache/fc-cache.c             | 4 ++--
 fc-case/Makefile.am             | 4 ++--
 fc-case/fc-case.c               | 4 ++--
 fc-case/fccase.tmpl.h           | 4 ++--
 fc-cat/Makefile.am              | 4 ++--
 fc-cat/fc-cat.c                 | 4 ++--
 fc-glyphname/Makefile.am        | 4 ++--
 fc-glyphname/fc-glyphname.c     | 4 ++--
 fc-glyphname/fcglyphname.tmpl.h | 4 ++--
 fc-lang/Makefile.am             | 4 ++--
 fc-lang/aa.orth                 | 4 ++--
 fc-lang/ab.orth                 | 4 ++--
 fc-lang/af.orth                 | 4 ++--
 fc-lang/am.orth                 | 4 ++--
 fc-lang/ar.orth                 | 4 ++--
 fc-lang/ast.orth                | 4 ++--
 fc-lang/av.orth                 | 4 ++--
 fc-lang/ay.orth                 | 4 ++--
 fc-lang/az_ir.orth              | 4 ++--
 fc-lang/ba.orth                 | 4 ++--
 fc-lang/be.orth                 | 4 ++--
 fc-lang/bg.orth                 | 4 ++--
 fc-lang/bh.orth                 | 4 ++--
 fc-lang/bho.orth                | 4 ++--
 fc-lang/bi.orth                 | 4 ++--
 fc-lang/bin.orth                | 4 ++--
 fc-lang/bm.orth                 | 4 ++--
 fc-lang/bo.orth                 | 4 ++--
 fc-lang/br.orth                 | 4 ++--
 fc-lang/bs.orth                 | 4 ++--
 fc-lang/bua.orth                | 4 ++--
 fc-lang/ca.orth                 | 4 ++--
 fc-lang/ce.orth                 | 4 ++--
 fc-lang/ch.orth                 | 4 ++--
 fc-lang/chm.orth                | 4 ++--
 fc-lang/chr.orth                | 4 ++--
 fc-lang/co.orth                 | 4 ++--
 fc-lang/cs.orth                 | 4 ++--
 fc-lang/cu.orth                 | 4 ++--
 fc-lang/cv.orth                 | 4 ++--
 fc-lang/cy.orth                 | 4 ++--
 fc-lang/da.orth                 | 4 ++--
 fc-lang/de.orth                 | 4 ++--
 fc-lang/dz.orth                 | 4 ++--
 fc-lang/el.orth                 | 4 ++--
 fc-lang/en.orth                 | 4 ++--
 fc-lang/eo.orth                 | 4 ++--
 fc-lang/es.orth                 | 4 ++--
 fc-lang/et.orth                 | 4 ++--
 fc-lang/eu.orth                 | 4 ++--
 fc-lang/fa.orth                 | 4 ++--
 fc-lang/fc-lang.c               | 4 ++--
 fc-lang/fc-lang.man             | 4 ++--
 fc-lang/fclang.tmpl.h           | 4 ++--
 fc-lang/ff.orth                 | 4 ++--
 fc-lang/fi.orth                 | 4 ++--
 fc-lang/fj.orth                 | 4 ++--
 fc-lang/fo.orth                 | 4 ++--
 fc-lang/fr.orth                 | 4 ++--
 fc-lang/fur.orth                | 4 ++--
 fc-lang/fy.orth                 | 4 ++--
 fc-lang/ga.orth                 | 4 ++--
 fc-lang/gd.orth                 | 4 ++--
 fc-lang/gez.orth                | 4 ++--
 fc-lang/gl.orth                 | 4 ++--
 fc-lang/gn.orth                 | 4 ++--
 fc-lang/gu.orth                 | 4 ++--
 fc-lang/gv.orth                 | 4 ++--
 fc-lang/ha.orth                 | 4 ++--
 fc-lang/haw.orth                | 4 ++--
 fc-lang/he.orth                 | 4 ++--
 fc-lang/hi.orth                 | 4 ++--
 fc-lang/ho.orth                 | 4 ++--
 fc-lang/hr.orth                 | 4 ++--
 fc-lang/hu.orth                 | 4 ++--
 fc-lang/hy.orth                 | 4 ++--
 fc-lang/ia.orth                 | 4 ++--
 fc-lang/id.orth                 | 4 ++--
 fc-lang/ie.orth                 | 4 ++--
 fc-lang/ig.orth                 | 4 ++--
 fc-lang/ik.orth                 | 4 ++--
 fc-lang/io.orth                 | 4 ++--
 fc-lang/is.orth                 | 4 ++--
 fc-lang/it.orth                 | 4 ++--
 fc-lang/iu.orth                 | 4 ++--
 fc-lang/ja.orth                 | 4 ++--
 fc-lang/ka.orth                 | 4 ++--
 fc-lang/kaa.orth                | 4 ++--
 fc-lang/ki.orth                 | 4 ++--
 fc-lang/kk.orth                 | 4 ++--
 fc-lang/kl.orth                 | 4 ++--
 fc-lang/kn.orth                 | 4 ++--
 fc-lang/ko.orth                 | 4 ++--
 fc-lang/kok.orth                | 4 ++--
 fc-lang/ku_am.orth              | 4 ++--
 fc-lang/ku_ir.orth              | 4 ++--
 fc-lang/kum.orth                | 4 ++--
 fc-lang/kv.orth                 | 4 ++--
 fc-lang/kw.orth                 | 4 ++--
 fc-lang/ky.orth                 | 4 ++--
 fc-lang/la.orth                 | 4 ++--
 fc-lang/lb.orth                 | 4 ++--
 fc-lang/lez.orth                | 4 ++--
 fc-lang/ln.orth                 | 4 ++--
 fc-lang/lo.orth                 | 4 ++--
 fc-lang/lt.orth                 | 4 ++--
 fc-lang/lv.orth                 | 4 ++--
 fc-lang/mai.orth                | 4 ++--
 fc-lang/mg.orth                 | 4 ++--
 fc-lang/mh.orth                 | 4 ++--
 fc-lang/mi.orth                 | 4 ++--
 fc-lang/mk.orth                 | 4 ++--
 fc-lang/ml.orth                 | 4 ++--
 fc-lang/mn_cn.orth              | 4 ++--
 fc-lang/mo.orth                 | 4 ++--
 fc-lang/mr.orth                 | 4 ++--
 fc-lang/mt.orth                 | 4 ++--
 fc-lang/my.orth                 | 4 ++--
 fc-lang/nb.orth                 | 4 ++--
 fc-lang/nds.orth                | 4 ++--
 fc-lang/ne.orth                 | 4 ++--
 fc-lang/nl.orth                 | 4 ++--
 fc-lang/nn.orth                 | 4 ++--
 fc-lang/no.orth                 | 4 ++--
 fc-lang/ny.orth                 | 4 ++--
 fc-lang/oc.orth                 | 4 ++--
 fc-lang/om.orth                 | 4 ++--
 fc-lang/or.orth                 | 4 ++--
 fc-lang/os.orth                 | 4 ++--
 fc-lang/pes.orth                | 4 ++--
 fc-lang/pl.orth                 | 4 ++--
 fc-lang/prs.orth                | 4 ++--
 fc-lang/ps_af.orth              | 4 ++--
 fc-lang/ps_pk.orth              | 4 ++--
 fc-lang/pt.orth                 | 4 ++--
 fc-lang/rm.orth                 | 4 ++--
 fc-lang/ro.orth                 | 4 ++--
 fc-lang/ru.orth                 | 4 ++--
 fc-lang/sa.orth                 | 4 ++--
 fc-lang/sah.orth                | 4 ++--
 fc-lang/sco.orth                | 4 ++--
 fc-lang/se.orth                 | 4 ++--
 fc-lang/sel.orth                | 4 ++--
 fc-lang/sk.orth                 | 4 ++--
 fc-lang/sl.orth                 | 4 ++--
 fc-lang/sm.orth                 | 4 ++--
 fc-lang/sma.orth                | 4 ++--
 fc-lang/smj.orth                | 4 ++--
 fc-lang/smn.orth                | 4 ++--
 fc-lang/sms.orth                | 4 ++--
 fc-lang/so.orth                 | 4 ++--
 fc-lang/sq.orth                 | 4 ++--
 fc-lang/sr.orth                 | 4 ++--
 fc-lang/sv.orth                 | 4 ++--
 fc-lang/sw.orth                 | 4 ++--
 fc-lang/syr.orth                | 4 ++--
 fc-lang/ta.orth                 | 4 ++--
 fc-lang/te.orth                 | 4 ++--
 fc-lang/tg.orth                 | 4 ++--
 fc-lang/th.orth                 | 4 ++--
 fc-lang/ti_er.orth              | 4 ++--
 fc-lang/ti_et.orth              | 4 ++--
 fc-lang/tig.orth                | 4 ++--
 fc-lang/tn.orth                 | 4 ++--
 fc-lang/to.orth                 | 4 ++--
 fc-lang/tr.orth                 | 4 ++--
 fc-lang/ts.orth                 | 4 ++--
 fc-lang/tt.orth                 | 4 ++--
 fc-lang/tw.orth                 | 4 ++--
 fc-lang/tyv.orth                | 4 ++--
 fc-lang/ug.orth                 | 4 ++--
 fc-lang/uk.orth                 | 4 ++--
 fc-lang/ur.orth                 | 4 ++--
 fc-lang/ve.orth                 | 4 ++--
 fc-lang/vi.orth                 | 4 ++--
 fc-lang/vo.orth                 | 4 ++--
 fc-lang/vot.orth                | 4 ++--
 fc-lang/wa.orth                 | 4 ++--
 fc-lang/wen.orth                | 4 ++--
 fc-lang/wo.orth                 | 4 ++--
 fc-lang/xh.orth                 | 4 ++--
 fc-lang/yap.orth                | 4 ++--
 fc-lang/yi.orth                 | 4 ++--
 fc-lang/yo.orth                 | 4 ++--
 fc-lang/zh_cn.orth              | 4 ++--
 fc-lang/zh_hk.orth              | 4 ++--
 fc-lang/zh_mo.orth              | 4 ++--
 fc-lang/zh_sg.orth              | 4 ++--
 fc-lang/zh_tw.orth              | 4 ++--
 fc-lang/zu.orth                 | 4 ++--
 fc-list/Makefile.am             | 4 ++--
 fc-list/fc-list.c               | 4 ++--
 fc-match/Makefile.am            | 4 ++--
 fc-match/fc-match.c             | 4 ++--
 fc-pattern/Makefile.am          | 4 ++--
 fc-pattern/fc-pattern.c         | 4 ++--
 fc-query/Makefile.am            | 4 ++--
 fc-query/fc-query.c             | 4 ++--
 fc-scan/Makefile.am             | 4 ++--
 fc-scan/fc-scan.c               | 4 ++--
 fontconfig/fcfreetype.h         | 4 ++--
 fontconfig/fcprivate.h          | 4 ++--
 fontconfig/fontconfig.h         | 4 ++--
 src/Makefile.am                 | 4 ++--
 src/fcatomic.c                  | 4 ++--
 src/fcblanks.c                  | 4 ++--
 src/fccache.c                   | 4 ++--
 src/fccfg.c                     | 4 ++--
 src/fccharset.c                 | 4 ++--
 src/fcdbg.c                     | 4 ++--
 src/fcdefault.c                 | 4 ++--
 src/fcdir.c                     | 4 ++--
 src/fcformat.c                  | 4 ++--
 src/fcfreetype.c                | 4 ++--
 src/fcfs.c                      | 4 ++--
 src/fcinit.c                    | 4 ++--
 src/fcint.h                     | 4 ++--
 src/fclang.c                    | 4 ++--
 src/fclist.c                    | 4 ++--
 src/fcmatch.c                   | 4 ++--
 src/fcname.c                    | 4 ++--
 src/fcpat.c                     | 4 ++--
 src/fcstr.c                     | 4 ++--
 src/fcxml.c                     | 4 ++--
 257 files changed, 516 insertions(+), 517 deletions(-)

commit 1f5c675fedd42bda49375ca7a9d6f3f8b2cd97bb
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 10 15:27:10 2010 -0500

    Add more copyright owners

 COPYING | 6 ++++++
 1 file changed, 6 insertions(+)

commit 039b9fd090cf3fcd279eeb8c786070a94993a8ba
Author: Jeremy Huddleston <jeremyhu@apple.com>
Date:   Wed Nov 3 01:08:12 2010 -0700

    fontconfig.pc.in: Add sysconfdir, localstatedir, and PACKAGE

    In the default case, cachedir and confdir will evaluate to something
    referencing these other variables (which wouldn't otherwise be defined
    in the pkg-config file.

    Fixes a regression introduced by
    81b542b50f82f8a0ad9f38f7d913fe5433631166

    Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>
    Tested-by: Jon TURNEY <jon.turney@dronecode.org.uk>

 fontconfig.pc.in | 3 +++
 1 file changed, 3 insertions(+)

commit 81b542b50f82f8a0ad9f38f7d913fe5433631166
Author: Jeremy Huddleston <jeremyhu@apple.com>
Date:   Wed Oct 6 11:21:29 2010 -0700

    fontconfig.pc: Add variables for confdir and cachedir

    Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>

 fontconfig.pc.in | 2 ++
 1 file changed, 2 insertions(+)

commit caa4bec9459af0779d1d16ba66964593e5748e3c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 21 13:18:05 2010 -0400

    Bug 24729 - [ne_NP] Fix ortho file

    Exclude three characters (U+090C..090E) from Nepalese.

 fc-lang/ne.orth | 1 +
 1 file changed, 1 insertion(+)

commit 0a023b24daa683d9c0be4e2ef6d50040c1c52316
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 21 13:14:55 2010 -0400

    [fc-lang] Support excluding characters

    By prefixing a line by a hyphen/minus sign.  Useful when including
    other orth files.

 fc-lang/fc-lang.c | 35 +++++++++++++++++++++++++----------
 1 file changed, 25 insertions(+), 10 deletions(-)

commit 52960d05ebb8af34a302e3959978d2930a39fb39
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 21 13:14:41 2010 -0400

    Add new public API: FcCharSetDelChar()

 doc/fccharset.fncs      | 11 +++++++++++
 fontconfig/fontconfig.h |  3 +++
 src/fccharset.c         | 17 +++++++++++++++++
 3 files changed, 31 insertions(+)

commit 9d8d0226d9ac5bc9956263a13454179eafc4ab82
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Sep 3 08:11:00 2010 -0400

    Bug 29995 - fc-cat does not invoke FcFini()

 fc-cat/fc-cat.c | 1 +
 1 file changed, 1 insertion(+)

commit 25afea879d5b73c116e00c2c62b2a7ce9bcf803a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 18 11:31:31 2010 -0400

    Add comments

 src/fcformat.c | 8 ++++++++
 1 file changed, 8 insertions(+)

commit c2764d959c652f572bfefa00234448742bda2b08
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Aug 5 15:58:09 2010 -0400

    Bug 29338 - fc-pattern.sgml, open para tag

 fc-pattern/fc-pattern.sgml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 78366844468c5fa785d05bb25be2d0023e60f5ee
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Wed Jun 2 22:38:19 2010 -0400

    Fix compiler warnings

 fc-lang/fc-lang.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ba7b50ab3324887e1680a4a8961487706705c739
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Apr 20 23:18:00 2010 -0400

    Add fc-pattern cmdline tool

 Makefile.am                |   3 +-
 configure.in               |   1 +
 fc-cache/fc-cache.sgml     |   1 +
 fc-cat/fc-cat.sgml         |   1 +
 fc-list/fc-list.sgml       |   1 +
 fc-match/fc-match.sgml     |   1 +
 fc-pattern/Makefile.am     |  59 +++++++++++++
 fc-pattern/fc-pattern.c    | 195
 +++++++++++++++++++++++++++++++++++++++++++
 fc-pattern/fc-pattern.sgml | 204
 +++++++++++++++++++++++++++++++++++++++++++++
 fc-query/fc-query.sgml     |   1 +
 fc-scan/fc-scan.sgml       |   1 +
 11 files changed, 467 insertions(+), 1 deletion(-)

commit ac5a2336436dadac699bb579d3f6ca30225dbb28
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Apr 12 12:49:53 2010 -0400

    Fix comment

 src/fcmatch.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 594dcef0f30ca27e27b95a9174087e8c61327e5f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Apr 12 12:18:50 2010 -0400

    Remove all training whitespaces

 src/fcatomic.c   |   4 +-
 src/fccache.c    |  66 ++++++++++++------------
 src/fccfg.c      | 118 +++++++++++++++++++++----------------------
 src/fccharset.c  | 150
 +++++++++++++++++++++++++++----------------------------
 src/fcdbg.c      |  14 +++---
 src/fcdefault.c  |   2 +-
 src/fcdir.c      |  14 +++---
 src/fcfreetype.c |  88 ++++++++++++++++----------------
 src/fcfs.c       |   6 +--
 src/fcftint.h    |   2 +-
 src/fcinit.c     |   6 +--
 src/fcint.h      |  42 ++++++++--------
 src/fclang.c     |  28 +++++------
 src/fclist.c     |  30 +++++------
 src/fcmatch.c    |  32 ++++++------
 src/fcmatrix.c   |   6 +--
 src/fcname.c     |  28 +++++------
 src/fcpat.c      |  70 +++++++++++++-------------
 src/fcstr.c      |  74 +++++++++++++--------------
 src/ftglue.c     |  16 +++---
 20 files changed, 398 insertions(+), 398 deletions(-)

commit d0d1f3904c9f6af9f39a5a085e454cde5ba9d44e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Apr 12 12:10:05 2010 -0400

    More whitespace

 src/fcxml.c | 88
 ++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 44 insertions(+), 44 deletions(-)

commit 2b0f3f1128e479dd3d32022336c967655e6c4821
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Apr 12 11:52:09 2010 -0400

    Whitespace

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 632612b810f1c8eb5b75ba1465d10cb31af0cbf0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Apr 7 12:47:37 2010 -0400

    Accept TT_PLATFORM_MICROSOFT, TT_MS_ID_SYMBOL_CS from name table

    The OT spec says:

    "When building a Unicode font for Windows, the platform ID should
    be 3 and the
    encoding ID should be 1. When building a symbol font for Windows,
    the platform
    ID should be 3 and the encoding ID should be 0."

    We were ignoring the SYMBOL_CS entry before.  It's UTF-16/UCS-2
    like the
    UNICODE_CS.

    Also, always use UTF-16BE instead of UCS-2BE.  The conversion
    was doing
    UTF-16BE anyway.

 src/fcfreetype.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 300b495dc400df401afaacfa4e986092ea119865
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Mar 3 13:26:55 2010 -0500

    Don't include unistd.h in fontconfig.h

    Bug 26783 patch: unistd.h not exist on ms windows

 fontconfig/fontconfig.h | 1 -
 1 file changed, 1 deletion(-)

commit 111e5b6d690970fce1abaf39e01d6d2498c9cfb3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Feb 26 01:47:56 2010 -0500

    Bug 25152 Don't sleep(2) if all caches were uptodate

 fc-cache/fc-cache.c | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 3cd1e673a9b518784183029d5cc1d2adae0cb29a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Feb 25 17:11:14 2010 -0500

    Bug 26157 Solaris/Sun C 5.8: compilation of 2.8.0 and 2.7.3 fails

 src/fcint.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2c93614ea0d0d1d895abe6c44add436c58bd99f8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Feb 25 15:10:41 2010 -0500

    Bug 18886 installation crashes if fontconfig already installed

    Run the uninstalled fc-cache, not the installed one.

 Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2e375b68946cafa62dce3abebdd35e20ecbb0b46
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Feb 14 20:27:22 2010 -0500

    More doc typo fixes

 doc/fcformat.fncs | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 77be30cb9fde6540337a590e5d90e59996e07adc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Feb 14 20:20:00 2010 -0500

    Fix doc typo

 doc/fcformat.fncs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d6351325056a94e2db0c8c533c7d16eb5c278861
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 26 12:45:09 2010 -0500

    Add note about autogen.sh to INSTALL

 INSTALL | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 0dbbf9f20b8a65af8a8a05ada653d99117192622
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jan 26 12:43:51 2010 -0500

    Update INSTALL

 INSTALL | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit af4a82863f60dff79c4ce06a871b737899a3c9e3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 8 21:15:15 2009 -0500

    Bug 25508 configure assumes bash > 2.0 is on system

    Remove dolt.  With libtool2, there's not much need for dolt.

 acinclude.m4 | 137
 -----------------------------------------------------------
 configure.in |   1 -
 2 files changed, 138 deletions(-)

commit aabe0f9d7d427097ddfc69ceb6f48999fcd01f60
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 30 16:09:55 2009 -0500

    [doc] Fix typo

 fc-match/fc-match.sgml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 38bd85b83b2114d9a18da7b0ea73e0cdad5c7ee4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Nov 20 18:44:04 2009 -0500

    [fc-cache] Document -r argument in man page

 fc-cache/fc-cache.sgml | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 4a3bef8ac3b91354c6c10b5f6af10ead9d4fe49a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 18:45:19 2009 -0500

    Bump version to 2.8.0

 README                  | 32 ++++++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  4 ++--
 3 files changed, 33 insertions(+), 5 deletions(-)

commit 2e44cbe1b9bf466718167e9e05077743df36ab21
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 18:45:06 2009 -0500

    Bump libtool revision in preparation for release

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 91a73751dcd4fd2d2e4e8bcb98af53098c721224
Author: Tor Lillqvist <tml@iki.fi>
Date:   Wed Nov 18 21:56:16 2009 +0200

    Improve zip "distribution"

    Don't put entries for directories in the zip file. Fetch manpages from
    correct place.

 fontconfig-zip.in | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit bb8fdae8ad6f0a857569b3e09cf21f1af6b4a41b
Author: Tor Lillqvist <tml@iki.fi>
Date:   Wed Nov 18 21:54:39 2009 +0200

    Use correct autoconf variable

    Use LIBT_CURRENT_MINUS_AGE instead of the undefined
    lt_current_minus_age for the name of the DLL when generating the MS
    style import library.

 src/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1845f3100d15927cc536bc3d38f140c139fb5614
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 14:39:34 2009 -0500

    [fc-arch] Rename architecture names to better reflect what they are

    We only care about three properties in the arch:

      - endianness
      - pointer size
      - for 32-bit archs, whether double is aligned on 4 or 8 bytes

    This leads to the following 6 archs (old name -> new name):

            x86    -> le32d4
            mipsel -> le32d8
            x86-64 -> le64
            m68k   -> be32d4
            ppc    -> be32d8
            ppc64  -> be64

 fc-arch/fcarch.tmpl.h | 67
 ++++++++++++++++++++++++++-------------------------
 1 file changed, 34 insertions(+), 33 deletions(-)

commit d5ebf48e34e9235cf10e9f7beb49af74823c3fc6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 14:08:00 2009 -0500

    [fc-arch] Beautify the arch template

 fc-arch/fc-arch.c     | 10 +++++-----
 fc-arch/fcarch.tmpl.h | 42 ++++++++++++++++++++++++++++++++++--------
 2 files changed, 39 insertions(+), 13 deletions(-)

commit d074706b507226427f5a4018e78fe120a01eb53d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 09:40:11 2009 -0500

    [fc-case] Update CaseFolding.txt to Unicode 5.2.0

 fc-case/CaseFolding.txt | 116
 ++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 112 insertions(+), 4 deletions(-)

commit 13781ba00b0ded28319ff417a254c620231973f1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 09:36:23 2009 -0500

    [fc-glyphname] Remove Adobe glyphlist

    It was unused.

 fc-glyphname/glyphlist.txt | 4291
 --------------------------------------------
 1 file changed, 4291 deletions(-)

commit d2fb683796f41a68edec53f26e524fd06725eef8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 09:35:40 2009 -0500

    Clean up Makefile's a bit

 fc-arch/Makefile.am      |  4 +---
 fc-case/Makefile.am      |  7 +++----
 fc-glyphname/Makefile.am |  3 ++-
 fc-lang/Makefile.am      |  2 +-
 src/Makefile.am          | 12 +++++++++---
 5 files changed, 16 insertions(+), 12 deletions(-)

commit 192927225c447a8eaba613838aff93f82dee41d0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 09:26:24 2009 -0500

    [fc-glyphname] Rename internal arrays to prefix with _fc_

    Although they were static, I was still surprised that gdb was seeing
    our variable "glyphs".  Not helpful.

 fc-glyphname/fc-glyphname.c |  6 +++---
 src/fcfreetype.c            | 13 ++++++-------
 2 files changed, 9 insertions(+), 10 deletions(-)

commit 3e5e83e12e051d6ac734f08609c6c584b0f0b807
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 09:26:01 2009 -0500

    [src] Create fcglyphname.h automatically

 src/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 040c98bcc40617ecbc9eb7e16b1714ebd256cfdc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 09:25:42 2009 -0500

    [fc-glyphname] Cleanup Makefile.am

 fc-glyphname/Makefile.am | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 77f4e60a32971a815b85f187712191724a00b856
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Nov 18 09:10:05 2009 -0500

    Remove bogus comment

    Last night in between my dreams I also noticed that we support Unicode
    values up to 0x01000000 and not 0x00100000 which I thought before.
    This covers the entire Unicode range.

 src/fccharset.c | 1 -
 1 file changed, 1 deletion(-)

commit a90a3ad97a7cee10225190e13a576e55871b9441
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Nov 17 12:10:01 2009 -0500

    Make sure fclang.h and fcarch.h are built

 src/Makefile.am | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit a3b2426819836ab2454c6a7bad27c382f4a245bf
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 18:29:26 2009 -0500

    [lang] Fix serializing LangSet from older versions

 src/fclang.c | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 8480c6f86327877fce729ebb01b52bd7a40ddfc5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 17:38:40 2009 -0500

    [arch] Try to ensure proper FcLangSet alignment in arch

 fc-arch/fc-arch.c     |  5 +++--
 fc-arch/fcarch.tmpl.h | 16 ++++++++--------
 src/fclang.c          |  2 +-
 3 files changed, 12 insertions(+), 11 deletions(-)

commit dffcb2a083bc5f959ed96dbdf0f365ebc0e710cc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 17:00:50 2009 -0500

    [xml] Remove unused code

 src/fcxml.c | 12 ------------
 1 file changed, 12 deletions(-)

commit b2d910123008115813a5cd623389189a2d66880b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 16:57:53 2009 -0500

    [int] Remove more unused macros

 src/fcint.h | 4 ----
 1 file changed, 4 deletions(-)

commit 247c4f3df21582260c4799bdbda2be1c13cc8901
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 15:48:20 2009 -0500

    Enable automake silent rules

 configure.in | 1 +
 1 file changed, 1 insertion(+)

commit 963820fcbfdb537fd956f8863f8793cf22093c5d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 15:46:46 2009 -0500

    [int] Remove fc_value_* macros that did nothing other than renaming

 src/fcint.h   |  6 ------
 src/fcmatch.c |  8 ++++----
 src/fcpat.c   | 12 ++++++------
 3 files changed, 10 insertions(+), 16 deletions(-)

commit 888f9427ae84195104855d2bb2fbb6d44067a998
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 15:43:08 2009 -0500

    [int] Remove fc_storage_type() in favor of direct access to v->type

 src/fcint.h   | 1 -
 src/fcmatch.c | 2 +-
 src/fcpat.c   | 2 +-
 3 files changed, 2 insertions(+), 3 deletions(-)

commit 486fa46893d070485738de6e2c0d418650662d63
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 15:41:58 2009 -0500

    Remove unused macros

 src/fcint.h | 5 -----
 1 file changed, 5 deletions(-)

commit 1f4e6fecde22fd4ce8336b01a5c32c533fcb8bac
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 15:39:16 2009 -0500

    Bump cache version up from 2 to 3 and fix FcLangSet caching/crash

    Protect cache against future expansions of FcLangSet (adding new
    orth files).  Previously, doing so could change the size of
    that struct.  Indeed, that happened between 2.6.0 and 2.7.3, causing
    crashes.  Unfortunately, sizeof(FcLangSet) was not checked in
    fcarch.c.

    This changes FcLangSet code to be able to cope with struct size
    changes.
    And change cache format, hence bumping from 2 to 3.

 fontconfig/fontconfig.h |  2 +-
 src/fcint.h             |  2 +-
 src/fclang.c            | 67
 ++++++++++++++++++++++++++++++++++++++-----------
 3 files changed, 54 insertions(+), 17 deletions(-)

commit 6b1fc678ca59df3f3f1ffac0e509cf485c9df0c0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 16:57:10 2009 -0500

    [int] Define MIN/MAX/ABS macros

 src/fcfreetype.c | 3 ---
 src/fcint.h      | 4 ++++
 2 files changed, 4 insertions(+), 3 deletions(-)

commit b393846860a390ebe35b19320b5eaf9272084042
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 15:17:56 2009 -0500

    [fc-arch] Add FcAlign to arch signature

 fc-arch/fc-arch.c     |  5 +++--
 fc-arch/fcarch.tmpl.h | 16 ++++++++--------
 2 files changed, 11 insertions(+), 10 deletions(-)

commit 8009229bc5cd9b540ff56a47ddc32ccada2679b0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 16 15:12:52 2009 -0500

    Move FcAlign to fcint.h

 src/fcint.h       | 8 ++++++++
 src/fcserialize.c | 8 --------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 36ae1d9563cff4966b293f816cf9eb25c8ebb857
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 9 13:17:17 2009 -0500

    Clarify default confdir and cachedir better.

    Also remove --with-docdir.  It can be set by setting docdir variable.

 configure.in    | 19 ++-----------------
 doc/Makefile.am |  2 --
 2 files changed, 2 insertions(+), 19 deletions(-)

commit b322eb4d7a90778dc9f08c73036836deba7e463e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 8 11:45:26 2009 -0400

    Bump version to 2.7.3

 README                  | 14 ++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 14 insertions(+), 4 deletions(-)

commit afc845d930877ac62f6d5a5f50ea87b5182d0a4a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Sep 8 11:44:59 2009 -0400

    Bump libtool version in preparation for release

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5e544b32d8dc98737c7a268a6a5f877207284e9a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Sep 6 22:10:22 2009 -0400

    Use default config in FcFileScan() and FcDirScan()

    Before a NULL config was passed down adn essentially FcFileScan was
    equivalent to FcFreeTypeQuery.  Now fc-scan tool correctly applies
    the configuration to the scanned patterns.

 src/fcdir.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 25436fd08fa6d0825a2f7c7b5d51e34873a05187
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Sep 2 20:03:42 2009 -0700

    Updated Arabic, Persian, and Urdu orthographies

    - Arabic (ar), Persian (fa), and Urdu (ur) now use generic forms
    (bug #23004)
    - Persian (fa) orthography updated to latest standards and
    orthographies
    - Persian dialects Dari/Eastern Farsi (prs) and Western Farsi
    (pes) added

 fc-lang/ar.orth  | 81
 +++++++++++---------------------------------------------
 fc-lang/fa.orth  | 80
 ++++++++++++++++++++++++++++++++++---------------------
 fc-lang/pes.orth | 26 ++++++++++++++++++
 fc-lang/prs.orth | 29 ++++++++++++++++++++
 fc-lang/ur.orth  | 77
 +++++++++++++++++++++++++++--------------------------
 5 files changed, 161 insertions(+), 132 deletions(-)

commit d9d8b8826402ca75e882a427392bc8209ae8ff1a
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Sep 2 18:54:24 2009 -0700

    Correct Ewe (ee) orthography to use U+025B (bug #20711)

 fc-lang/ee.orth | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e52fdbd2bc1b9589ca0adc4b0c143034ff60dd18
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Aug 31 17:32:36 2009 -0400

    Bump version to 2.7.2

 README                  | 19 +++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 19 insertions(+), 4 deletions(-)

commit a74cfb63cb6af3c357b9c33d9f28b9cea5ff3e72
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Aug 31 17:32:13 2009 -0400

    Bump libtool version for release

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c5f0a65b36bc863d67bbf1f334262c35445ce610
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 25 20:40:30 2009 -0400

    Revert "Fix FcNameUnparseLangSet()" and redo it

    This reverts commit 5c6d1ff23bda4386984a1d6e4c024958f8f5547c and
    fixes that bug using the new reverse-map I added in the previous
    commit.

 src/fclang.c | 29 ++++++++++++++++++-----------
 1 file changed, 18 insertions(+), 11 deletions(-)

commit d354a321ee51f0bb70a39faeed541d1a90477d7d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 25 20:39:20 2009 -0400

    Bug 23419 - "contains" expression seems not working on the fontconfig
    rule

    Fix bug in FcLangSetContains(), similar to
    5c6d1ff23bda4386984a1d6e4c024958f8f5547c

 fc-lang/fc-lang.c | 20 +++++++++++++++++---
 src/fclang.c      |  4 ++--
 2 files changed, 19 insertions(+), 5 deletions(-)

commit f33a23133ecbcc981745051f7c34d96b33b57447
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 21 13:41:41 2009 -0400

    Bug 22037 - No Fonts installed on a default install on Windows
    Server 2003

    Make it easy to install on older Windows

 src/fcxml.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 8b1ceef0b7f41703775c163d6ac595a5407e9159
Author: Tor Lillqvist <tml@iki.fi>
Date:   Fri Aug 14 00:16:18 2009 +0300

    Use multi-byte codepage aware string function on Windows

    The East Asian double-byte codepages have characters with backslash as
    the second byte, so we must use _mbsrchr() instead of strrchr() when
    looking at pathnames in the system codepage.

 src/fcxml.c | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit d15678127aeea96c9c8254a171c2f0af0bd7d140
Author: Tor Lillqvist <tml@iki.fi>
Date:   Fri Aug 14 00:08:17 2009 +0300

    Fix heap corruption on Windows in FcEndElement()

    Must not call FcStrFree() on a value returned by
    FcStrBufDoneStatic(). In the Windows code don't bother with dynamic
    allocation, just use a local buffer.

 src/fcxml.c | 43 +++++++++++--------------------------------
 1 file changed, 11 insertions(+), 32 deletions(-)

commit a1b6e34a9a17a4a675bdc993aa465b92d7122376
Author: Tor Lillqvist <tml@iki.fi>
Date:   Fri Aug 14 00:02:59 2009 +0300

    Fix MinGW compilation

    Need to define _WIN32_WINNT as 0x0500 to get declaration for
    GetSystemWindowsDirectory().

 src/fcxml.c | 1 +
 1 file changed, 1 insertion(+)

commit 161620108bbb4e70f2817481e4d5bc26772fe67e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jul 28 14:24:21 2009 -0400

    [ja.orth] Comment out FULLWIDTH YEN SIGN (#22942)

 fc-lang/ja.orth | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7c12181f7a75a434e2139f4bee794046258342cf
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jul 28 14:23:10 2009 -0400

    Improve charset printing

 src/fcdbg.c  | 4 ++--
 src/fclang.c | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit d2c8ac373e9ac45df66627cfc42679636d017f6e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jul 27 17:53:26 2009 -0400

    Bump version to 2.7.1

 README                  | 27 +++++++++++++++++++++++++--
 configure.in            |  4 ++--
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 28 insertions(+), 5 deletions(-)

commit 16630692ec590bd70f4e426125e358251e05435d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jul 27 17:51:17 2009 -0400

    Update .gitignore

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 50d937b0e110ee21d9861b8fb973d62534db98ae
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jul 27 17:48:29 2009 -0400

    Bump libtool versions that 2.7.0 (I forgot to do back then)

 configure.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 273e22c71f78281ade1c5c30a25ef10d214d7ea6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jul 27 15:07:12 2009 -0400

    Hardcode /etc/fonts instead of @CONFDIR@ in docs (#22911)

    We distribute the docs, so it makes little sense to distribute with
    @CONFDIR@ replaced.  Until we find a better solution, I've hardcoded
    /etc/fonts now.

 doc/confdir.sgml.in | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 21384990ffd045cc0f8379a325612aba6d810359
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jul 27 14:50:44 2009 -0400

    [doc] Add ~/fonts.conf.d to user docs

 doc/fontconfig-user.sgml | 7 +++++++
 1 file changed, 7 insertions(+)

commit 7575c666619c58df00659d4e70b01104b8e114a5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Jul 25 16:38:52 2009 -0400

    TT_MS_ID_UCS_4 is really UTF-16BE, not UTF-32

    Reported by Yuriy Kaminskiy.

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 558581c434abf0d96c46cf3bb1454be6806e1ffc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 24 14:59:07 2009 -0400

    Fix doc syntax (#22902)

 fc-match/fc-match.sgml | 3 ++-
 fc-scan/fc-scan.sgml   | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 5c6d1ff23bda4386984a1d6e4c024958f8f5547c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jul 22 19:25:24 2009 -0400

    Fix FcNameUnparseLangSet()

    Was broken since ffd6668b469508177c4baf7745ae42aee5b00322

 src/fclang.c | 29 +++++++++++------------------
 1 file changed, 11 insertions(+), 18 deletions(-)

commit d9741a7f1a73f718ab20b0582fff8aebeba01077
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jul 22 19:01:06 2009 -0400

    Remove unused macros

 src/fcmatch.c | 33 ++-------------------------------
 1 file changed, 2 insertions(+), 31 deletions(-)

commit 792ce655cb06c678d4a4ff091866fd0531b141fb
Author: Karl Tomlinson <karlt@karlt.net>
Date:   Wed Jul 22 08:39:23 2009 -0400

    Don't change the order of names unnecessarily (#20128)

    so that TT_NAME_ID_PREFERRED_FAMILY is consistently preferred over
    TT_NAME_ID_FONT_FAMILY when both are specified for the default
    language.

 src/fclist.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 327fc9d183ba193c307d0ecaec8ad1f4e6ca1330
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jul 21 15:41:47 2009 -0400

    Use GetSystemWindowsDirectory() instead of GetWindowsDirectory()
    (#22037)

 src/fcxml.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 86dd857447f69cf89fd47259055b150f62519c17
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Jul 21 15:39:58 2009 -0400

    Improve libtool version parsing (#22122)

 autogen.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 16e55c7c85fc5771349172d6eb989dddd48c5c25
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jul 20 16:30:12 2009 -0400

    Fix leak with string VStack objects

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c0ffd7733a735bf2e10834925c63f0039c408649
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jul 10 18:09:42 2009 +0100

    Add Inconsolata to monospace config (#22710)

 conf.d/45-latin.conf | 1 +
 conf.d/60-latin.conf | 1 +
 2 files changed, 2 insertions(+)

commit 55e202a62d95e25cf2c4897afd66eab5711195c3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jun 28 14:14:46 2009 -0400

    Remove unused ftglue code

 src/fcfreetype.c | 66
 ++++++++++++++++++++++++--------------------------------
 src/ftglue.c     | 62
 ++--------------------------------------------------
 src/ftglue.h     | 33 ----------------------------
 3 files changed, 30 insertions(+), 131 deletions(-)

commit 52742ff86b60b1d244c1e87611aff5ceee46e596
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jun 28 13:49:09 2009 -0400

    Replace spaces with tabs in conf files

 conf.d/25-unhint-nonlatin.conf |  32 +++----
 conf.d/30-metric-aliases.conf  |  48 +++++------
 conf.d/30-urw-aliases.conf     |  36 ++++----
 conf.d/65-fonts-persian.conf   | 184
 ++++++++++++++++++++---------------------
 conf.d/90-synthetic.conf       |   8 +-
 5 files changed, 154 insertions(+), 154 deletions(-)

commit 57cf838cccda12dd171d3834b3e9b1275467d9e2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Jun 28 13:46:41 2009 -0400

    Fix win32 build

 src/fcint.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 76374f0edef04e21859122dd8a2026b64fd2b273
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 24 15:19:13 2009 -0400

    git-tag -s again

 new-version.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0f40912599a4be1b961c091733ed86d08a4e14e1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 24 15:04:11 2009 -0400

    Bump version to 2.7.0

 README                  | 222
 +++++++++++++++++++++++++++++++++++++++++++++++-
 configure.in            |   2 +-
 fontconfig/fontconfig.h |   2 +-
 3 files changed, 222 insertions(+), 4 deletions(-)

commit 3734d6a5a2c5326bf1cd8b7cc7f3f07fe6943aa5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 24 15:03:32 2009 -0400

    Remove keithp's GPG key id

 new-version.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d07059b7a3f8044904d884818d5e03596e7cc1a2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jun 24 14:43:32 2009 -0400

    Fix distcheck

 Makefile.am | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit b65fa0c3113bd1e1cec38d05f8c4f45f78e3e044
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jun 11 07:08:10 2009 -0400

    Bug 22154 -- fontconfig.pc doesn't include libxml2 link flags

 fontconfig.pc.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3164ac76229d9817120015401c1f532934d0a3e2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 5 22:59:06 2009 -0400

    [xml] Intern more strings

 src/fcxml.c | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 390c05e64a3716f6ea6fd81cf3ab63439051fbaa
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 5 22:32:31 2009 -0400

    [xml] Allocate FcExpr's in a pool in FcConfig

    Reduces number of malloc's for FcExprs from hundreds into single
    digits.

 src/fccfg.c | 32 ++++++++++++++++++++++++++
 src/fcint.h | 14 ++++++++++++
 src/fcxml.c | 75
 ++++++++++++++++++++++++++-----------------------------------
 3 files changed, 78 insertions(+), 43 deletions(-)

commit 398d436441d741d6f8edcc25ca01aa9715c0731c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 5 21:37:01 2009 -0400

    [xml] Mark more symbols static

 src/fcint.h | 30 ------------------------------
 src/fcxml.c | 22 ++++++++++++----------
 2 files changed, 12 insertions(+), 40 deletions(-)

commit a96ecbfa20fbc66fad3847b1d2bc6fb3cd712c91
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 5 18:40:46 2009 -0400

    [xml] Centralize FcExpr allocation

    To be improved, using a central pool.

 src/fcxml.c | 46 ++++++++++++++++++++--------------------------
 1 file changed, 20 insertions(+), 26 deletions(-)

commit 5aebb3e299d877c4a66f409a7d448b2ac4e94be0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 5 18:27:47 2009 -0400

    Remove unused prototypes and function

 src/fcint.h | 16 ++--------------
 src/fcxml.c |  6 ------
 2 files changed, 2 insertions(+), 20 deletions(-)

commit 900723f3d2396cfb606e5eceb8df0b71c4ffc0dd
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 5 18:16:38 2009 -0400

    [charset] Grow internal FcCharset arrays exponentially

 src/fccharset.c | 65
 ++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 36 insertions(+), 29 deletions(-)

commit cce69b07efd82056c8eb855ef7ac7e02c94439da
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 5 17:15:53 2009 -0400

    Always set *changed in FcCharsetMerge

 src/fccharset.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 86bdf4598fb46f7f2a36151016a5d318da073d60
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 5 16:57:35 2009 -0400

    Add XXX note about Unicode Plane 16

 src/fccharset.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit efe5eae26b2443363b1000b3197d1731a40f8af9
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jun 5 16:49:07 2009 -0400

    Simplify FcValueSave() semantics

 src/fccfg.c |  3 ++-
 src/fcpat.c | 12 ++----------
 2 files changed, 4 insertions(+), 11 deletions(-)

commit 8ea654b2aa6b4e97b369e299325da49807559511
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Jun 1 21:14:56 2009 -0400

    Use/prefer WWS family/style (name table id 21/22)

 src/fcfreetype.c | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 76845a40c58b092a9b1812830dc98b6f32e13da6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon May 25 20:26:56 2009 -0400

    Mark matchers array const (#21935)

 src/fcmatch.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aa82a4f81d4d5e547c84266e66274d55e3843746
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Thu May 7 14:31:11 2009 -0700

    Reorganize Panjabi/Punjabi and Lahnda orthographies (bug #19890)

    The correct ISO 639 code for Pakistani/Western Panjabi seems to be
    'lah',
    not 'pa'. We are keeping 'pa_pk.orth' for compatiblity with glibc.

    Signed-off-by: Behdad Esfahbod <behdad@behdad.org>

 fc-lang/Makefile.am             |  5 +++--
 fc-lang/lah.orth                | 35 +++++++++++++++++++++++++++++++++++
 fc-lang/{pa_in.orth => pa.orth} | 17 ++++++++++++-----
 fc-lang/pa_pk.orth              |  7 ++++---
 4 files changed, 54 insertions(+), 10 deletions(-)

commit 58aa0c8ee83f7bbd232401583106387517d216a9
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Apr 9 13:31:18 2009 -0400

    Detect TrueType Collections by checking the font data header

    Instead of checking for "face->num_faces >1". (GNOME bug #577952)

 src/ftglue.c | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 1dd95fcb8bb9b5feeabee0dfe334448733f5cb4c
Author: Serge van den Boom <svdb+freedesktop.org@stack.nl>
Date:   Sun Apr 5 19:00:18 2009 -0400

    Correctly handle mmap() failure (#21062)

 src/fccache.c | 2 ++
 1 file changed, 2 insertions(+)

commit 35c51811515ab316c7279bd779f6685f2aaf7e81
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Mar 25 23:40:40 2009 -0400

    [fc-cache] Remove obsolete sentence from man page

 fc-cache/fc-cache.sgml | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit ffd6668b469508177c4baf7745ae42aee5b00322
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Mar 18 19:28:52 2009 -0400

    [fc-lang] Make LangSet representation in the cache files stable

    Fontconfig assigns an index number to each language it knows about.
    The index is used to index a bit in FcLangSet language map.  The bit
    map is stored in the cache.

    Previously fc-lang simply sorted the list of languages and assigned
    them an index starting from zero.  Net effect is that whenever new
    orth files were added, all the FcLangSet info in the cache files would
    become invalid.  This was causing weird bugs like this one:

      https://bugzilla.redhat.com/show_bug.cgi?id=490888

    With this commit we fix the index assigned to each language.
    The index
    will be based on the order the orth files are passed to fc-lang.  As a
    result all orth files are explicitly listed in Makefile.am now, and
    new additions should be made to the end of the list.  The list is made
    to reflect the sorted list of orthographies from 2.6.0 released
    followed
    by new additions since.

    This fixes the stability problem.  Needless to say, recreating caches
    is necessary before any new orthography is recognized in existing
    fonts,
    but at least the existing caches are still valid and don't cause bugs
    like the above.

 configure.in        |   7 --
 fc-lang/Makefile.am | 248
 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 fc-lang/fc-lang.c   |  49 +++++++----
 src/fclang.c        |   4 +-
 4 files changed, 282 insertions(+), 26 deletions(-)

commit 4d13536db49bdfba97f84f702325d1a99796c06b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Mar 18 18:50:14 2009 -0400

    [fcstr] Remove unused variable

 src/fcstr.c | 2 --
 1 file changed, 2 deletions(-)

commit bb36e67685dc4139fc4199c57c9d74d97f7923c8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Mar 18 18:43:09 2009 -0400

    [fc-lang] Fix bug in country map generation

    Previously the county map code was using an uninitialized variable and
    hence was totally failing to populate same-lang-different-territory
    map.

 fc-lang/fc-lang.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0f11354877323edc2145f687f9127d2de83c5b3b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Mar 17 12:52:48 2009 -0400

    Revert "[conf] Disable hinting when emboldening (#19904)" (#20599)

    This reverts commit 10609af4aa4030a15c19573198462fa002d2ef13.
    Apparently disabling hinting can cause worse rendering with certain
    fonts.  This is better handled on a per font basis.

 conf.d/90-synthetic.conf | 11 -----------
 1 file changed, 11 deletions(-)

commit 7042e236495399aab4eaf268232177d4b1680a12
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Mar 16 17:59:50 2009 -0400

    [Makefile.am] Don't clean ChangeLog in distclean

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit caeea376da54a6337bfcb1bb20f50c8c2302458f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Mar 13 17:26:21 2009 -0400

    Document FcPatternFormat() format

 doc/Makefile.am           |   2 +
 doc/fcformat.fncs         | 301
 ++++++++++++++++++++++++++++++++++++++++++++++
 doc/fcpattern.fncs        |  20 ---
 doc/fontconfig-devel.sgml |   2 +
 src/fcformat.c            |  94 ++++++++-------
 5 files changed, 353 insertions(+), 66 deletions(-)

commit f6d83439890c165e5a7f6a8a746ffdb189dbbd0d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Mar 13 12:11:13 2009 -0400

    [fcformat] Fix default-value handling

 src/fcformat.c | 21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit 3074a73b418b40135d4a4f4e0713fcf987d34795
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Mar 12 16:00:08 2009 -0400

    Replace 'KEITH PACKARD' with 'THE AUTHOR(S)' in license text in
    all files

 COPYING                         | 4 ++--
 Makefile.am                     | 4 ++--
 conf.d/65-fonts-persian.conf    | 2 +-
 conf.d/Makefile.am              | 4 ++--
 config/Makedefs.in              | 4 ++--
 configure.in                    | 4 ++--
 doc/Makefile.am                 | 4 ++--
 doc/confdir.sgml.in             | 4 ++--
 doc/edit-sgml.c                 | 4 ++--
 doc/fcatomic.fncs               | 4 ++--
 doc/fcblanks.fncs               | 4 ++--
 doc/fccache.fncs                | 4 ++--
 doc/fccharset.fncs              | 4 ++--
 doc/fcconfig.fncs               | 4 ++--
 doc/fcconstant.fncs             | 4 ++--
 doc/fcfile.fncs                 | 4 ++--
 doc/fcfontset.fncs              | 4 ++--
 doc/fcfreetype.fncs             | 4 ++--
 doc/fcinit.fncs                 | 4 ++--
 doc/fcmatrix.fncs               | 4 ++--
 doc/fcobjectset.fncs            | 4 ++--
 doc/fcobjecttype.fncs           | 4 ++--
 doc/fcpattern.fncs              | 4 ++--
 doc/fcstring.fncs               | 4 ++--
 doc/fcstrset.fncs               | 4 ++--
 doc/fcvalue.fncs                | 4 ++--
 doc/fontconfig-devel.sgml       | 8 ++++----
 doc/fontconfig-user.sgml        | 4 ++--
 doc/func.sgml                   | 4 ++--
 doc/version.sgml.in             | 4 ++--
 fc-arch/Makefile.am             | 4 ++--
 fc-arch/fcarch.tmpl.h           | 4 ++--
 fc-cache/Makefile.am            | 4 ++--
 fc-cache/fc-cache.c             | 4 ++--
 fc-case/Makefile.am             | 4 ++--
 fc-case/fc-case.c               | 4 ++--
 fc-case/fccase.tmpl.h           | 4 ++--
 fc-cat/Makefile.am              | 4 ++--
 fc-cat/fc-cat.c                 | 4 ++--
 fc-glyphname/Makefile.am        | 4 ++--
 fc-glyphname/fc-glyphname.c     | 4 ++--
 fc-glyphname/fcglyphname.tmpl.h | 4 ++--
 fc-lang/Makefile.am             | 4 ++--
 fc-lang/aa.orth                 | 4 ++--
 fc-lang/ab.orth                 | 4 ++--
 fc-lang/af.orth                 | 4 ++--
 fc-lang/am.orth                 | 4 ++--
 fc-lang/ar.orth                 | 4 ++--
 fc-lang/ast.orth                | 4 ++--
 fc-lang/av.orth                 | 4 ++--
 fc-lang/ay.orth                 | 4 ++--
 fc-lang/az_ir.orth              | 4 ++--
 fc-lang/ba.orth                 | 4 ++--
 fc-lang/be.orth                 | 4 ++--
 fc-lang/bg.orth                 | 4 ++--
 fc-lang/bh.orth                 | 4 ++--
 fc-lang/bho.orth                | 4 ++--
 fc-lang/bi.orth                 | 4 ++--
 fc-lang/bin.orth                | 4 ++--
 fc-lang/bm.orth                 | 4 ++--
 fc-lang/bo.orth                 | 4 ++--
 fc-lang/br.orth                 | 4 ++--
 fc-lang/bs.orth                 | 4 ++--
 fc-lang/bua.orth                | 4 ++--
 fc-lang/ca.orth                 | 4 ++--
 fc-lang/ce.orth                 | 4 ++--
 fc-lang/ch.orth                 | 4 ++--
 fc-lang/chm.orth                | 4 ++--
 fc-lang/chr.orth                | 4 ++--
 fc-lang/co.orth                 | 4 ++--
 fc-lang/cs.orth                 | 4 ++--
 fc-lang/cu.orth                 | 4 ++--
 fc-lang/cv.orth                 | 4 ++--
 fc-lang/cy.orth                 | 4 ++--
 fc-lang/da.orth                 | 4 ++--
 fc-lang/de.orth                 | 4 ++--
 fc-lang/dz.orth                 | 4 ++--
 fc-lang/el.orth                 | 4 ++--
 fc-lang/en.orth                 | 4 ++--
 fc-lang/eo.orth                 | 4 ++--
 fc-lang/es.orth                 | 4 ++--
 fc-lang/et.orth                 | 4 ++--
 fc-lang/eu.orth                 | 4 ++--
 fc-lang/fa.orth                 | 4 ++--
 fc-lang/fc-lang.c               | 4 ++--
 fc-lang/fc-lang.man             | 4 ++--
 fc-lang/fclang.tmpl.h           | 4 ++--
 fc-lang/ff.orth                 | 4 ++--
 fc-lang/fi.orth                 | 4 ++--
 fc-lang/fj.orth                 | 4 ++--
 fc-lang/fo.orth                 | 4 ++--
 fc-lang/fr.orth                 | 4 ++--
 fc-lang/fur.orth                | 4 ++--
 fc-lang/fy.orth                 | 4 ++--
 fc-lang/ga.orth                 | 4 ++--
 fc-lang/gd.orth                 | 4 ++--
 fc-lang/gez.orth                | 4 ++--
 fc-lang/gl.orth                 | 4 ++--
 fc-lang/gn.orth                 | 4 ++--
 fc-lang/gu.orth                 | 4 ++--
 fc-lang/gv.orth                 | 4 ++--
 fc-lang/ha.orth                 | 4 ++--
 fc-lang/haw.orth                | 4 ++--
 fc-lang/he.orth                 | 4 ++--
 fc-lang/hi.orth                 | 4 ++--
 fc-lang/ho.orth                 | 4 ++--
 fc-lang/hr.orth                 | 4 ++--
 fc-lang/hu.orth                 | 4 ++--
 fc-lang/hy.orth                 | 4 ++--
 fc-lang/ia.orth                 | 4 ++--
 fc-lang/id.orth                 | 4 ++--
 fc-lang/ie.orth                 | 4 ++--
 fc-lang/ig.orth                 | 4 ++--
 fc-lang/ik.orth                 | 4 ++--
 fc-lang/io.orth                 | 4 ++--
 fc-lang/is.orth                 | 4 ++--
 fc-lang/it.orth                 | 4 ++--
 fc-lang/iu.orth                 | 4 ++--
 fc-lang/ja.orth                 | 4 ++--
 fc-lang/ka.orth                 | 4 ++--
 fc-lang/kaa.orth                | 4 ++--
 fc-lang/ki.orth                 | 4 ++--
 fc-lang/kk.orth                 | 4 ++--
 fc-lang/kl.orth                 | 4 ++--
 fc-lang/kn.orth                 | 4 ++--
 fc-lang/ko.orth                 | 4 ++--
 fc-lang/kok.orth                | 4 ++--
 fc-lang/ku_am.orth              | 4 ++--
 fc-lang/ku_ir.orth              | 4 ++--
 fc-lang/kum.orth                | 4 ++--
 fc-lang/kv.orth                 | 4 ++--
 fc-lang/kw.orth                 | 4 ++--
 fc-lang/ky.orth                 | 4 ++--
 fc-lang/la.orth                 | 4 ++--
 fc-lang/lb.orth                 | 4 ++--
 fc-lang/lez.orth                | 4 ++--
 fc-lang/ln.orth                 | 4 ++--
 fc-lang/lo.orth                 | 4 ++--
 fc-lang/lt.orth                 | 4 ++--
 fc-lang/lv.orth                 | 4 ++--
 fc-lang/mai.orth                | 4 ++--
 fc-lang/mg.orth                 | 4 ++--
 fc-lang/mh.orth                 | 4 ++--
 fc-lang/mi.orth                 | 4 ++--
 fc-lang/mk.orth                 | 4 ++--
 fc-lang/ml.orth                 | 4 ++--
 fc-lang/mn_cn.orth              | 4 ++--
 fc-lang/mo.orth                 | 4 ++--
 fc-lang/mr.orth                 | 4 ++--
 fc-lang/mt.orth                 | 4 ++--
 fc-lang/my.orth                 | 4 ++--
 fc-lang/nb.orth                 | 4 ++--
 fc-lang/nds.orth                | 4 ++--
 fc-lang/ne.orth                 | 4 ++--
 fc-lang/nl.orth                 | 4 ++--
 fc-lang/nn.orth                 | 4 ++--
 fc-lang/no.orth                 | 4 ++--
 fc-lang/ny.orth                 | 4 ++--
 fc-lang/oc.orth                 | 4 ++--
 fc-lang/om.orth                 | 4 ++--
 fc-lang/or.orth                 | 4 ++--
 fc-lang/os.orth                 | 4 ++--
 fc-lang/pa_in.orth              | 2 +-
 fc-lang/pl.orth                 | 4 ++--
 fc-lang/ps_af.orth              | 4 ++--
 fc-lang/ps_pk.orth              | 4 ++--
 fc-lang/pt.orth                 | 4 ++--
 fc-lang/rm.orth                 | 4 ++--
 fc-lang/ro.orth                 | 4 ++--
 fc-lang/ru.orth                 | 4 ++--
 fc-lang/sa.orth                 | 4 ++--
 fc-lang/sah.orth                | 4 ++--
 fc-lang/sco.orth                | 4 ++--
 fc-lang/se.orth                 | 4 ++--
 fc-lang/sel.orth                | 4 ++--
 fc-lang/sk.orth                 | 4 ++--
 fc-lang/sl.orth                 | 4 ++--
 fc-lang/sm.orth                 | 4 ++--
 fc-lang/sma.orth                | 4 ++--
 fc-lang/smj.orth                | 4 ++--
 fc-lang/smn.orth                | 4 ++--
 fc-lang/sms.orth                | 4 ++--
 fc-lang/so.orth                 | 4 ++--
 fc-lang/sq.orth                 | 4 ++--
 fc-lang/sr.orth                 | 4 ++--
 fc-lang/sv.orth                 | 4 ++--
 fc-lang/sw.orth                 | 4 ++--
 fc-lang/syr.orth                | 4 ++--
 fc-lang/ta.orth                 | 4 ++--
 fc-lang/te.orth                 | 4 ++--
 fc-lang/tg.orth                 | 4 ++--
 fc-lang/th.orth                 | 4 ++--
 fc-lang/ti_er.orth              | 4 ++--
 fc-lang/ti_et.orth              | 4 ++--
 fc-lang/tig.orth                | 4 ++--
 fc-lang/tn.orth                 | 4 ++--
 fc-lang/to.orth                 | 4 ++--
 fc-lang/tr.orth                 | 4 ++--
 fc-lang/ts.orth                 | 4 ++--
 fc-lang/tt.orth                 | 4 ++--
 fc-lang/tw.orth                 | 4 ++--
 fc-lang/tyv.orth                | 4 ++--
 fc-lang/ug.orth                 | 4 ++--
 fc-lang/uk.orth                 | 4 ++--
 fc-lang/ur.orth                 | 4 ++--
 fc-lang/ve.orth                 | 4 ++--
 fc-lang/vi.orth                 | 4 ++--
 fc-lang/vo.orth                 | 4 ++--
 fc-lang/vot.orth                | 4 ++--
 fc-lang/wa.orth                 | 4 ++--
 fc-lang/wen.orth                | 4 ++--
 fc-lang/wo.orth                 | 4 ++--
 fc-lang/xh.orth                 | 4 ++--
 fc-lang/yap.orth                | 4 ++--
 fc-lang/yi.orth                 | 4 ++--
 fc-lang/yo.orth                 | 4 ++--
 fc-lang/zh_cn.orth              | 4 ++--
 fc-lang/zh_hk.orth              | 4 ++--
 fc-lang/zh_mo.orth              | 4 ++--
 fc-lang/zh_sg.orth              | 4 ++--
 fc-lang/zh_tw.orth              | 4 ++--
 fc-lang/zu.orth                 | 4 ++--
 fc-list/Makefile.am             | 4 ++--
 fc-list/fc-list.c               | 4 ++--
 fc-match/Makefile.am            | 4 ++--
 fc-match/fc-match.c             | 4 ++--
 fc-query/Makefile.am            | 4 ++--
 fc-query/fc-query.c             | 4 ++--
 fc-scan/Makefile.am             | 4 ++--
 fc-scan/fc-scan.c               | 4 ++--
 fontconfig/fcfreetype.h         | 4 ++--
 fontconfig/fcprivate.h          | 4 ++--
 fontconfig/fontconfig.h         | 4 ++--
 src/Makefile.am                 | 4 ++--
 src/fcatomic.c                  | 4 ++--
 src/fcblanks.c                  | 4 ++--
 src/fccache.c                   | 4 ++--
 src/fccfg.c                     | 4 ++--
 src/fccharset.c                 | 4 ++--
 src/fcdbg.c                     | 4 ++--
 src/fcdefault.c                 | 4 ++--
 src/fcdir.c                     | 4 ++--
 src/fcformat.c                  | 4 ++--
 src/fcfreetype.c                | 4 ++--
 src/fcfs.c                      | 4 ++--
 src/fcinit.c                    | 4 ++--
 src/fcint.h                     | 4 ++--
 src/fclang.c                    | 4 ++--
 src/fclist.c                    | 4 ++--
 src/fcmatch.c                   | 4 ++--
 src/fcname.c                    | 4 ++--
 src/fcpat.c                     | 4 ++--
 src/fcstr.c                     | 4 ++--
 src/fcxml.c                     | 4 ++--
 254 files changed, 508 insertions(+), 508 deletions(-)

commit b9b01b6ed0849f770200fb6ae2a3ac0ca2166877
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Mar 12 13:48:07 2009 -0400

    Call git tools using "git cmd" instead of "git-cmd" syntax

    Recent git doesn't install the git-* commands in path.

 Makefile.am    |  2 +-
 new-version.sh | 10 +++++-----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit de69ee14d3ed094cd2bc4df603a03675c28d1b5b
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Mar 12 12:31:57 2009 -0400

    [fcxml.c] Embed a static 64-byte attr buffer in FcPStack

    Reduces number of mallocs called from FcConfigSaveAttr in my
    small test
    from 160 down to 6.

 src/fcstr.c |  4 ++--
 src/fcxml.c | 23 +++++++++++++++--------
 2 files changed, 17 insertions(+), 10 deletions(-)

commit 39861b7d9c69e71b9a8fb0d0d04279520cb30f04
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Mar 12 12:22:37 2009 -0400

    [fcxml] Embed 64 static FcVStack objects in FcConfigParse

    This reduces the number of mallocs called from FcVStackPush from
    over 800 down to zero.

 src/fcxml.c | 218
 +++++++++++++++++++++++++++++-------------------------------
 1 file changed, 105 insertions(+), 113 deletions(-)

commit 1d7b47da9da574a8adf39b0b5d11aab3d3cf4a37
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Mar 12 11:58:04 2009 -0400

    [fcxml] Embed 8 static FcPStack objects in FcConfigParse

    This reduces the number of mallocs called from FcPStackPush from
    over 900 down to zero.

 src/fcxml.c | 28 ++++++++++++++++++++++------
 1 file changed, 22 insertions(+), 6 deletions(-)

commit 532d8a1dbc2baebc2603d091952a640b954b6f71
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Mar 12 09:27:20 2009 -0400

    [fcxml] Don't allocate attr array if there are no attributes

    Reduces number of mallocs from FcConfigSaveAttr() in my small test
    from over 900 down to 157.

 src/fcxml.c | 19 ++++++-------------
 1 file changed, 6 insertions(+), 13 deletions(-)

commit 3ed70071cdc8a03229c009f5565c23948264a5e0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Mar 11 14:07:15 2009 -0400

    [fcstr,fcxml] Don't copy FcStrBuf contents when we would free it soon

    We can simply NUL-terminate the buffer and use it.  Reduces number of
    mallocs called from FcStrBufDone in my small test from 631 down to 66.

 src/fcint.h |  3 +++
 src/fcstr.c | 13 +++++++++++++
 src/fcxml.c | 28 ++++++++++++++--------------
 3 files changed, 30 insertions(+), 14 deletions(-)

commit 7d35c11b3304659d8be43913c9b125f2b5b38516
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Mar 11 13:56:09 2009 -0400

    [fcstr.c] Embed a static 64-byte buffer in FcStrBuf

    Reduces number of mallocs called from FcStrBufChar in my small test
    from 900 down to 6.

 src/fcint.h |  1 +
 src/fcstr.c | 11 +++++++++--
 2 files changed, 10 insertions(+), 2 deletions(-)

commit 916640ce40b995d1d97244975139ec0c030483e4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Mar 10 02:15:37 2009 -0400

    Fix Makefile's to not create target file in case of failure

 fc-arch/Makefile.am | 3 ++-
 fc-lang/Makefile.am | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 26ce979e825d661be046b1440563115ddc5ea4ab
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Mar 10 02:14:15 2009 -0400

    Fix Fanti (fat) orth file (#20390)

 fc-lang/fat.orth | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 49111c11fb5dca2af06004cc2ae443517f6c9557
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Mon Mar 2 22:48:37 2009 -0800

    Add Sundanese (su) orthography (bug #20440)

 fc-lang/su.orth | 33 +++++++++++++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit 0eaed16d34687bddc831d1ab3c50406c7c56792d
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Mon Mar 2 20:53:26 2009 -0800

    Add Kanuri (kr) orthography (bug #20438)

 fc-lang/kr.orth | 43 +++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 43 insertions(+)

commit fe4838588b0b9eb84f66bd4ad70ee12013e0b49a
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Mon Mar 2 02:21:17 2009 -0800

    Add Nauru (na) orthography (bug #20418)

 fc-lang/na.orth | 40 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit 9141b4bbe9a100200b09597f02521cd6e30d0f06
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Mar 1 03:53:11 2009 -0800

    Add Javanese (jv) orthography (bug #20403)

 fc-lang/jv.orth | 36 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit dc6daae9494e30d8c2d9657bab04d8f88751f751
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Mar 1 03:50:46 2009 -0800

    Add Sichuan Yi (ii) orthography (bug #20402)

 fc-lang/ii.orth | 34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 43517045f885c0e463c8a784c65f0b783658fc9b
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Mar 1 03:46:48 2009 -0800

    Add Shona (sn) orthography (bug #20394)

 fc-lang/sn.orth | 35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 42a8008df14c7dcdd85ab7d3ce12b4191b807f27
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Mar 1 03:30:58 2009 -0800

    Add orthographies for Oshiwambo languages (bug #20401)

    The languages are Kuanyama/Kwanyama (kj), Ndonga (ng), and Kwambi
    (kwm).

 fc-lang/kj.orth  | 34 ++++++++++++++++++++++++++++++++++
 fc-lang/kwm.orth | 29 +++++++++++++++++++++++++++++
 fc-lang/ng.orth  | 29 +++++++++++++++++++++++++++++
 3 files changed, 92 insertions(+)

commit f0b546372967434418aa6cfe6f2d709795fdff24
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Mar 1 02:33:54 2009 -0800

    Add Zhuang (za) orthography (bug #20399)

 fc-lang/za.orth | 39 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit 7886b147834decbcab6f556b1c43cc003e2bf893
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Mar 1 02:12:38 2009 -0800

    Add Rundi (rn) orthography (bug #20398)

 fc-lang/rn.orth | 32 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit 10a85249d9e79ae474c996d3e4f14d0ea8aa50b8
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sat Feb 28 19:43:02 2009 -0800

    Add Navajo (nv) orthography (bug #20395)

 fc-lang/nv.orth | 48 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit bf20886085a18227702f67b70dd7ef5f0e919469
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sat Feb 28 18:25:20 2009 -0800

    Add Tahitian (ty) orthography (bug #20391)

 fc-lang/ty.orth | 41 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit 0e05d7e5c730a1740d4c289a66f43f11a527c840
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sat Feb 28 18:01:11 2009 -0800

    Add Sango (sg) orthography (bug #20393)

 fc-lang/sg.orth | 47 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 47 insertions(+)

commit bdbdc64dd1e0a1727e2486c3320f9598695e4ab4
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sat Feb 28 17:38:21 2009 -0800

    Added Quechua (qu) orthography (bug #20392)

 fc-lang/qu.orth | 36 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit 16159d0fae1d8d0d2ba6ac1fc7f845582dec351b
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sat Feb 28 17:05:11 2009 -0800

    Add Akan (ak) and Fanti (fat) orthographies (bug #20390)

 fc-lang/ak.orth  | 30 ++++++++++++++++++++++++++++++
 fc-lang/fat.orth | 30 ++++++++++++++++++++++++++++++
 2 files changed, 60 insertions(+)

commit 881a7cd93b3358e371a25bc7ad4818baa3c8968b
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sat Feb 28 16:29:07 2009 -0800

    Add Herero (hz) orthograhy (bug #20387)

 fc-lang/hz.orth | 35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit bc701d2a5b7dc687ba25bafc5fea282adad37ecb
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sat Feb 28 16:03:51 2009 -0800

    Add Ewe (ee) orthography (bug #20386)

 fc-lang/ee.orth | 77
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 77 insertions(+)

commit 5a83914b733755ff6c710ff398cb5668fdb74a19
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Fri Feb 27 14:41:07 2009 -0800

    Update Serbo-Croatian (sh) orthography (bug #20368)

 fc-lang/sh.orth | 18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit 505ea8ce37dff9cc35dba6a98de4a31ed1ac5f8c
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Thu Feb 26 23:27:20 2009 -0800

    Extend Crimean Tatar (crh) orthography (bug #19891)

 fc-lang/crh.orth | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 4c7da799f3b90fb2f1117f9e9c45fa7fc1bd268c
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Feb 18 21:21:01 2009 -0800

    Add Divehi (dv) orthography (bug #20207)

 fc-lang/dv.orth | 34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 5cac0a4fd681087562c84b3d2534cecff6876048
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Feb 18 17:09:51 2009 -0800

    Remove digits and symbols from some Indic orthographies (bug #20204)

    These orthographies were changed: Gujarati (gu), Kannada (kn), Lao
    (lo),
    Malayalam (ml), Oriya (or), Telugu (te), and Thai (th).

 fc-lang/gu.orth | 4 ++--
 fc-lang/kn.orth | 4 ++--
 fc-lang/lo.orth | 4 ++--
 fc-lang/ml.orth | 4 ++--
 fc-lang/or.orth | 5 +++--
 fc-lang/te.orth | 4 ++--
 fc-lang/th.orth | 8 ++++++--
 7 files changed, 19 insertions(+), 14 deletions(-)

commit ea628d97706e842cb5555ceb5368fd972c941e0c
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Feb 18 16:44:10 2009 -0800

    Tighten Central Khmer (km) orthography (bug #20202)

 fc-lang/km.orth | 24 +++++++++++++++++-------
 1 file changed, 17 insertions(+), 7 deletions(-)

commit 4a5805d9c6b20b4c8f56f3b8201653e88e3706be
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Feb 18 16:03:30 2009 -0800

    Change Kashmiri (ks) orthography to Arabic script (bug #20200)

 fc-lang/ks.orth | 19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit cda57219229025db963d3db0f984974187a409f8
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Tue Feb 17 23:33:07 2009 -0800

    Rename Fulah orthography from 'ful' to 'ff' (bug #20177)

 fc-lang/{ful.orth => ff.orth} | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a32b79c3a5251916597bb871d2cd7698baeb5e58
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Tue Feb 17 22:45:17 2009 -0800

    Rename Bambara orthography from 'bam' to 'bm' (bug #20175)

 fc-lang/{bam.orth => bm.orth} | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 74a0a28695a24e02bc623d1b2c1c72054ff03d52
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Tue Feb 17 22:40:50 2009 -0800

    Rename Avaric orthography from 'ava' to 'av' (bug #20174)

 fc-lang/{ava.orth => av.orth} | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit eba32fa3f3024fb94f75cdedaa8d4c17d786a761
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Tue Feb 17 22:09:53 2009 -0800

    Update Azerbaijani in Latin (az_az) to present usage (bug #20173)

    Removed Cyrillic that is no longer in use. Removed "A WITH DIAERESIS"
    too, since it was only temporarily used in 1991-1992.

 fc-lang/az_az.orth | 41 ++++++++++++++---------------------------
 1 file changed, 14 insertions(+), 27 deletions(-)

commit 1c7bacc214f6e6e507f932230ec52744337cdf47
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Tue Feb 17 21:37:45 2009 -0800

    Switch Uzbek (uz) orthography to Latin (bug #19851)

 fc-lang/uz.orth | 94
 ++++++++++-----------------------------------------------
 1 file changed, 16 insertions(+), 78 deletions(-)

commit dfd5d0937ce44b4a60b5ee7e2e82650a5e31a456
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Tue Feb 17 20:02:39 2009 -0800

    Add Crimean Tatar (crh) orthography (bug #19891)

 fc-lang/crh.orth | 45 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 45 insertions(+)

commit 502c46c23d3e36dbfff29484486091f140756535
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Tue Feb 17 19:41:30 2009 -0800

    Add Papiamento (pap_aw, pap_an) orthographies (bug #19891)

 fc-lang/pap_an.orth | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 fc-lang/pap_aw.orth | 31 +++++++++++++++++++++++++++++++
 2 files changed, 77 insertions(+)

commit b4cd4cb6cc2cfd6432bfd4a5b2ec9c63cf653f6d
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Tue Feb 17 17:30:15 2009 -0800

    Add Blin (byn) orthography (bug #19891)

 fc-lang/byn.orth | 27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 4d7412a28b834830d0d1749852115846b3554932
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Tue Feb 17 17:03:54 2009 -0800

    Divide Panjabi (pa) to that of Pakistan and India (bug #19890)

    Previous Panjabi orthography was in the Gurmukhi script only, while in
    Pakistan, the Arabic script (called Shahmukhi) is used for Panjani.

 fc-lang/{pa.orth => pa_in.orth} |  6 +++---
 fc-lang/pa_pk.orth              | 28 ++++++++++++++++++++++++++++
 2 files changed, 31 insertions(+), 3 deletions(-)

commit 7a22c9d3471cd4963c529937df823148ab8e1a7d
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Fri Feb 13 20:04:42 2009 -0800

    Add Ottoman Turkish (ota) orthography (bug #20114)

 fc-lang/ota.orth | 41 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit b5675e4c920dbb146ab76d49b4807693749e8143
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Fri Feb 13 17:14:14 2009 -0800

    Remove Euro Sign from all orthographies (bug #19865)

 fc-lang/de.orth | 1 -
 fc-lang/el.orth | 1 -
 fc-lang/en.orth | 1 -
 fc-lang/es.orth | 1 -
 fc-lang/fi.orth | 1 -
 fc-lang/fr.orth | 1 -
 fc-lang/it.orth | 1 -
 fc-lang/nl.orth | 1 -
 fc-lang/pt.orth | 1 -
 9 files changed, 9 deletions(-)

commit f6993c880345b45abc0f7e7f0bb14dd0ddae0caa
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Mar 2 13:25:37 2009 +0330

    [fc-lang] Continue parsing after an "include" (#20179)

 fc-lang/fc-lang.c | 29 ++++++++++++++++++-----------
 1 file changed, 18 insertions(+), 11 deletions(-)

commit abe0e056d5a93dee80d8e964569563dc4d131a90
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Fri Feb 13 16:47:11 2009 -0800

    Fix Bengali (bn) and Assamese (as) orthographies (bug #22924)

    Removing digits, symbols, and the letters not used in the languages.

 fc-lang/as.orth | 37 +++++++++++++++++++++++++++----------
 fc-lang/bn.orth | 21 ++++++++++++---------
 2 files changed, 39 insertions(+), 19 deletions(-)

commit 40b2904c8984db90cc35eecbec571552c2e4d120
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Fri Feb 13 16:07:14 2009 -0800

    Add Sidamo (sid) and Wolaitta (wal) orthographies (bug #19891)

 fc-lang/sid.orth | 27 +++++++++++++++++++++++++++
 fc-lang/wal.orth | 27 +++++++++++++++++++++++++++
 2 files changed, 54 insertions(+)

commit d333969e0c809b3175193c7dda26703287d57fd4
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Fri Feb 13 15:52:23 2009 -0800

    Add Sardinian (sc) orthography (bug #19891)

 fc-lang/sc.orth | 42 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 1ae2e9b479818835ba3ddddb3c613cdb5acf46d4
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Fri Feb 13 13:31:10 2009 -0800

    Add Limburgan (li) orthography (bug #19891)

 fc-lang/li.orth | 43 +++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 43 insertions(+)

commit d8a4ee921a3bf0e78dffcea8f27d457cc1bc378e
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Feb 11 01:59:56 2009 -0800

    Ad Ganda (lg) orthography (bug #19891)

 fc-lang/lg.orth | 33 +++++++++++++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit f4159adaa88d55118fe1c2c62b05600d0a8fbc0a
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Feb 11 01:44:45 2009 -0800

    Add Haitian Creole (ht) orthography (bug #19891)

 fc-lang/ht.orth | 35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 190b4b5b2bd9a4822660b134639a759a5949c862
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Feb 11 01:11:30 2009 -0800

    Add Aragonese (an) orthography (bug #19891)

 fc-lang/an.orth | 45 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 45 insertions(+)

commit 3541f01828be06e2a414fa5bcd9543dbb2c9e0fd
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Feb 11 00:34:10 2009 -0800

    Add Kurdish in Turkey (ku_tr) orthography (bug #19891)

 fc-lang/ku_tr.orth | 42 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 3792f0199065cdf808d723eacf3fa86910453f70
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Feb 11 00:22:53 2009 -0800

    Use newly added Cyrillic letters for Kurdish (bug #20049)

 fc-lang/ku_am.orth | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 0d8b15f00f11a5150d842a3bd10e8dd05413fb9c
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Wed Feb 11 00:05:16 2009 -0800

    Add Chhattisgarhi (hne) orthography (bug #19891)

 fc-lang/hne.orth | 28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit 04ac14fc14131a66f0c391d8bb3894a01e556a05
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Feb 13 17:18:11 2009 -0800

    [fcformat] Add list of undocumented language features

 src/fcformat.c | 35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 384542fa915b27285ec22d899c4aa19be8c275f1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Feb 13 16:41:37 2009 -0800

    [fcformat] Add a 'pkgkit' builtin that prints tags for font packages

    For DejaVu Sans Condensed it generates:

    font(dejavusans)
    font(dejavusanscondensed)
    font(:lang=aa)
    font(:lang=ab)
    ...
    font(:lang=yo)
    font(:lang=zu)

 src/fcformat.c | 2 ++
 1 file changed, 2 insertions(+)

commit 9d58d01c5c061c1fcfb3cca3a3a4622f9bbec727
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Feb 13 16:33:58 2009 -0800

    [fcformat] Enumerate langsets like we do arrays of values

    If one asks for a format like '%{[]elt{expr}}' and the first value
    for elt is a langset, we enumerate the langset languages in expr.

 src/fcformat.c | 59
 ++++++++++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 47 insertions(+), 12 deletions(-)

commit d62b85af21777582ad720efd9c319fde97b67d82
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Feb 13 16:30:43 2009 -0800

    [fclang] Implement FcLangSetGetLangs() (#18846)

 doc/fclangset.fncs      |  8 ++++++++
 fontconfig/fontconfig.h |  3 +++
 src/fclang.c            | 32 ++++++++++++++++++++++++++++++++
 3 files changed, 43 insertions(+)

commit cdfb76585e7afbe739d00ed83a029ce1f909142f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Feb 12 21:48:22 2009 -0600

    [fcformat] Implement array enumeration

    The format '%{[]family,familylang{expr}}' expands expr once for
    the first
    value of family and familylang, then for the second, etc, until
    both lists
    are exhausted.

 src/fcformat.c | 90
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 85 insertions(+), 5 deletions(-)

commit 0673ef3881d24820e627b9a8cd3a4b3e3889c545
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Feb 11 23:55:11 2009 -0500

    [fcformat] Support 'default value' for simple tags

    The format '%{family:-XXX} prints XٓٓٓٓXX if the element family
    is not defined.
    Also works for things like '%{family[1]:-XXX}'.

 src/fcformat.c | 30 +++++++++++++++++++++++++-----
 1 file changed, 25 insertions(+), 5 deletions(-)

commit 9c83a8376f7db19421fb42d311fba81b398c67b0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Feb 11 23:44:36 2009 -0500

    [fcformat] Support indexing simple tags

    The format '%{family[0]}' will only output the first value for
    element family.

 src/fcformat.c | 43 +++++++++++++++++++++++++++++++++++++++----
 src/fcint.h    |  5 +++++
 src/fcname.c   |  2 +-
 3 files changed, 45 insertions(+), 5 deletions(-)

commit d04a750764d89a7048f49d655fb7e4aabbcd10b3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 10 20:56:39 2009 -0500

    [fcformat] Add support for builtin formats

    The '%{=unparse}' format expands to the FcNameUnparse() result on the
    pattern.  Need to add '%{=verbose}' for FcPatternPrint() output but
    need to change that function to output to a string first.

    Also added the '%{=fclist}' and '%{=fcmatch}' which format like the
    default format of fc-list and fc-match respectively.

 src/fcformat.c | 137
 +++++++++++++++++++++++++++++++++++++++------------------
 1 file changed, 95 insertions(+), 42 deletions(-)

commit 85c7fb67ce9f77574f71de7d9b69867bb974cd48
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 10 18:57:34 2009 -0500

    [fcformat] Refactor code to avoid malloc

 src/fcformat.c | 246
 +++++++++++++++++++++++++++++++++------------------------
 1 file changed, 144 insertions(+), 102 deletions(-)

commit d4f7a4c6af5420afbbcf2217f9fe396623671294
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 10 06:22:55 2009 -0500

    [fcformat] Start adding builtins

 src/fcformat.c | 27 ++++++++++++++++++++++++++-
 1 file changed, 26 insertions(+), 1 deletion(-)

commit c8f5933d13efa6705854d8f89b22d40cf720e68d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 10 05:57:10 2009 -0500

    [fcformat] Implement 'delete', 'escape', and 'translate' filter
    functions

    The format '%{family|delete( )}' expands to family values with
    space removed.
    The format '%{family|translate( ,-)}' expands to family values
    with space
    replaced by dash.  Multiple chars are supported, like tr(1).
    The format '%{family|escape(\\ )}' expands to family values with space
    escaped using backslash.

 src/fcformat.c | 219
 ++++++++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 194 insertions(+), 25 deletions(-)

commit b6a23028beb3b99022599344ebd8511c12dc7fd0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 10 05:05:53 2009 -0500

    [fcformat] Add value-count syntax

    The format '%{#family}' expands to the number of values for the
    element
    'family', or '0' if no such element exists in the pattern.

 src/fcformat.c | 116
 +++++++++++++++++++++++++++++++++++++--------------------
 1 file changed, 75 insertions(+), 41 deletions(-)

commit dccbbe83eff54097c55fdc560810cdc56b679a60
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 10 04:47:24 2009 -0500

    [FcStrBuf] better handle malloc failure

    If buffer has failed allocation, return NULL when done.

 src/fcstr.c | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit ced38254b49ab616df79930bbb798a93e5ce51fa
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 10 04:44:54 2009 -0500

    [fcformat] Implement 'cescape', 'shescape', and 'xmlescape' converters

 src/fcformat.c | 87
 ++++++++++++++++++++++++++++++++++++++++++++++++++--------
 1 file changed, 76 insertions(+), 11 deletions(-)

commit 2017a5eb79a0774cc5bace8c76304e1a9ef157b9
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 10 03:38:22 2009 -0500

    [fcformat] Add simple converters

    The format '%{family|downcase}' for example prints the lowercase of
    the family element.  Three converters are defined right now:
    'downcase', 'basename', and 'dirname'.

 src/fcformat.c | 224
 +++++++++++++++++++++++++++++++++------------------------
 1 file changed, 131 insertions(+), 93 deletions(-)

commit 7717b25ffdd9507b0d73ef60b70b692f7286c0a2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 10 00:15:08 2009 -0500

    [fcformat] Add conditionals

    The conditional '%{?elt1,elt2,!elt3{expr1}{expr2}}' will evaluate
    expr1 if elt1 and elt2 exist in pattern and elt3 doesn't exist, and
    expr2 otherwise.  The '{expr2}' part is optional.

 src/fcformat.c | 158
 +++++++++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 147 insertions(+), 11 deletions(-)

commit 8c31a2434d5dfa475ef710ad52c992111caac424
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Feb 9 23:08:08 2009 -0500

    [fcformat] Add element filtering and deletion

    The filtering, '%{+elt1,elt2,elt3{subexpr}}' will evaluate subexpr
    with a pattern only having the listed elements from the surrounding
    pattern.

    The deletion, '%{-elt1,elt2,elt3{subexpr}}' will evaluate subexpr
    with a the surrounding pattern sans the listed elements.

 doc/fcpattern.fncs  |   2 +-
 fc-list/fc-list.c   |   7 +-
 fc-match/fc-match.c |   6 +-
 fc-query/fc-query.c |   7 +-
 fc-scan/fc-scan.c   |   7 +-
 src/fcformat.c      | 214
 +++++++++++++++++++++++++++++++++++++++-------------
 6 files changed, 183 insertions(+), 60 deletions(-)

commit d6506ff6eeb4a4cb0bfe827174e474c7b91ff045
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Feb 9 20:49:45 2009 -0500

    [fcformat] Add support for subexpressions

    The syntax is '{{expr}}'.  Can be used for aligning/justifying
    an entire
    subexpr for example.

 src/fcformat.c | 149
 +++++++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 124 insertions(+), 25 deletions(-)

commit 27b3e2dddf6a89c66e8d79f4a28b1a0653e8e100
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Feb 9 19:13:07 2009 -0500

    [fcformat] Refactor and restructure code for upcoming changes

    Also makes it thread-safe.

 src/fcformat.c | 165
 +++++++++++++++++++++++++++++++++------------------------
 1 file changed, 96 insertions(+), 69 deletions(-)

commit c493c3b770ab12ab1c61a4fb10419c490d2b5ba6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Feb 9 18:18:59 2009 -0500

    [fcformat] Add support for width modifiers

    One can do '%30{family}' for example.  Or '%-30{family}' for the
    left-aligned version.

 doc/fcpattern.fncs |  6 ++++--
 src/fcformat.c     | 46 +++++++++++++++++++++++++++++++++++++++++++---
 2 files changed, 47 insertions(+), 5 deletions(-)

commit 967267556c762d2746f819eca85f3c59fbb95875
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Feb 5 23:37:16 2009 -0500

    Further update Sinhala orthography (#19288)

 fc-lang/si.orth | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit b697fa2523a6d3fe091e14710d14720a9e051bf1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Feb 5 02:46:16 2009 -0500

    [cache] After writing cache to file, update the internal copy to
    reflect this

    Only do it for small caches though.  For large cache we'd better
    off loading
    the cache file again, mmap()ing it.

    Based on patch from Diego Santa Cruz.

 src/fccache.c | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit ecce22d40cfbc50bbe19891035c06bbbeef5232f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Feb 4 15:58:36 2009 -0500

    Update Sinhala orthography (#19288)

    Patch from Harshula Jayasuriya.

 fc-lang/si.orth | 45 ++++++++++++++++++++++++++++++++++-----------
 1 file changed, 34 insertions(+), 11 deletions(-)

commit 6bb5d72fe788f897e30ab39ac7585c624282303f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 3 21:06:15 2009 -0500

    [fccache] Make sure the cache is current when reusing from open caches

    Reported by Diego Santa Cruz.

 src/fccache.c | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit f9feb587faa5a3df0f03e5ba945d228b8b49ec51
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 3 20:50:29 2009 -0500

    [win32] Do not remove leading '\\' such that network paths work

    Raised by Diego Santa Cruz.

 src/fcstr.c | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 1cdf7efb224867c41b2dea48884d87c5fb67bdaf
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 3 20:35:10 2009 -0500

    [win32] Expand "APPSHAREFONTDIR" to ../share/fonts relative to
    binary location

    Proposed by Diego Santa Cruz.

 src/fcxml.c | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit e62058abb9cf04b3f2270a45f3c0760287f12033
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 3 20:31:30 2009 -0500

    [win32] Fix usage of GetFullPathName()

    Diego Santa Cruz pointed out that we are using that API wrongly.
    The forth argument is a pointer to a pointer.  Turns out we don't
    need that arugment and it accepts NULL, so just pass that.

 src/fcstr.c | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit c4d557ab90c7ef6eccb998550190ccccde80670d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Feb 3 17:15:52 2009 -0500

    Add ICONV_LIBS to fontconfig.pc.in (#19606)

 fontconfig.pc.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 10609af4aa4030a15c19573198462fa002d2ef13
Author: Mike FABIAN <mfabian@suse.de>
Date:   Tue Feb 3 16:57:01 2009 -0500

    [conf] Disable hinting when emboldening (#19904)

    Hinting will be done before Embolden in freetype2,
    but in such case, Embolden will get wrong result
    on some glyph contours after applying hinting.
    Actually, hinting should be done after embolden, but we can't
    fix it in current freetype2. So as a workaround, just turn off
    hinting if we want to do embolden.

 conf.d/90-synthetic.conf | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit fe00689cddb42df141d891c2cd5b4a8ea3a42816
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Mon Feb 2 00:27:58 2009 -0800

    Remove punctuation symbols from Asturian orthography (bug #19893)

    Also fix the URL for orthography.

 fc-lang/ast.orth | 12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit a4f651241e2db62bd058e773b4e5931d205af0f6
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 23:52:10 2009 -0800

    Rename Igbo from "ibo" to "ig" (bug #19892)

 fc-lang/{ibo.orth => ig.orth} | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ff71a83c207891323b487d9cbec0658e16ca11c3
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 22:14:53 2009 -0800

    Renamed az to az_az (bug #19889)

 fc-lang/{az.orth => az_az.orth} | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e53956ee5e6340c5c8a78bf65e9c9df0757af439
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 20:46:23 2009 -0800

    Add Berber orthographies in Latin and Tifinagh scripts (bug #19881)

 fc-lang/ber_dz.orth | 27 +++++++++++++++++++++++++++
 fc-lang/ber_ma.orth | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 fc-lang/kab.orth    | 42 ++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 115 insertions(+)

commit 3765a7483e1d313c6d0ced8a20cd5a258165f8e0
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 20:42:54 2009 -0800

    Add Upper Sorbian (hsb) orthography (bug #19870)

 fc-lang/hsb.orth | 42 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 9f54d9db2912287358c1c01771a1bc8263e9539a
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 20:41:14 2009 -0800

    Add Kinyarwanda (rw) orthography (bug #19868)

 fc-lang/rw.orth | 31 +++++++++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 3889de9e3c0a0b6aacd0558ce41953d9aa35878b
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 20:39:03 2009 -0800

    Add Malay (ms) orthography (bug #19867)

 fc-lang/ms.orth | 32 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit 0896d14ab7fe5a7233102f5ff7c59199f893c734
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 20:36:55 2009 -0800

    Add Kashubian (csb) orth file (bug #19866)

 fc-lang/csb.orth | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit a32870457eb8f35a19193bc3e9e66db9948186fb
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 20:29:12 2009 -0800

    Rename "ku" to "ku_am", add "ku_iq" (bug #19853).

    For Iraq, we are assuming its the same Arabic orthography used
    in Iran.

    According to Ethnologue, Kurdish is written in Cyrillic in Armenia:
    http://www.ethnologue.com/show_language.asp?code=kmr

    Turkey and Syria need more research.

 fc-lang/{ku.orth => ku_am.orth} |  4 ++--
 fc-lang/ku_iq.orth              | 27 +++++++++++++++++++++++++++
 2 files changed, 29 insertions(+), 2 deletions(-)

commit 2199c6e321c92cf42711180b483e3f1b0091d980
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 20:21:45 2009 -0800

    Rename Venda from "ven" to "ve" (bug #19852)

    Since ISO 639-1 code exists, we should use it.

 fc-lang/{ven.orth => ve.orth} | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d7dd87649c07b7b73cf4ecfe7273cb0fcedc5be0
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 20:00:15 2009 -0800

    Change Turkmen orth from Cyrillic to Latin (bug #19849)

 fc-lang/tk.orth | 114
 +++++++++++++-------------------------------------------
 1 file changed, 26 insertions(+), 88 deletions(-)

commit b25a42963d70f9ead6bc026f57ae2433b4ac5e85
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 19:35:37 2009 -0800

    Fix doubly encoded UTF-8 in comments (bug #19848)

 fc-lang/nb.orth | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f3c214a1cd799dc1eb965ced8107f52cc9dd065e
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 19:29:21 2009 -0800

    Split Mongolian orth to Mongolia and China (bug #19847)

    The orth file for Mongolia uses Cyrillic, while that of
    China uses the classical Mongolian script.

 fc-lang/{mn.orth => mn_cn.orth} |  4 ++--
 fc-lang/mn_mn.orth              | 35 +++++++++++++++++++++++++++++++++++
 2 files changed, 37 insertions(+), 2 deletions(-)

commit 0d5f9a2592634e6f9c74f48bbad9f6b443d1b574
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 18:55:31 2009 -0800

    Add Filipino orth, alias Tagalog to Filipino (bug #19846)

    The previous Tagalog orthography used the Tagalog script, which is
    not in
    modern use.

 fc-lang/fil.orth | 45 +++++++++++++++++++++++++++++++++++++++++++++
 fc-lang/tl.orth  | 23 ++++++++---------------
 2 files changed, 53 insertions(+), 15 deletions(-)

commit 2bf7d799bf8c9e116f08864f4f62575a6a25b380
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 18:52:41 2009 -0800

    Remove Sinhala characters not in modern use (bug #19288)

 fc-lang/si.orth | 30 ++++++++++++++++++++----------
 1 file changed, 20 insertions(+), 10 deletions(-)

commit 2f3b07fe80415873ef3e0e0a7e753a55e766986b
Author: Roozbeh Pournader <roozbeh@gmail.com>
Date:   Sun Feb 1 18:32:21 2009 -0800

    Correct Sindhi orthography to use Arabic script (bug #17140)

    The previous version used the Devanagari script. But in both
    Pakistan and
    India, Sindhi is generally written in Arabic. The Devanagari data
    could
    prove to be useful, if we decide on how we should name such files (see
    bug #17208 and bug #19869).

 fc-lang/sd.orth | 48 +++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 39 insertions(+), 9 deletions(-)

commit 574805478c19cdb487aea96922ff7177dd0844d7
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sat Jan 31 03:38:19 2009 -0500

    [fcfreetype] Fix typo in GB2312 encoding name string (#19845)

    This was causing failure when opening iconv converter, hence rendering
    GB2312-encoded fonts with no other usable encoding unusable.

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 575ee6cddd391857339f57331d2677fcc868369e
Author: Karl Tomlinson <bugs.freedesktop@karlt.net>
Date:   Tue Jan 27 03:35:51 2009 -0500

    Change FcCharSetMerge API

    To only work on writable charsets.  Also, return a bool indicating
    whether
    the merge changed the charset.

    Also changes the implementation of FcCharSetMerge and
    FcCharSetIsSubset

 doc/fccharset.fncs      |  16 +++---
 fontconfig/fontconfig.h |   4 +-
 src/fccharset.c         | 129
 ++++++++++++++++++++----------------------------
 src/fcmatch.c           |  64 +++++++++++++-----------
 4 files changed, 99 insertions(+), 114 deletions(-)

commit b8860e2faffa8b3f62b3c7aafd2d3b6962566f41
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Jan 23 14:17:08 2009 -0500

    [fcmatch] Fix crash when no fonts are available.

 src/fcmatch.c | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit c08216c6f468ce22cb7c0c1959019a7caad3484a
Author: Dan Nicholson <dbn.lists@gmail.com>
Date:   Mon Jan 19 17:02:55 2009 -0500

    Let make expand fc_cachedir/FC_CACHEDIR (bug #18675)

    configure replaces a NONE prefix with the default prefix too late.
    So we move fonts.conf creation to Makefile, such that prefix is
    correctly
    expanded. Ugly, but works.

 Makefile.am  | 13 ++++++++++++-
 configure.in |  3 +--
 2 files changed, 13 insertions(+), 3 deletions(-)

commit 98d765a53ba33d28283e499ebd1098d27cbe6d02
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 15 19:27:53 2009 -0500

    Cleanup all manpage.* files

    Recent doc2man generates files called manpage.log.  This was
    breaking build.

 doc/Makefile.am      | 5 ++---
 fc-cache/Makefile.am | 2 +-
 fc-cat/Makefile.am   | 2 +-
 fc-list/Makefile.am  | 2 +-
 fc-match/Makefile.am | 2 +-
 fc-query/Makefile.am | 2 +-
 fc-scan/Makefile.am  | 2 +-
 7 files changed, 8 insertions(+), 9 deletions(-)

commit 41af588f543ca5c0efaeb699992376d89cb35763
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 15 19:12:37 2009 -0500

    [fc-match] Accept list of elements like fc-list (bug #13017)

    Also make --verbose not ignore list of elements and only print those.
    Update docs.

 fc-list/fc-list.c      | 29 ++++++++++++++---------------
 fc-list/fc-list.sgml   | 12 ++++++------
 fc-match/fc-match.c    | 48
 +++++++++++++++++++++++++++++++++++++-----------
 fc-match/fc-match.sgml | 29 ++++++++++++++++++++---------
 4 files changed, 77 insertions(+), 41 deletions(-)

commit 263f16ced279b0c09834bb4ca0df87fd0f76dcaf
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 15 19:12:27 2009 -0500

    Oops, fix FcPatternFilter

 src/fcpat.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6bffe1a95bfd6609358d38590ad638c688232575
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 15 18:39:48 2009 -0500

    Add fc-scan too that runs FcFileScan/FcDirScan

    This is quite similar to fc-query, but calling FcFileScan/FcDirScan
    instead
    of FcFreeTypeQuery.

 .gitignore             |   2 +
 Makefile.am            |   2 +-
 configure.in           |   1 +
 doc/fcfile.fncs        |  18 ++---
 fc-cache/fc-cache.sgml |   1 +
 fc-cat/fc-cat.sgml     |   1 +
 fc-list/fc-list.sgml   |   7 +-
 fc-match/fc-match.sgml |   7 +-
 fc-query/fc-query.sgml |   5 +-
 fc-scan/Makefile.am    |  59 ++++++++++++++++
 fc-scan/fc-scan.c      | 181
 +++++++++++++++++++++++++++++++++++++++++++++++++
 fc-scan/fc-scan.sgml   | 176
 +++++++++++++++++++++++++++++++++++++++++++++++
 12 files changed, 442 insertions(+), 18 deletions(-)

commit 4074fd254e5ad707448d3665a034e0fbdf6de033
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 15 18:35:09 2009 -0500

    Revive FcConfigScan() (bug #17121)

    FcConfigScan() with parameters cache=NULL and force=FcTrue can be used
    to scan font dirs without any caching side effect.

 src/fcdir.c | 155
 +++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 90 insertions(+), 65 deletions(-)

commit 46e405cb9ab5870bda1947f3afd80f8f54c7ac75
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 15 17:34:26 2009 -0500

    Oops.  Fix usage output.

 fc-query/fc-query.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 25a09eb9bf2d993228a3d98d1dd271f55efb2358
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 8 03:04:34 2009 -0500

    Don't use FcCharSetCopy in FcCharSetMerge

    The Copy function is actually a ref, not real copy.

 doc/fccharset.fncs | 2 +-
 src/fccharset.c    | 7 ++++---
 2 files changed, 5 insertions(+), 4 deletions(-)

commit d230cf144f84c8a50b932c8b89daa55c1a3620d8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Jan 7 20:15:20 2009 -0500

    Make FcCharSetMerge() public

    That's needed for apps to be abled to do pruning themselves without
    the performance penalty of recreating new charsets all the time.

 doc/fccharset.fncs      | 13 +++++++++++++
 fontconfig/fontconfig.h |  3 +++
 src/fcint.h             |  3 ---
 3 files changed, 16 insertions(+), 3 deletions(-)

commit 3b725d0a318623bba08a9f7c75e4fe71527f5dec
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Jan 1 16:29:01 2009 -0500

    [doc] Note that fontset returned by FcConfigGetFonts should not
    be modified

 doc/fcconfig.fncs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6d764a3f9b89f21b5c2cdf48cbd913b9706d42b2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Dec 31 20:16:40 2008 -0500

    [fcmatch] Move FcFontSetMatch() functionality into
    FcFontSetMatchInternal()

    Except for the final FcFontRenderPrepare().  This way we have more
    flexibility to do caching in FcFontMatch() while leaving
    FcFontSetMatch()
    intact.

 src/fcmatch.c | 42 +++++++++++++++++++++++++++++-------------
 1 file changed, 29 insertions(+), 13 deletions(-)

commit a5a384c5ffb479e095092c2aaedd406f8785280a
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Dec 31 19:44:32 2008 -0500

    [fcmatch] When matching, reserve score 0 for when elements don't exist

    Previously an index j was added to element score to prefer matches
    earlier
    in the value list to the later ones.  This index started from 0,
    meaning
    that the score zero could be generated for the first element.
    By starting
    j from one, scores for when the element exists in both pattern
    and font
    can never be zero.  The score zero is reserved for when the element is
    NOT available in both font and pattern.  We will use this property
    later.

    This shouldn't change matching much.  The only difference I can
    think of
    is that if a font family exists both as a bitmap font and a scalable
    version, and when requesting it at the size of the bitmap version,
    previously the font returned was nondeterministic.  Now the scalable
    version will always be preferred.

 src/fcmatch.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c7641f2872329197250db6ffe194df3d33ff42b3
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Dec 31 19:35:27 2008 -0500

    [fcmatch] Use larger multipliers to enforce order

    Previously the matcher multiplied comparison results by 100 and added
    index value to it.  With long lists of families (lots of aliases),
    reaching 100 is not that hard.  That could result in a non-match early
    in the list to be preferred over a match late in the list.  Changing
    the multiplier from 100 to 1000 should fix that.

    To keep things relatively in order, the lang multiplier is changed
    from 1000 to 10000.

 src/fcmatch.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1b43ccc805f26a78934267d92275cd19b5648e91
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Dec 31 18:10:31 2008 -0500

    [fcmatch.c] Fix debug formatting

 src/fcmatch.c | 1 +
 1 file changed, 1 insertion(+)

commit a291cfc710c5989ba3e787ae20911d3176bea307
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Dec 31 18:06:07 2008 -0500

    Fix comparison of family names to ignore leading space properly

    Previously fc-match "xxx,nazli" matched Nazli, but "xxx, nazli"
    didn't.
    This was because of a bug in FcCompareFamily's short-circuit check
    that forgot to ignore spaces.

 src/fcmatch.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0c93b91db0cdf7c5e901477c266b45c8baeadd00
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 29 20:00:26 2008 -0500

    Implement FcPatternFormat and use it in cmdline tools (bug #17107)

    Still need to add more features, but the API is there, and used
    by cmdline tools with -f or --format.

 doc/fcpattern.fncs      |  18 ++++++
 fc-list/fc-list.c       |  38 ++++++++----
 fc-list/fc-list.sgml    |  22 ++++++-
 fc-match/fc-match.c     |  31 +++++++---
 fc-match/fc-match.sgml  |  47 ++++++++++-----
 fc-query/fc-query.c     |  25 +++++++-
 fc-query/fc-query.sgml  |  36 +++++++----
 fontconfig/fontconfig.h |   3 +
 src/Makefile.am         |   1 +
 src/fcformat.c          | 155
 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h             |   5 ++
 src/fcname.c            |   2 +-
 12 files changed, 333 insertions(+), 50 deletions(-)

commit 5cf04b201fb5e9dc989d30cf5c30f7575dda56bc
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 29 19:27:00 2008 -0500

    [.gitignore] Update

 .gitignore | 2 ++
 1 file changed, 2 insertions(+)

commit f9806ab4b9bfa88a782008156511e29f37ce967d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Dec 29 18:58:29 2008 -0500

    Remove special-casing of FC_FILE in FcPatternPrint()

    I can't understand why the special case is needed.  Indeed,
    removing it
    does not make any difference in the "fc-match --verbose" output, and
    that's the only time fc-match uses FcPatternPrint.

 src/fcdbg.c | 21 +--------------------
 1 file changed, 1 insertion(+), 20 deletions(-)

commit 8ae1e3d5dc323542e7def06a42deea62c7ba7027
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 28 16:54:44 2008 -0500

    Explicitly chmod() directories (bug #18934)

    Two changes:

      - after mkdir(), we immediately chmod(), such that we are not
      affected
        by stupid umask's.

      - if a directory we want to use is not writable but exists, we try a
        chmod on it.  This is to recover from stupid umask's having
        affected
        us with older versions.

 src/fccache.c | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit b6cf885a0a71a0e8f03832fe038e57e6f2778974
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 28 09:03:29 2008 -0500

    Don't use identifier named complex

 src/fcfreetype.c | 42 +++++++++++++++++++++---------------------
 1 file changed, 21 insertions(+), 21 deletions(-)

commit 627dd913cf1588436936bc8731c7dd9c96baee90
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 28 08:06:07 2008 -0500

    [65-fonts-persian.conf] Set foundry in target=scan instead of
    target=font

 conf.d/65-fonts-persian.conf | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 030983185bb6f3f3885dc2e4d80fec330455f11c
Author: Harshula Jayasuriya <harshula@gmail.com>
Date:   Sun Dec 28 06:13:19 2008 -0500

    Fix Sinhala coverage (bug #19288)

 fc-lang/si.orth | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 6ca36812b4ece5368468278a9ff18f5a9c62b39f
Author: Alexey Khoroshilov <khoroshilov@linuxtesting.org>
Date:   Sun Dec 28 05:15:45 2008 -0500

    Use human-readable file names in the docs (bug #16278)

 doc/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f26062b277e1781876a30d3170fca8bbba2409ab
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 28 04:58:14 2008 -0500

    Implement fc-list --quiet ala grep (bug #17141)

    Exits 1 if no fonts matched, 0 otherwise.

 fc-list/fc-list.c | 27 ++++++++++++++++++++-------
 1 file changed, 20 insertions(+), 7 deletions(-)

commit 00c0972acae849ca3b18a7c76894c078185d3be4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 28 04:48:54 2008 -0500

    Fix compile with old FreeType that doesn't have FT_Select_Size()
    (bug #17498)

 configure.in     | 10 +---------
 src/fcfreetype.c |  2 ++
 2 files changed, 3 insertions(+), 9 deletions(-)

commit 350dc5f35091e7e5635a6cf239e4cad56e992d01
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 28 04:26:26 2008 -0500

    Use __builtin_popcount() when available (bug #17592)

 src/fccharset.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 4c209d5f0c217ff9d8f3b517017212d6362b07a8
Author: Rahul Bhalerao <b.rahul.pm@gmail.com>
Date:   Sun Dec 28 04:10:53 2008 -0500

    Add config for new Indic fonts (bug #17856)

 conf.d/65-nonlatin.conf | 35 ++++++++++++++++++++++++++++-------
 1 file changed, 28 insertions(+), 7 deletions(-)

commit f69db8d49cbd929b80527719be6c0b1e6d49ccac
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 28 04:06:01 2008 -0500

    Consistently use FcStat() over stat() in all places

 src/fcatomic.c | 2 +-
 src/fccache.c  | 7 +------
 src/fccfg.c    | 2 +-
 src/fcdir.c    | 4 ++--
 src/fcint.h    | 7 +++++++
 5 files changed, 12 insertions(+), 10 deletions(-)

commit 9e2ed2513bb4c2ecc7ee09c48c1dc677ea58a723
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 28 04:00:09 2008 -0500

    [fccache] Consistently use FcStat() over stat() (bug #18195)

 src/fccache.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee2463fbcbe105a413021aa870e8a3f0094a1a24
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 28 03:40:21 2008 -0500

    Cleanup symlinks in "make uninstall" (bug #18885)

 conf.d/Makefile.am | 7 +++++++
 1 file changed, 7 insertions(+)

commit fe8e8a1dd777ab53f57c4d31dc9547b3e4ba0d70
Author: Harald Fernengel <harry@kdevelop.org>
Date:   Sun Dec 28 03:23:58 2008 -0500

    Don't use variables named 'bool' (bug #18851)

 src/fcxml.c | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit a9ac5c52a658920f1054a12435d8c07205953153
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Sun Dec 28 03:08:38 2008 -0500

    [.gitignore] Update

 .gitignore | 4 ++++
 1 file changed, 4 insertions(+)

commit 1c7f4de80cc4819b504707ae143a2d718af42733
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Dec 2 06:07:41 2008 -0500

    Fix two more doc typos

 doc/fcpattern.fncs | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 355ed50b185b7879a5c95e1f8697824c6dec6f9f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Sep 22 18:51:11 2008 -0400

    Don't call FcPatternGetCharSet in FcSortWalk unless we need to
    (#17361)

 src/fcmatch.c | 55
 +++++++++++++++++++++++++++++++------------------------
 1 file changed, 31 insertions(+), 24 deletions(-)

commit 799691c901ea2d8561980c763a7e78383f1cceec
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Sep 22 18:16:30 2008 -0400

    Don't leak FcValues string loaded through fcxml.c (#17661)

    Patch from Caolan McNamara.

 src/fcpat.c | 10 +++++-----
 src/fcxml.c |  2 ++
 2 files changed, 7 insertions(+), 5 deletions(-)

commit 311da2316f5d40d9b8c72c9965f7d70330f3c498
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Wed Apr 23 09:07:28 2008 +0100

    Reduce number of allocations during FcSortWalk().

    The current behaviour of FcSortWalk() is to create a new FcCharSet on
    each iteration that is the union of the previous iteration with
    the next
    FcCharSet in the font set. This causes the existing FcCharSet to be
    reproduced in its entirety and then allocates fresh leaves for the new
    FcCharSet. In essence the number of allocations is quadratic wrt the
    number of fonts required.

    By introducing a new method for merging a new FcCharSet with an
    existing
    one we can change the behaviour to be effectively linear with
    the number
    of fonts - allocating no more leaves than necessary to cover all the
    fonts in the set.

    For example, profiling 'gedit UTF-8-demo.txt'
        Allocator               nAllocs         nBytes
    Before:
        FcCharSetFindLeafCreate 62886           2012352
        FcCharSetPutLeaf        9361            11441108
    After:
        FcCharSetFindLeafCreate 1940            62080
        FcCharSetPutLeaf        281             190336

    The savings are even more significant for applications like
    firefox-3.0b5
    which need to switch between large number of fonts.
    Before:
        FcCharSetFindLeafCreate 4461192         142758144
        FcCharSetPutLeaf        1124536         451574172
    After:
        FcCharSetFindLeafCreate 80359           2571488
        FcCharSetPutLeaf        18940           9720522

    Out of interest, the next most frequent allocations are
        FcPatternObjectAddWithBinding 526029    10520580
        tt_face_load_eblc       42103           2529892

 src/fccharset.c | 62
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h     |  3 +++
 src/fcmatch.c   | 13 +++---------
 3 files changed, 68 insertions(+), 10 deletions(-)

commit 8072f4b1304efc59fee5e61efc4c4b0fc05bb8fb
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 22 18:25:22 2008 -0400

    Document how to free return value of FcNameUnparse()

 doc/fcpattern.fncs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 241fbde1ab28d7beb9b861d8804d0416f0d5589c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 22 18:08:07 2008 -0400

    Add FcConfigReference() (#17124)

 doc/fcconfig.fncs       | 20 +++++++++++++++++---
 fontconfig/fontconfig.h |  3 +++
 src/fccfg.c             | 20 ++++++++++++++++++++
 src/fcint.h             |  2 ++
 4 files changed, 42 insertions(+), 3 deletions(-)

commit 03dcaaa08fe324a058c427ab2da993fddaa7b3fd
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 22 17:49:02 2008 -0400

    Document when config can be NULL (#17105)

    Note that this also fixes a bug with FcFontList() where previously
    it was NOT checking whether the config is up-to-date.  May want to
    keep the old behavior and document that ScanInterval is essentially
    unused internally (FcFontSetList uses it, but we can remove that
    too).

 doc/fcconfig.fncs  | 21 +++++++++++++++++++++
 doc/fcfontset.fncs |  3 +++
 src/fclist.c       |  3 +++
 3 files changed, 27 insertions(+)

commit 1439c8f21af1533a920b54333f79459f456a402e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 22 16:51:33 2008 -0400

    Handle -h and --help according to GNU Coding Standards (#17104)

    Added -h instead of -?.  And upon -h and --help, write usave to stdout
    instead of stdin, and return 0 instead of 1.

    -? still works like before as that's what getopt returns upon unknown
    arguments.

 fc-cache/fc-cache.c    | 47
 +++++++++++++++++++++++++----------------------
 fc-cache/fc-cache.sgml |  4 ++--
 fc-cat/fc-cat.c        | 45 ++++++++++++++++++++++++---------------------
 fc-cat/fc-cat.sgml     |  4 ++--
 fc-list/fc-list.c      | 36 ++++++++++++++++++++----------------
 fc-list/fc-list.sgml   |  4 ++--
 fc-match/fc-match.c    | 44 ++++++++++++++++++++++++--------------------
 fc-match/fc-match.sgml |  4 ++--
 fc-query/fc-query.c    | 40 ++++++++++++++++++++++------------------
 fc-query/fc-query.sgml |  4 ++--
 10 files changed, 125 insertions(+), 107 deletions(-)

commit df243f93be4306e788aebf6b2ac4a7c1b97550ae
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 22 13:02:14 2008 -0400

    Add WenQuanYi fonts to default conf (#17262, from Mandriva)

 conf.d/65-nonlatin.conf | 4 ++++
 1 file changed, 4 insertions(+)

commit f31d8b1b1a93334611353d7ea846f8006fda855c
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Aug 22 03:51:57 2008 -0400

    Add Sindhi .orth file. (#17140)

 fc-lang/sd.orth | 28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit b9f18922f112f2f551429b692d793dda7d02cd86
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Aug 21 17:17:04 2008 -0400

    Update sr.orth to actul subset of Cyrillic used by Serbian (#17208)

 fc-lang/sr.orth | 24 +++++++-----------------
 1 file changed, 7 insertions(+), 17 deletions(-)

commit 74e16ceeeab86f50c4b6bea12800f70110cd4794
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Aug 14 15:27:16 2008 -0400

    Fix docs re 'orig' argument of FcPatternBuild and family

    Now call it 'p' or 'pattern', since it's modified in place.
    There is no copying.

 doc/fcpattern.fncs      |  6 +++---
 fontconfig/fontconfig.h |  4 ++--
 src/fcpat.c             | 12 ++++++------
 3 files changed, 11 insertions(+), 11 deletions(-)

commit bb65f58f6354b8ad363021457852ad9e841cef89
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 13 16:45:18 2008 -0400

    [doc] Fix signature of FcConfigHome()

    We should write a test to automatically cross-check signatures
    from public headers to docs.

 doc/fcconfig.fncs | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e690fbb20ec41ef018a32ac01118a41103c01289
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 13 03:30:23 2008 -0400

    Get rid of $Id$ tags

 COPYING                         | 2 +-
 Makefile.am                     | 2 +-
 conf.d/Makefile.am              | 2 +-
 configure.in                    | 2 +-
 doc/Makefile.am                 | 2 +-
 doc/confdir.sgml.in             | 2 +-
 doc/edit-sgml.c                 | 2 +-
 doc/fcatomic.fncs               | 2 +-
 doc/fcblanks.fncs               | 2 +-
 doc/fccharset.fncs              | 2 +-
 doc/fcconfig.fncs               | 2 +-
 doc/fcconstant.fncs             | 2 +-
 doc/fcfile.fncs                 | 2 +-
 doc/fcfontset.fncs              | 2 +-
 doc/fcfreetype.fncs             | 2 +-
 doc/fcinit.fncs                 | 2 +-
 doc/fcmatrix.fncs               | 2 +-
 doc/fcobjectset.fncs            | 2 +-
 doc/fcobjecttype.fncs           | 2 +-
 doc/fcpattern.fncs              | 2 +-
 doc/fcstring.fncs               | 2 +-
 doc/fcstrset.fncs               | 2 +-
 doc/fcvalue.fncs                | 2 +-
 doc/fontconfig-devel.sgml       | 2 +-
 doc/func.sgml                   | 2 +-
 doc/version.sgml.in             | 2 +-
 fc-cache/Makefile.am            | 2 +-
 fc-case/fc-case.c               | 2 +-
 fc-case/fccase.tmpl.h           | 2 +-
 fc-cat/Makefile.am              | 2 +-
 fc-glyphname/fc-glyphname.c     | 2 +-
 fc-glyphname/fcglyphname.tmpl.h | 2 +-
 fc-list/Makefile.am             | 2 +-
 fc-match/Makefile.am            | 2 +-
 fc-query/Makefile.am            | 2 +-
 src/Makefile.am                 | 2 +-
 36 files changed, 36 insertions(+), 36 deletions(-)

commit 3042050954ddbe205e3166c9910886839829e788
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 13 03:16:39 2008 -0400

    [doc] Document that a zero rescanInterval disables automatic checks
    (#17103)

 doc/fcconfig.fncs | 2 ++
 1 file changed, 2 insertions(+)

commit 41fc0fe68d88c1fdd38469a51a322dab6a30757d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 13 02:50:35 2008 -0400

    Add FcPatternFilter() (#13016)

 doc/fcpattern.fncs      | 12 ++++++++++++
 fontconfig/fontconfig.h |  3 +++
 src/fcpat.c             | 37 +++++++++++++++++++++++++++++++++++++
 3 files changed, 52 insertions(+)

commit e6f14d3c513a9f2e7d75c389db4f65aa0dc0502f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 13 02:47:12 2008 -0400

    [doc] Add const decorator for FcPatternDuplicate()

 doc/fcpattern.fncs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 29874098537e763e8e4cd3fefb1ecc0f36b808a5
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 13 02:24:42 2008 -0400

    Implement fc-list --verbose (#13015)

    A private FcObjectGetSet() is implemented that provides an
    FcObjectSet of all registered elements.  FcFontSetList() is
    then modified to use the object set from FcObjectGetSet() if
    provided object-set is NULL.

    Alternatively FcObjectGetSet() can be made public.  In that
    case fc-list can use that as a base if --verbose is included,
    and also add any elements provided by the user (though that has
    no effect, as all elements from the cache are already registered).
    Currently fc-list ignores user-provided elements if --verbose
    is specified.

 fc-list/fc-list.c    | 41 ++++++++++++++++++++++++-----------------
 fc-list/fc-list.sgml | 10 +++++++---
 src/fcint.h          |  3 +++
 src/fclist.c         | 10 ++++++++++
 src/fcname.c         | 14 ++++++++++++++
 5 files changed, 58 insertions(+), 20 deletions(-)

commit 77c0d8bce86ca088782d5631617c0ef681d91312
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 13 01:31:18 2008 -0400

    Add fc-query (#13019)

 .gitignore               |   2 +
 Makefile.am              |   2 +-
 configure.in             |   1 +
 doc/fontconfig-user.sgml |   2 +-
 fc-cache/fc-cache.sgml   |   1 +
 fc-cat/fc-cat.sgml       |   1 +
 fc-list/fc-list.sgml     |   1 +
 fc-match/fc-match.sgml   |   1 +
 fc-query/Makefile.am     |  59 ++++++++++++++++
 fc-query/fc-query.c      | 166
 ++++++++++++++++++++++++++++++++++++++++++++
 fc-query/fc-query.sgml   | 174
 +++++++++++++++++++++++++++++++++++++++++++++++
 11 files changed, 408 insertions(+), 2 deletions(-)

commit d5b6085c3e40b4e2605cab7ff6c8a621b961b2d2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Wed Aug 13 00:42:12 2008 -0400

    Update man pages

 fc-cache/fc-cache.sgml | 16 ++++++++++------
 fc-cat/fc-cat.sgml     | 15 +++++++++++----
 fc-list/fc-list.sgml   | 12 ++++++++----
 fc-match/fc-match.sgml | 30 +++++++++++++++++++++++-------
 4 files changed, 52 insertions(+), 21 deletions(-)

commit 88261bafff30ec02b5a2180f1f9b786c8ff44e3d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 12 23:44:44 2008 -0400

    [fc-match] Fix list of getopt options in --help

 fc-match/fc-match.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 43291847c58002fca99984dcec4f1bbbb0d0f61d
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 12 18:00:35 2008 -0400

    Add ~/.fonts.conf.d to default config (#17100)

 conf.d/50-user.conf | 1 +
 1 file changed, 1 insertion(+)

commit 4f468454d80bf4f1d256f084afd69cabecf1243e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 12 17:54:45 2008 -0400

    Update Thai default families (#16223)

    Patch from Theppitak Karoonboonyanan

 conf.d/65-nonlatin.conf | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 2e08e0f243633386b6441784926f928359c92453
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 12 17:52:02 2008 -0400

    [doc] Fix signatures of FcPatternGetFTFace and FcPatternGetLangSet
    (#16272)

 doc/fcpattern.fncs | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 317b849215ab16cfcd0dda0e424efc9216a74f28
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 12 16:34:24 2008 -0400

    Replace RCS Id tags with the file name

 config/Makedefs.in      | 2 +-
 config/install.sh       | 2 +-
 fc-cache/fc-cache.c     | 2 +-
 fc-cat/fc-cat.c         | 2 +-
 fc-lang/aa.orth         | 2 +-
 fc-lang/ab.orth         | 2 +-
 fc-lang/af.orth         | 2 +-
 fc-lang/am.orth         | 2 +-
 fc-lang/ar.orth         | 2 +-
 fc-lang/ast.orth        | 2 +-
 fc-lang/ava.orth        | 2 +-
 fc-lang/ay.orth         | 2 +-
 fc-lang/az.orth         | 2 +-
 fc-lang/az_ir.orth      | 2 +-
 fc-lang/ba.orth         | 2 +-
 fc-lang/bam.orth        | 2 +-
 fc-lang/be.orth         | 2 +-
 fc-lang/bg.orth         | 2 +-
 fc-lang/bh.orth         | 2 +-
 fc-lang/bho.orth        | 2 +-
 fc-lang/bi.orth         | 2 +-
 fc-lang/bin.orth        | 2 +-
 fc-lang/bn.orth         | 2 +-
 fc-lang/bo.orth         | 2 +-
 fc-lang/br.orth         | 2 +-
 fc-lang/bs.orth         | 2 +-
 fc-lang/bua.orth        | 2 +-
 fc-lang/ca.orth         | 2 +-
 fc-lang/ce.orth         | 2 +-
 fc-lang/ch.orth         | 2 +-
 fc-lang/chm.orth        | 2 +-
 fc-lang/chr.orth        | 2 +-
 fc-lang/co.orth         | 2 +-
 fc-lang/cs.orth         | 2 +-
 fc-lang/cu.orth         | 2 +-
 fc-lang/cv.orth         | 2 +-
 fc-lang/cy.orth         | 2 +-
 fc-lang/da.orth         | 2 +-
 fc-lang/de.orth         | 2 +-
 fc-lang/dz.orth         | 2 +-
 fc-lang/el.orth         | 2 +-
 fc-lang/en.orth         | 2 +-
 fc-lang/eo.orth         | 2 +-
 fc-lang/es.orth         | 2 +-
 fc-lang/et.orth         | 2 +-
 fc-lang/eu.orth         | 2 +-
 fc-lang/fa.orth         | 2 +-
 fc-lang/fc-lang.c       | 2 +-
 fc-lang/fc-lang.man     | 2 +-
 fc-lang/fclang.tmpl.h   | 2 +-
 fc-lang/fi.orth         | 2 +-
 fc-lang/fj.orth         | 2 +-
 fc-lang/fo.orth         | 2 +-
 fc-lang/fr.orth         | 2 +-
 fc-lang/ful.orth        | 2 +-
 fc-lang/fur.orth        | 2 +-
 fc-lang/fy.orth         | 2 +-
 fc-lang/ga.orth         | 2 +-
 fc-lang/gd.orth         | 2 +-
 fc-lang/gez.orth        | 2 +-
 fc-lang/gl.orth         | 2 +-
 fc-lang/gn.orth         | 2 +-
 fc-lang/gu.orth         | 2 +-
 fc-lang/gv.orth         | 2 +-
 fc-lang/ha.orth         | 2 +-
 fc-lang/haw.orth        | 2 +-
 fc-lang/he.orth         | 2 +-
 fc-lang/hi.orth         | 2 +-
 fc-lang/ho.orth         | 2 +-
 fc-lang/hr.orth         | 2 +-
 fc-lang/hu.orth         | 2 +-
 fc-lang/hy.orth         | 2 +-
 fc-lang/ia.orth         | 2 +-
 fc-lang/ibo.orth        | 2 +-
 fc-lang/id.orth         | 2 +-
 fc-lang/ie.orth         | 2 +-
 fc-lang/ik.orth         | 2 +-
 fc-lang/io.orth         | 2 +-
 fc-lang/is.orth         | 2 +-
 fc-lang/it.orth         | 2 +-
 fc-lang/iu.orth         | 2 +-
 fc-lang/ja.orth         | 2 +-
 fc-lang/ka.orth         | 2 +-
 fc-lang/kaa.orth        | 2 +-
 fc-lang/ki.orth         | 2 +-
 fc-lang/kk.orth         | 2 +-
 fc-lang/kl.orth         | 2 +-
 fc-lang/km.orth         | 2 +-
 fc-lang/kn.orth         | 2 +-
 fc-lang/ko.orth         | 2 +-
 fc-lang/kok.orth        | 2 +-
 fc-lang/ks.orth         | 2 +-
 fc-lang/ku.orth         | 2 +-
 fc-lang/ku_ir.orth      | 2 +-
 fc-lang/kum.orth        | 2 +-
 fc-lang/kv.orth         | 2 +-
 fc-lang/kw.orth         | 2 +-
 fc-lang/ky.orth         | 2 +-
 fc-lang/la.orth         | 2 +-
 fc-lang/lb.orth         | 2 +-
 fc-lang/lez.orth        | 2 +-
 fc-lang/ln.orth         | 2 +-
 fc-lang/lo.orth         | 2 +-
 fc-lang/lt.orth         | 2 +-
 fc-lang/lv.orth         | 2 +-
 fc-lang/mai.orth        | 2 +-
 fc-lang/mg.orth         | 2 +-
 fc-lang/mh.orth         | 2 +-
 fc-lang/mi.orth         | 2 +-
 fc-lang/mk.orth         | 2 +-
 fc-lang/ml.orth         | 2 +-
 fc-lang/mn.orth         | 2 +-
 fc-lang/mo.orth         | 2 +-
 fc-lang/mr.orth         | 2 +-
 fc-lang/mt.orth         | 2 +-
 fc-lang/my.orth         | 2 +-
 fc-lang/nb.orth         | 2 +-
 fc-lang/nds.orth        | 2 +-
 fc-lang/ne.orth         | 2 +-
 fc-lang/nl.orth         | 2 +-
 fc-lang/nn.orth         | 2 +-
 fc-lang/no.orth         | 2 +-
 fc-lang/nr.orth         | 2 +-
 fc-lang/nso.orth        | 2 +-
 fc-lang/ny.orth         | 2 +-
 fc-lang/oc.orth         | 2 +-
 fc-lang/om.orth         | 2 +-
 fc-lang/or.orth         | 2 +-
 fc-lang/os.orth         | 2 +-
 fc-lang/pa.orth         | 2 +-
 fc-lang/pl.orth         | 2 +-
 fc-lang/ps_af.orth      | 2 +-
 fc-lang/ps_pk.orth      | 2 +-
 fc-lang/pt.orth         | 2 +-
 fc-lang/rm.orth         | 2 +-
 fc-lang/ro.orth         | 2 +-
 fc-lang/ru.orth         | 2 +-
 fc-lang/sa.orth         | 2 +-
 fc-lang/sah.orth        | 2 +-
 fc-lang/sco.orth        | 2 +-
 fc-lang/se.orth         | 2 +-
 fc-lang/sel.orth        | 2 +-
 fc-lang/sh.orth         | 2 +-
 fc-lang/shs.orth        | 2 +-
 fc-lang/si.orth         | 2 +-
 fc-lang/sk.orth         | 2 +-
 fc-lang/sl.orth         | 2 +-
 fc-lang/sm.orth         | 2 +-
 fc-lang/sma.orth        | 2 +-
 fc-lang/smj.orth        | 2 +-
 fc-lang/smn.orth        | 2 +-
 fc-lang/sms.orth        | 2 +-
 fc-lang/so.orth         | 2 +-
 fc-lang/sq.orth         | 2 +-
 fc-lang/sr.orth         | 2 +-
 fc-lang/ss.orth         | 2 +-
 fc-lang/st.orth         | 2 +-
 fc-lang/sv.orth         | 2 +-
 fc-lang/sw.orth         | 2 +-
 fc-lang/syr.orth        | 2 +-
 fc-lang/ta.orth         | 2 +-
 fc-lang/te.orth         | 2 +-
 fc-lang/tg.orth         | 2 +-
 fc-lang/th.orth         | 2 +-
 fc-lang/ti_er.orth      | 2 +-
 fc-lang/ti_et.orth      | 2 +-
 fc-lang/tig.orth        | 2 +-
 fc-lang/tk.orth         | 2 +-
 fc-lang/tl.orth         | 2 +-
 fc-lang/tn.orth         | 2 +-
 fc-lang/to.orth         | 2 +-
 fc-lang/tr.orth         | 2 +-
 fc-lang/ts.orth         | 2 +-
 fc-lang/tt.orth         | 2 +-
 fc-lang/tw.orth         | 2 +-
 fc-lang/tyv.orth        | 2 +-
 fc-lang/ug.orth         | 2 +-
 fc-lang/uk.orth         | 2 +-
 fc-lang/ur.orth         | 2 +-
 fc-lang/uz.orth         | 2 +-
 fc-lang/ven.orth        | 2 +-
 fc-lang/vi.orth         | 2 +-
 fc-lang/vo.orth         | 2 +-
 fc-lang/vot.orth        | 2 +-
 fc-lang/wa.orth         | 2 +-
 fc-lang/wen.orth        | 2 +-
 fc-lang/wo.orth         | 2 +-
 fc-lang/xh.orth         | 2 +-
 fc-lang/yap.orth        | 2 +-
 fc-lang/yi.orth         | 2 +-
 fc-lang/yo.orth         | 2 +-
 fc-lang/zh_cn.orth      | 2 +-
 fc-lang/zh_hk.orth      | 2 +-
 fc-lang/zh_mo.orth      | 2 +-
 fc-lang/zh_sg.orth      | 2 +-
 fc-lang/zh_tw.orth      | 2 +-
 fc-lang/zu.orth         | 2 +-
 fc-list/fc-list.c       | 2 +-
 fc-match/fc-match.c     | 2 +-
 fontconfig/fcfreetype.h | 2 +-
 fontconfig/fcprivate.h  | 2 +-
 fontconfig/fontconfig.h | 2 +-
 src/fcatomic.c          | 2 +-
 src/fcblanks.c          | 2 +-
 src/fccfg.c             | 2 +-
 src/fccharset.c         | 2 +-
 src/fcdbg.c             | 2 +-
 src/fcdefault.c         | 2 +-
 src/fcdir.c             | 2 +-
 src/fcfreetype.c        | 2 +-
 src/fcfs.c              | 2 +-
 src/fcinit.c            | 2 +-
 src/fcint.h             | 2 +-
 src/fclang.c            | 2 +-
 src/fclist.c            | 2 +-
 src/fcmatch.c           | 2 +-
 src/fcmatrix.c          | 2 +-
 src/fcname.c            | 2 +-
 src/fcstr.c             | 2 +-
 src/fcxml.c             | 2 +-
 220 files changed, 220 insertions(+), 220 deletions(-)

commit aef608efed2feb867128e528cd9d39ee7e10a0ac
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 12 16:11:29 2008 -0400

    Add orth file for Maithili mai.orth (#15821)

 fc-lang/mai.orth | 25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 1bcf4ae5f2348d7956c435d34f2856ebfaccd6c8
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 12 15:10:04 2008 -0400

    When canonizing filenames, squash // and remove final / (#bug 16286)

    The fact that we now drop final slashes from all filenames without
    checking that the file name represents a directory may surprise some,
    but it doesn't bother me really.

 src/fcstr.c | 3 +++
 1 file changed, 3 insertions(+)

commit b21bea3731106ef30224f9255c4232d6e2607803
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 12 14:32:40 2008 -0400

    [doc] Fix inaccuracy in FcFontRenderPrepare docs (#16985)

 doc/fcconfig.fncs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e04afe83de409b880be9a854b34fb624bca5c3b0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Tue Aug 12 14:10:03 2008 -0400

    Avoid C99ism in Win32 code (#16651)

 src/fccfg.c | 3 ++-
 src/fcxml.c | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit f7364e6273df6f660e6b01ea5189e88b34ba4602
Author: Benjamin Close <Benjamin.Close@clearchain.com>
Date:   Thu Feb 12 10:23:40 2009 +1030

    Remove build manpage logfile if it exists

 doc/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 0e21b5a4d5609a5dd0f332b412d878b6f1037d29
Author: Peter <pva@gentoo.org>
Date:   Sun Jun 22 09:21:05 2008 -0700

    Make sure alias files are built first (bug 16464)

    Signed-off-by: Keith Packard <keithp@keithp.com>

 fc-case/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a93b4c2aab1d79573abd646147596a8a34b19350
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 31 19:24:35 2008 -0700

    Bump version to 2.6.0

 README                  | 6 ++++--
 configure.in            | 2 +-
 fontconfig/fontconfig.h | 4 ++--
 3 files changed, 7 insertions(+), 5 deletions(-)

commit d0902ee0867bd11e4ff266876a69c258eee8d08d
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 24 17:52:41 2008 -0700

    Bump version to 2.5.93

 README                  | 34 ++++++++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 34 insertions(+), 4 deletions(-)

commit 8ade2369238a0b439192a847f12fcc9748a6d73a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 24 17:14:24 2008 -0700

    Ignore empty <dir></dir> elements

    An empty element would cause every file starting with the current
    directory to be scanned, probably not what the user wanted.

 src/fcxml.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 83c5c357abc8d626680943537b4dbc020d6c378c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 24 17:01:12 2008 -0700

    Oops. Fix for bug 15928 used wrong path for installed fc-cache.

    fc-cache lives in $(bindir)/fc-cache, not $(bindir)/fc-cache/fc-cache.

 Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e91e7efd7b0e0ca6f9f2e718541f99331447b40a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 24 16:32:27 2008 -0700

    Libs.private needs freetype libraries

    To make static linking work, fontconfig.pc needs @FREETYPE_LIBS@ in
    Libs.private.

 fontconfig.pc.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ad3fc667914d19435ade56adc8afe584d5605d10
Author: Sayamindu Dasgupta <sayamindu@gmail.com>
Date:   Sat May 24 16:15:27 2008 -0700

    FcConfigUptoDate breaks if directory mtime is in the future. Bug
    14424.

    At OLPC, we came across a bug where the Browse activity (based
    on xulrunner)
    took 100% CPU after an upgrade/. It turns out the Mozilla uses
    FcConfigUptoDate() to check if new fonts have been added to the
    system, and
    this function was always returning FcFalse since we have the mtimes
    of some
    font directories set in the future. The attached patch makes
    FcConfigUptoDate() print a warning and return FcTrue if mtime of
    directories
    are in the future.

 src/fccfg.c | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit b808204023ab47eb06dc520665eb7a0473320a9b
Author: Evgeniy Stepanov <eugeni.stepanov@gmail.com>
Date:   Sat May 24 16:09:17 2008 -0700

    Fix index/offset for 'decorative' matcher. Bug 15890.

    It seems indices in _FcMatchers array are slightly mixed up,
    MATCH_DECORATIVE
    should be 10, not 11.

    And MATCH_RASTERIZER_INDEX should be 13, not 12, right?

 src/fcmatch.c | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit c6228a34b0ebaab3df395163b3b9246da2aa7d8c
Author: Glen Low <glen.low@pixelglow.com>
Date:   Sat May 24 15:59:35 2008 -0700

    Fix Win32 build error: install tries to run fc-cache locally
    (bug 15928).

    When building in Win32 e.g. with MinGW, the install tries to run
    fc-cache
    locally but the required DLL's are not in the path. I've included
    a patch for
    this to fix Makefile.in to run fc-cache from bindir but obviously
    this should
    be applied to Makefile.am instead.

    (the second part of this patch was already in the tree)

 Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 557f87f7337df1d78c04d2c993916d1d1748360f
Author: Neskie Manuel <neskiem@gmail.com>
Date:   Sat May 24 15:51:41 2008 -0700

    Add Secwepemctsin Orthography. Bug 15996.

 fc-lang/shs.orth | 48 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit a572f547fd46bf169b617108552ab0fa280f4813
Author: Behdad Esfahbod <freedesktop@behdad.org>
Date:   Sat May 24 15:48:00 2008 -0700

    Persian conf update. (bug 16066).

 conf.d/40-nonlatin.conf      | 37 +++++++++++++++++++++++++++++++++++++
 conf.d/65-fonts-persian.conf | 24 ++++++++++++++++++++----
 2 files changed, 57 insertions(+), 4 deletions(-)

commit 0faca4ff826c214c5c5bb0ff7e64a09802230f9d
Author: Alexey Khoroshilov <khoroshilov@linuxtesting.org>
Date:   Sat May 24 15:44:00 2008 -0700

    Fix FcStrDirname documentation. (bug 16068)

    Description of FcStrDirname is absent in the official documentation of
    fontconfig-2.5.92. At the same time the source documentation contains
    description of the function.

    The problem is a consequence of a misprint in the format of the source
    documentation file 'fcstring.fncs'. The finish mark of description
    of the
    previous function is absent.

 doc/fcstring.fncs | 1 +
 1 file changed, 1 insertion(+)

commit 4dfb4aa1d4e1a3195d6f2f6873cb48d1d739a1bd
Author: Keith Packard <keithp@keithp.com>
Date:   Mon May 5 08:30:44 2008 -0700

    Add a copy of dolt.m4 to acinclude.m4.

    An ancient version of dolt.m4 was installed on my system leading to
    a broken
    build on non-Linux systems.

 acinclude.m4 | 137
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 137 insertions(+)

commit 8d0139b0e68b081c9cdbeaa025fb278105ebf50c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 19:08:31 2008 -0700

    Freetype 2.3.5 (2007-jul-02) fixes indic font hinting. re-enable
    (bug 15822)

    Autohinting for Indic fonts has been disabled since freetype could
    not handle
    it properly. But since freetype-2.3.5, the hinting problems for
    indic fonts
    have been fixed. Thus this is a request to enable the autohinting in
    fontconfig again for all the indic fonts.

 conf.d/25-unhint-nonlatin.conf | 119
 -----------------------------------------
 1 file changed, 119 deletions(-)

commit 3a3f687b759ceb76fc1e6407980a4b2717a47219
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 01:27:42 2008 -0700

    Add extended, caps, dunhill style mappings.

    extended -> expanded.
    caps, dunhill -> decorative

 src/fcfreetype.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 13a14cbf56d56c14d53e5f55d7fcc4bdec900994
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 01:26:40 2008 -0700

    Fix a few memory tracking mistakes.

    The built-in memory tracking code in fontconfig relies on a lot
    of manual
    function call tracking. A pain, but it helps debug leaks.

 src/fcatomic.c  | 2 +-
 src/fccharset.c | 6 ++++++
 src/fcinit.c    | 2 ++
 src/fcpat.c     | 2 +-
 src/fcstr.c     | 9 +++++++--
 5 files changed, 17 insertions(+), 4 deletions(-)

commit c6c9400d67ffefa95100d03e6650ea901b05116b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 01:25:04 2008 -0700

    Call FcFini to make memory debugging easier

    FcFini frees all libary data structures so valgrind should report 0
    allocations in use when the program exits.

 fc-cache/fc-cache.c | 1 +
 1 file changed, 1 insertion(+)

commit d33d23ada05a688046e4cc0a48b149fbf44c9ce3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 20:39:07 2008 -0700

    Bump version to 2.5.92

 README                  | 40 ++++++++++++++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 40 insertions(+), 4 deletions(-)

commit 366887c3845973a6f81dd2e9e7aec60afbc61c32
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 20:38:29 2008 -0700

    git ignore doltcompile

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 0b15b5f38b94ca1eda2b8b25de939776198c017a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 20:37:49 2008 -0700

    Allow for RC versions in README update

 new-version.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 19d124dc4f9a68e1c9ddce58bf79a5e11d2ccbfd
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 20:23:37 2008 -0700

    Deal with libtool 2.2 which doesn't let us use LT_ variables. (bug
    15692)

    Libtool-2.2 introduces new restrictions. So now it does not allow LT_*
    variables as it includes marcros:

    m4_pattern_forbid([^_?LT_[A-Z_]+$])

    Rename the LT_ variables to LIBT_ to work around this restriction.

 configure.in      | 18 +++++++++---------
 fontconfig-zip.in |  2 +-
 src/Makefile.am   |  6 +++---
 3 files changed, 13 insertions(+), 13 deletions(-)

commit 0028f72bc818ca3bc343383fb644765ae12ce769
Author: Carlo Bramini <carlo.bramix@libero.it>
Date:   Sat May 3 20:17:16 2008 -0700

    Add FreeType-dependent functions to fontconfig.def file. (bug 15415)

    With PUBLIC_FILES no longer containing the freetype-dependent
    symbols, those
    must be added to the fontconfig.def file build process.

 src/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bdbc26f3d970581a3248c245451f7fbfb1609601
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 20:14:07 2008 -0700

    Make fc-match behave better when style is unknown (bug 15332)

 fc-match/fc-match.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3322ca855330631e0d849e6beca0c2d82390898f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 20:07:35 2008 -0700

    Use of ":=" in src/Makefile.am is unportable (bug 14420)

    Building 2.5.91 on Solaris with the native make(1) yields

    ...
    Making all in src
    make: Fatal error in reader: Makefile, line 313: Unexpected end of
    line seen
    Current working directory /tmp/fontconfig-2.5.91/src
    *** Error code 1

    This is due to the following line (src/Makefile.am:143):

        CLEANFILES := $(ALIAS_FILES)

    Changing that to a standard assignment ("=") fixes the problem.

    I believe the ":=" is a typo. ALIAS_FILES is just a statically
    assigned
    variable; it's not like evaluating it more than once would be
    a problem.

 src/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit df8ceebdbe735226bef602614921d517321c690f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 20:06:48 2008 -0700

    Remove doltcompile in distclean

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9ffa2fa7efa7815b8808e744c3601631fe1810d7
Author: Ryan Schmidt <freedesktop-2008@ryandesign.com>
Date:   Sat May 3 19:49:07 2008 -0700

    fontconfig build fails if "head" is missing or unusable (bug 14304)

    If the /usr/bin/head program is missing or unusable, or if an
    unusable head
    program is listed first in the PATH, fontconfig fails to build

    using "sed -n 1p" instead of "head -1" would be a suitable workaround.

 src/makealias | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6d65081e35fc1ffae1212f173853b0693645192e
Author: Dennis Schridde <lindevel@gmx.net>
Date:   Sat May 3 19:45:31 2008 -0700

    Proper config path for static libraries in win32

    Since fontconfig didn't have special handling for paths in static
    Windows
    libraries, I've created a patch which should fix this.

    Basically it does this:
    fccfg.c:
    If fontconfig_path was uninitialised it tries to get the directory
    the exe is
    in and uses a fonts/ dir inside that.
    fcxml.c:
    In case the fonts.conf lists a <dir>CUSTOMFONTDIR</dir>, it searches
    for a
    fonts/ directory where the exe is located.

 src/fccfg.c | 26 +++++++++++++++++++++-----
 src/fcxml.c | 22 +++++++++++++++++++++-
 2 files changed, 42 insertions(+), 6 deletions(-)

commit ae6fac08029bce11487d2d20184b1cabb4e0ec34
Author: Changwoo Ryu <cwryu@debian.org>
Date:   Sat May 3 19:39:56 2008 -0700

    Korean font in the default config - replacing baekmuk with un
    (bug 13569)

    I propose to replace the default Baekmuk Korean fonts with Un fonts.

    Some people don't agree but most Korean people prefer Un fonts
    to Baekmuk
    ones.  Un fonts just look better, at least in the most common Linux
    desktops
    (antialiased, GNOME or KDE, high resolution).

 conf.d/40-nonlatin.conf | 2 ++
 conf.d/65-nonlatin.conf | 4 ++++
 2 files changed, 6 insertions(+)

commit 53aec111074cf7b46d15eb84a55791d3c95bc15e
Author: Sylvain Pasche <sylvain.pasche@gmail.com>
Date:   Sat May 3 19:33:45 2008 -0700

    Fontconfig options for freetype sub-pixel filter configuration

    David Turner has modified FreeType to be able to render sub-pixel
    decimated
    glyphs using different methods of filtering. Fontconfig needs new
    configurables to support selecting these new filtering options. A
    patch
    follows that would correspond to one available for Cairo in bug 10301.

 doc/fontconfig-devel.sgml | 1 +
 doc/fontconfig-user.sgml  | 5 +++++
 fontconfig/fontconfig.h   | 9 ++++++++-
 src/fcint.h               | 3 ++-
 src/fcname.c              | 7 ++++++-
 5 files changed, 22 insertions(+), 3 deletions(-)

commit c26344ecfc1d3b85671f5d948a10d5cc27c21c2f
Author: Frederic Crozat <fcrozat@mandriva.com>
Date:   Sat May 3 19:26:09 2008 -0700

    Merge some of Mandriva configuration into upstream configuration. Bug
    13247

    This is merging some parts of Mandriva fontconfig changes, mostly
    adding and
    documenting fonts to common aliases.

 conf.d/25-unhint-nonlatin.conf | 20 +++++++++++
 conf.d/60-latin.conf           |  3 ++
 conf.d/65-nonlatin.conf        | 81
 ++++++++++++++++++++++++++++++++++++++----
 conf.d/69-unifont.conf         |  4 +++
 4 files changed, 101 insertions(+), 7 deletions(-)

commit c014142a207d6f3ac63580dfb0cacb243776f7c5
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 19:09:57 2008 -0700

    Add --all flag to fc-match to show the untrimmed list. Bug 13018.

 fc-match/fc-match.c | 18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 8415442f9bb8ad624c9940adf187390468c70548
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 18:04:32 2008 -0700

    Add some sample cursive and fantasy families.

 conf.d/45-latin.conf | 20 ++++++++++++++++++++
 conf.d/60-latin.conf | 24 ++++++++++++++++++++++++
 2 files changed, 44 insertions(+)

commit 73e8ae3ac8890af2dd8dd769686e2d34b749e3d0
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 17:43:39 2008 -0700

    Remove size and dpi values from bitmap fonts. Bug 8765.

    The only relevant information is the pixel size; don't report
    anything else.

 src/fcfreetype.c | 34 ----------------------------------
 1 file changed, 34 deletions(-)

commit 60421f5d68e81478430c2d9c796eedbf6d43b3cf
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 17:19:43 2008 -0700

    Work around for bitmap-only TrueType fonts that are missing the
    glyf table.

    Bitmap-only TrueType fonts without a glyf table will not load a
    glyph when
    FT_LOAD_NO_SCALE is set. Work around this by identifying TrueType
    fonts that have no
    glyphs and select a single strike to measure the glyph map with.

 src/fcfreetype.c | 58
 +++++++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 51 insertions(+), 7 deletions(-)

commit ef9db2e2d286c4c26a2cb06aef14d175c33d0898
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 3 17:18:01 2008 -0700

    Use DOLT if available

 configure.in | 1 +
 1 file changed, 1 insertion(+)

commit ba884599133e444b5f6d0b9b6981079cf8059b9f
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Apr 18 11:52:41 2008 -0700

    Fix build with !ENABLE_DOCS and no built manpages.

 fc-cache/Makefile.am | 8 ++++++--
 fc-cat/Makefile.am   | 8 ++++++--
 fc-list/Makefile.am  | 8 ++++++--
 fc-match/Makefile.am | 8 ++++++--
 4 files changed, 24 insertions(+), 8 deletions(-)

commit 0dffe625d43c1165f8b84f97e8ba098793e2cf7b
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 10 10:58:25 2008 -0800

    Bump version to 2.5.91

 README                  | 26 ++++++++++++++++++++++----
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 24 insertions(+), 6 deletions(-)

commit b2cbf483ab520ff21ca2152f960498d181613608
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 10 10:58:22 2008 -0800

    git-tag requires space after -m flag

 new-version.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51f1536479064c2d224860c15271a9b14c87fd62
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 10 10:56:52 2008 -0800

    new-version.sh was mis-editing files

 new-version.sh | 19 ++++++++-----------
 1 file changed, 8 insertions(+), 11 deletions(-)

commit 554dc2e7b7e3c1cb6409d0cd786cfbea480fcf69
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 10 10:48:00 2008 -0800

    Add more files to .gitignore

 .gitignore | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 94d4f51d854f33b158e7eef2df75a5b21e95fb27
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 10 10:43:33 2008 -0800

    Distribute khmer font aliases

 conf.d/65-khmer.conf | 16 ++++++++++++++++
 conf.d/Makefile.am   |  1 +
 2 files changed, 17 insertions(+)

commit fba7c37f98658e3ee94bb454868885b7f3a8ec5e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 10 10:40:41 2008 -0800

    Create new-version.sh to help with releases, update INSTALL
    instructions

 INSTALL        |  36 +++++------------
 new-version.sh | 121
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 131 insertions(+), 26 deletions(-)

commit ad43ccaafa4f987b982afa2fff07ee8003c51a81
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 10 08:58:57 2008 -0800

    Distribute new fcftint.h file

 src/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 32fed4572754c2d484cd1605ff273c3fbfbd09bb
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 8 12:34:19 2008 -0800

    Eliminate references to freetype from utility Makefile.am's

    The utility programs don't use any freetype interfaces, so they
    don't need to directly refer to freetype headers or libraries.

 fc-cache/Makefile.am | 4 ++--
 fc-cat/Makefile.am   | 4 ++--
 fc-list/Makefile.am  | 4 ++--
 fc-match/Makefile.am | 4 ++--
 4 files changed, 8 insertions(+), 8 deletions(-)

commit a0a1da22a4a8e66e47e2ec8ac0515741b8ad7a7f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jan 7 16:31:06 2008 -0800

    Include fcftaliastail.h so that the freetype funcs are exported.

    This header file needs to be included at the end of every file that
    exports any freetype symbols.

 src/fcfreetype.c | 1 +
 src/fclang.c     | 1 +
 src/fcpat.c      | 1 +
 3 files changed, 3 insertions(+)

commit dbd065ad312921308add99fc4cb31457d9045e6a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jan 2 08:47:14 2008 -0800

    Remove freetype requirement for build-time applications.

    This avoids requiring the freetype development files when cross
    compiling

 fc-arch/Makefile.am      |  2 +-
 fc-case/Makefile.am      |  2 +-
 fc-glyphname/Makefile.am |  2 +-
 fc-lang/Makefile.am      |  2 +-
 src/Makefile.am          | 13 +++++++++---
 src/fcfreetype.c         |  1 +
 src/fcftint.h            | 54
 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h              | 18 +---------------
 src/fclang.c             |  1 +
 src/fcpat.c              |  1 +
 src/makealias            |  6 ++++--
 11 files changed, 76 insertions(+), 26 deletions(-)

commit 0aa5fbaa0df9d6c7bee8e0839dd443de9c48a402
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 23 14:06:41 2007 -0800

    Fix OOM failure case in FcPStackPush.

    When allocation for the node attributes fail, clean up the node
    allocation
    and report failure.

 src/fcxml.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 0f7870887adff6db3cffda5485418143f2bfa1f6
Author: Hongbo Zhao <hongbo.zhao@gmail.com>
Date:   Wed Dec 12 21:47:33 2007 -0800

    Not_contain should use strstr, not strcmp on strings. (bug 13632)

    For Version 2.5.0, (same for previous version 2.4.2), in source
    file fccfg.c,
    on line 700,

    Original:
          ret = FcStrCmpIgnoreCase (left.u.s, right.u.s) == 0;

    Should change to:
          ret = FcStrStrIgnoreCase (left.u.s, right.u.s) == 0;

    I think this is just a mistake when copy-n-paste similar codes in
    the same
    function. Apparently, return for "Not_contain" should be just the
    inverse of
    "Contain", not the same as "Equal".

 src/fccfg.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6e5d2cb931f11f0aba8d187e49ddc7cc92a5be85
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 25 16:35:55 2007 -0800

    Move conf.avail/README to conf.d/README (bug 13392)

    Because conf.d is where most people look first.  And the comment at
    the top
    of the README file says conf.d/README too.

 conf.d/Makefile.am | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 8a0bd93e8a81b105206c1433e2da55b1acef1070
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Nov 13 18:56:44 2007 -0800

    Bump version number to 2.5

 README                  | 15 +++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  4 ++--
 3 files changed, 16 insertions(+), 5 deletions(-)

commit 8a3dc4880c1182ea446cdbc0885e956c6517cf83
Author: Tor Lillqvist <tml@iki.fi>
Date:   Tue Nov 13 16:41:55 2007 -0800

    Workaround for stat() brokenness in Microsoft's C library (bug 8526)

    Fix a couple of longstanding problems with fontconfig on Windows that
    manifest themselves especially in GIMP. The root cause to the problems
    is in
    Microsoft's incredibly stupid stat() implementation. Basically, stat()
    returns wrong timestamp fields for files on NTFS filesystems on
    machines
    that use automatic DST switching.

    See for instance http://bugzilla.gnome.org/show_bug.cgi?id=154968 and
    http://www.codeproject.com/datetime/dstbugs.asp

    As fccache.c now looks at more fields in the stat struct I fill in
    them all.
    I noticed that fstat() is used only on a fd just after opening it,
    so on
    Win32 I just call my stat() replacement before opening instead...
    Implementing a good replacement for fstat() would be harder because
    the code
    in fccache.c wants to compare inode numbers. There are no (readily
    accessible) inode numbers on Win32, so I fake it with the hash of
    the full
    file name, in the case as it is on disk. And fstat() doesn't know
    the full
    file name, so it would be rather hard to come up with a inode
    number to
    identify the file.

    The patch also adds similar handling for the cache directory as for
    the fonts
    directory: If a cachedir element in fonts.conf contains the magic
    string
    "WINDOWSTEMPDIR_FONTCONFIG_CACHE" it is replaced at runtime with a
    path under
    the machine's (or user's) temp folder as returned by GetTempPath(). I
    don't
    want to hardcode any pathnames in a fonts.conf intended to be
    distributed to
    end-users, most of which who wouldn't know how to edit it anyway. And
    requiring an installer to edit it gets complicated.

 configure.in         |  6 +++-
 fc-cache/Makefile.am |  3 ++
 src/fccache.c        | 93
 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/fcxml.c          | 24 ++++++++++++++
 4 files changed, 124 insertions(+), 2 deletions(-)

commit 1315db01b626aedd27e3e05bde96ce46c253629b
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Nov 13 15:48:30 2007 -0800

    Revert "Remove fcprivate.h, move the remaining macros to fcint.h."

    This reverts commit b607922909acfc7ae96de688ed34efd19cd038ac.

    Conflicts:

            src/Makefile.am

    Xft still uses the macros that are in fcprivate.h. Document those
    macros and
    include fcprivate.h in the published header files.

 doc/check-missing-doc   |   1 +
 doc/fcobjectset.fncs    |  11 +++++
 doc/fcpattern.fncs      |  12 ++++-
 fontconfig/Makefile.am  |   3 +-
 fontconfig/fcprivate.h  | 123
 ++++++++++++++++++++++++++++++++++++++++++++++++
 fontconfig/fontconfig.h |   2 +-
 src/Makefile.am         |   3 +-
 src/fcint.h             |  95 +------------------------------------
 8 files changed, 152 insertions(+), 98 deletions(-)

commit eaf4470a465cbfb95e2ba4df017d45f7b1d9c131
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Nov 13 15:16:58 2007 -0800

    Document that FcConfigGetFonts returns the internal fontset (bug
    13197)

    FcConfigGetFonts returns the internal font set used by the library
    which
    must not be freed by the application or 'bad things' will happen.

 doc/fcconfig.fncs | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3fb38716aefef0fac300dee059403c04c1cbaa6c
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Nov 13 15:11:35 2007 -0800

    Document that Match calls FcFontRenderPrepare (bug 13162).

    The behaviour of FcFontMatch and FcFontSetMatch is hard to understand
    without
    knowing that they call FcFontRenderPrepare.

 doc/fcconfig.fncs  | 12 ++++++++----
 doc/fcfontset.fncs | 12 ++++++++----
 2 files changed, 16 insertions(+), 8 deletions(-)

commit fab44f3cb63dc8bd1285dcbd6ad4f1f468f91daf
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Nov 13 14:58:39 2007 -0800

    Document several function return values (Bug 13145).

    Several functions had no indication of what the return value would be,
    mostly these were allocation failure returns.

 doc/fcatomic.fncs     |  4 +++-
 doc/fcconfig.fncs     | 21 ++++++++++++++-------
 doc/fcconstant.fncs   |  8 ++++++--
 doc/fcfile.fncs       | 28 +++++++++++++++-------------
 doc/fcfontset.fncs    |  3 ++-
 doc/fcinit.fncs       |  7 +++++--
 doc/fcobjectset.fncs  |  3 ++-
 doc/fcobjecttype.fncs |  6 ++++--
 8 files changed, 51 insertions(+), 29 deletions(-)

commit ed7955a58f93927eb304ecf8d4d5274dbdc2362b
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Mon Nov 5 16:08:55 2007 -0800

    Fix parallel build in doc directory.

    docbook2man has fixed output file names; place output in a
    subdirectory to
    avoid collisions.

 doc/Makefile.am | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 37e9d33950df03f76b6938ae5675ecfc853eb903
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Mon Nov 5 15:52:45 2007 -0800

    Update version numbers to 2.4.92 (2.5 RC2)

 README                  | 49
 +++++++++++++++++++++++++++++++++++++++++++++++--
 fontconfig/fontconfig.h |  2 +-
 2 files changed, 48 insertions(+), 3 deletions(-)

commit a504f6b5394b96d2c6a24772b61705227a8e88ab
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 18:12:51 2007 -0500

    Simplify/improve 30-metric-aliases.conf

 conf.d/30-metric-aliases.conf | 192
 ++++++++++++++++++++++++------------------
 1 file changed, 109 insertions(+), 83 deletions(-)

commit cbff442c69bfbb6895f5033dfcda325c0508cb3f
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 17:07:36 2007 -0500

    Remove list of available conf files from README.
    It was redundant and out-dated.

 conf.d/README | 29 +----------------------------
 1 file changed, 1 insertion(+), 28 deletions(-)

commit 0294bda4800b94828b59139e6205730c74261c40
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 17:05:36 2007 -0500

    Fix documented conf-file naming format in README

 conf.d/README | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 07d04da76c4009552866ae0d2f85659186ef77d6
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 17:01:44 2007 -0500

    Remove 25-unhint-nonlatin.conf from default configuration by not
    linking it.

 conf.d/Makefile.am | 1 -
 1 file changed, 1 deletion(-)

commit 9bac30859b9b2b532b9028dc6fe1730b87e95686
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 16:46:19 2007 -0500

    Oops, fix Makefile.am.

 conf.d/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 93b4049c9ac6283fbf05a2a414ff3b4edaef822e
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 16:43:49 2007 -0500

    Remove 20-lohit-gujarati.conf.  It's covered by
    25-unhint-nonlatin.conf now.

 conf.d/20-lohit-gujarati.conf | 11 -----------
 conf.d/Makefile.am            |  2 --
 2 files changed, 13 deletions(-)

commit 7465091fa90753440ed775de5783387bc4fd9cc4
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 16:43:14 2007 -0500

    Remove redundant/obsolete comments from conf files.

    Conf files had an initial comment mentioning the files' name.
    This was outdated and wrong in most cases.  There's no real use
    in that.

 conf.d/10-autohint.conf          | 1 -
 conf.d/10-no-sub-pixel.conf      | 1 -
 conf.d/10-sub-pixel-bgr.conf     | 1 -
 conf.d/10-sub-pixel-rgb.conf     | 1 -
 conf.d/10-sub-pixel-vbgr.conf    | 1 -
 conf.d/10-sub-pixel-vrgb.conf    | 1 -
 conf.d/10-unhinted.conf          | 1 -
 conf.d/20-fix-globaladvance.conf | 1 -
 conf.d/20-unhint-small-vera.conf | 1 -
 conf.d/25-unhint-nonlatin.conf   | 1 -
 conf.d/30-metric-aliases.conf    | 1 -
 conf.d/30-urw-aliases.conf       | 1 -
 conf.d/50-user.conf              | 1 -
 conf.d/51-local.conf             | 1 -
 conf.d/65-fonts-persian.conf     | 1 -
 conf.d/70-no-bitmaps.conf        | 1 -
 conf.d/70-yes-bitmaps.conf       | 1 -
 conf.d/80-delicious.conf         | 1 -
 18 files changed, 18 deletions(-)

commit 531a143858aa1b5c82ee20bdacc292c0a31b6cfb
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 16:40:25 2007 -0500

    Use binding="same" in 30-urw-aliases.conf and remove duplicate
    entries.

    Times, Helvetical, and Courier are already handled in
    30-metric-aliases.conf.
    Remove them here and add a comment instead.

 conf.d/30-urw-aliases.conf | 27 ++++++++-------------------
 1 file changed, 8 insertions(+), 19 deletions(-)

commit 4b51f173c99152586db26b03752873a4b4020672
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 16:36:55 2007 -0500

    Split 40-generic.conf into 40-nonlatin.conf and 45-latin.conf

 conf.d/40-nonlatin.conf                   | 51
 +++++++++++++++++++++++++++++++
 conf.d/{40-generic.conf => 45-latin.conf} | 24 ---------------
 conf.d/Makefile.am                        |  6 ++--
 conf.d/README                             |  5 +--
 4 files changed, 58 insertions(+), 28 deletions(-)

commit 39968fb223bf2eeb5502553c8d316dc4914a32ba
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 16:14:35 2007 -0500

    Add/update config files from Fedora.

 conf.d/25-unhint-nonlatin.conf | 228
 +++++++++++++++++++++++++++++++++++++++++
 conf.d/30-amt-aliases.conf     |  21 ----
 conf.d/30-metric-aliases.conf  | 186 +++++++++++++++++++++++++++++++++
 conf.d/40-generic.conf         |  22 +++-
 conf.d/65-nonlatin.conf        |  45 ++++++++
 conf.d/Makefile.am             |   6 +-
 conf.d/README                  |   3 +-
 7 files changed, 483 insertions(+), 28 deletions(-)

commit cf223cc7bcae94e839d7ac1e980f289cca5199b0
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 15:29:44 2007 -0500

    Add FcGetLangs() and FcLangGetCharSet().

 doc/fclangset.fncs      | 16 ++++++++++++++++
 fontconfig/fontconfig.h |  6 ++++++
 src/fcint.h             |  3 ---
 src/fclang.c            | 20 ++++++++++++++++++--
 4 files changed, 40 insertions(+), 5 deletions(-)

commit 811995b79db16be39046dbbffcc5a7d66f88b731
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Mon Nov 5 15:29:03 2007 -0500

    Fix trivial bugs in edit-sgml.c

 doc/edit-sgml.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit de1faa42d1425f80366707a730ea919c57e57b2f
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Nov 4 12:20:45 2007 -0800

    Export FcConfig{G,S}etRescanInverval from .so, mark as deprecated.

    These two names are typos of the correct names. Instead of simply
    changing
    them, the correct thing to do is leave them in the library, add
    the correct
    functions and mark them as deprecated so any source packages will
    be updated.

    This requires bumping the minor version of the library (for adding
    APIs)
    instead of bumping the major version of the library (for removing
    APIs).

 configure.in            |  6 +++---
 fontconfig/fontconfig.h | 13 +++++++++++++
 src/Makefile.am         |  5 +++--
 src/fccfg.c             | 16 ++++++++++++++++
 src/fcdeprecate.h       | 36 ++++++++++++++++++++++++++++++++++++
 src/fcint.h             |  1 +
 6 files changed, 72 insertions(+), 5 deletions(-)

commit 69d3eb9cb8e58ab771170f68868748204a4793ab
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 23:43:48 2007 -0700

    Ignore new generated documentation

 .gitignore | 3 +++
 1 file changed, 3 insertions(+)

commit dc7b6f1d79b5508706be9242b79180727701e54f
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 23:42:32 2007 -0700

    Link new function documentation into the fontconfig-devel.sgml

 doc/fontconfig-devel.sgml | 31 +++++++++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit dac27f2f1a766b042487827c726b3ccae147d282
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 23:41:38 2007 -0700

    Formatting syntax mistake in doc/fclangset.fncs.

    <parameter>ls</function> needed to be <parameter>ls</parameter>.

 doc/fclangset.fncs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9bfb41ffefe41c90c8b16e155e04e6c6a5a2c1fd
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 23:23:55 2007 -0700

    Generate fccache.sgml, fcdircache.sgml and fclangset.sgml.

    Just adding the .fncs versions doesn't get these files generated.

 doc/Makefile.am | 3 +++
 1 file changed, 3 insertions(+)

commit bfdc0047c670b0ac38bf050bbb81e0ef7299aa1f
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 23:23:09 2007 -0700

    Fix formatting syntax in doc/fccache.fncs

 doc/fccache.fncs | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f2772d6b45bcfc27618968fdbb08dcc50a18be22
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 23:03:11 2007 -0700

    Replace incorrect documentation uses of 'char' with 'FcChar8'
    (bug 13002).

 doc/fcconfig.fncs         | 10 +++++-----
 doc/fcfile.fncs           |  6 +++---
 doc/fcfreetype.fncs       |  4 ++--
 doc/fcpattern.fncs        |  6 +++---
 doc/fontconfig-devel.sgml |  2 +-
 5 files changed, 14 insertions(+), 14 deletions(-)

commit b4a3e834126a3cac7fbf2212087825f886be1f1d
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 22:53:12 2007 -0700

    Remove references to FcConfigParse and FcConfigLoad.

    These functions no longer exist.

 doc/fcconfig.fncs | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit fc141b492bab23d58d248fc3b6d34bcb9c5faa99
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 22:45:31 2007 -0700

    Have FcConfigSetCurrent accept the current configuration and simply
    return
    without updating anything.

 src/fccfg.c | 3 +++
 1 file changed, 3 insertions(+)

commit 7c6939793b1691b4b950a856cdcd31f1e020b14a
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 22:39:54 2007 -0700

    Update documentation for stale FcConfigGetConfig function.

    The old per-user cache filename is no longer used.

 doc/fcconfig.fncs | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 026fe895e487d0a9607a8506ab8be2ff6022ea19
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 22:31:16 2007 -0700

    Update documentation for FcStrCopyFilename (bug 12964).

    FcStrCopyFilename constructs a canonical path for any argument,
    including
    expanding leading ~ and editing '.' and '..' elements out of the
    resulting
    path.

 doc/fcstring.fncs | 15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit a190678e3c4497870679808dde418191407be91d
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 22:23:28 2007 -0700

    Document previously undocumented functions. (bug 12963)

 doc/Makefile.am           |   3 ++
 doc/check-missing-doc     |   4 +-
 doc/fccache.fncs          |  68 +++++++++++++++++++++++++
 doc/fccharset.fncs        |  24 +++++++++
 doc/fcconfig.fncs         |  31 ++++++++++++
 doc/fcdircache.fncs       |  88 ++++++++++++++++++++++++++++++++
 doc/fcfile.fncs           |  29 ++++++-----
 doc/fcfontset.fncs        |  83 +++++++++++++++++++++++++++++++
 doc/fcfreetype.fncs       |  22 ++++++++
 doc/fclangset.fncs        | 124
 ++++++++++++++++++++++++++++++++++++++++++++++
 doc/fcmatrix.fncs         |   2 +
 doc/fcpattern.fncs        |  52 ++++++++++++++++++-
 doc/fcstring.fncs         |  80 ++++++++++++++++++++++++------
 doc/fcstrset.fncs         |  11 ++++
 doc/fcvalue.fncs          |  21 ++++++++
 doc/fontconfig-devel.sgml |  26 +++++++++-
 16 files changed, 638 insertions(+), 30 deletions(-)

commit 9a54f8a1945e614e07446412a2df534fbc1f77cb
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 22:01:33 2007 -0700

    Verify documentation covers exposed symbols.

    Add check-missing-doc script to make sure the documentation matches
    the
    complete list of symbols exported from the header files before
    release.

 doc/Makefile.am       |  6 +++++-
 doc/check-missing-doc | 23 +++++++++++++++++++++++
 2 files changed, 28 insertions(+), 1 deletion(-)

commit c833409f6b68c191ac354cd2fdeb183f73a65c4c
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 21:58:34 2007 -0700

    Use FcLangDifferentTerritory instead of FcLangDifferentCountry.

 src/fclang.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9b84ecff92b8dccf6559a858e35762c0f664429a
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 21:57:51 2007 -0700

    Don't check cache file time stamps when cleaning cache dir.

    Cache file mtime is meaningless now that the directory time is
    encoded in
    the cache.

 fc-cache/fc-cache.c | 10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

commit 1d93c1752f03b833603ea31c2cfbd16868c44922
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 21:56:36 2007 -0700

    Typo error in function name: Inverval -> interval

 src/fccfg.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b868a1447341ebe9962007069ec8658550e62483
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 21:55:39 2007 -0700

    Track line numbers in sgml edit tool input.

    Errors in the documentation can be hard to find unless the tool
    outputs the
    line number where the problem exists.

 doc/edit-sgml.c | 85
 +++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 52 insertions(+), 33 deletions(-)

commit 088b582a26bce1ab3ec081a80fd6a6fe43223da5
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 21:54:49 2007 -0700

    Clean up exported names in fontconfig.h.

    Fix typo errors (Inverval indeed).
    Remove FcPattern *p from FcValue (unused)
    Remove spurious FcPublic from formals.

 fontconfig/fontconfig.h | 24 +++++++++++++-----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit e37d10fa74217a6102003882d49ac323f28db678
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 14:16:29 2007 -0700

    Make file_stat argument to FcDirCacheLoadFile optional.

    Allow file_stat to be NULL by using a local stat structure in
    that case.

 src/fccache.c | 3 +++
 1 file changed, 3 insertions(+)

commit 2ddce88cde79d8bf8959d614af883999d5c66a85
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 13:44:59 2007 -0700

    Document skipping of fonts from FcFileScan/FcDirScan.

    FcFileScan and FcDirScan will skip fonts under direction of the
    configuration and default fontconfig policy.

 doc/fcfile.fncs | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 5d82c4c85d201011e60adcf887d15341ecdd5729
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 13:26:16 2007 -0700

    Correct documentation for FcConfigUptoDate (bug 12948).

    FcConfigUptoDate only checks whether files have been modified
    since the
    configuration was created. Any changes to the configuration through
    the API
    since then are not considered.

 doc/fcconfig.fncs | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b607922909acfc7ae96de688ed34efd19cd038ac
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 13:09:01 2007 -0700

    Remove fcprivate.h, move the remaining macros to fcint.h.

    fcprivate.h was supposed to extend the fontconfig API for the various
    fontconfig utilities. Instead, just have those utilities use the
    internal
    fcint.h header file (which they already do), removing fcprivate.h
    from the
    installation and hence from the defacto public API.

 fontconfig/Makefile.am |   3 +-
 fontconfig/fcprivate.h | 123
 -------------------------------------------------
 src/Makefile.am        |   3 +-
 src/fcint.h            |  95 +++++++++++++++++++++++++++++++++++++-
 4 files changed, 96 insertions(+), 128 deletions(-)

commit 910db318ae67693f7bc17f0bdc61caaf555365ae
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Nov 3 13:05:25 2007 -0700

    Correct documentation for FcAtomicLock (Bug 12947).

    FcAtomicLock can only be called once from any process.

 doc/fcatomic.fncs | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d0e2a0f3a37ace2d5de6f18e7871a8efaf6580c2
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Fri Oct 26 02:02:19 2007 -0400

    Port fonts-persian.conf to new alias syntax with binding="same"

    Signed-off-by: Keith Packard <keithp@koto.keithp.com>

 conf.d/65-fonts-persian.conf | 377
 ++++++++++++++-----------------------------
 1 file changed, 121 insertions(+), 256 deletions(-)

commit 681bb379de1847cf288ba27cf29243c8395cff17
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 22:30:49 2007 -0700

    Respect "binding" attribute in <alias> entries.

    This makes creating "same" aliases for renamed font families far
    easier.

 fonts.dtd   |  2 ++
 src/fcxml.c | 58
 ++++++++++++++++++++++++++++++++++++----------------------
 2 files changed, 38 insertions(+), 22 deletions(-)

commit 0602c605af04ea73af700b223ec4ac1dfd5a36f1
Author: Behdad Esfahbod <behdad@behdad.org>
Date:   Thu Oct 25 21:35:45 2007 -0700

    Make fc-match --sort call FcFontRenderPrepare.

    This makes the --sort and regular output the same for each font.

 fc-match/fc-match.c | 20 ++++++++++++++++++--
 1 file changed, 18 insertions(+), 2 deletions(-)

commit ad27687f725faf7df83b161c77e99bc7bedf5b3d
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 21:23:36 2007 -0700

    Also check configDirs mtimes in FcConfigUptoDate

    Checking only config files and font directories can miss changes which
    affect only a configuration directory. Check those to catch any
    changes.

 src/fccfg.c | 17 +++--------------
 1 file changed, 3 insertions(+), 14 deletions(-)

commit 89d6119c0283969cb28dc6dfc8eac4cc1b52bf6a
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 15:19:14 2007 -0700

    A few fixups for make distcheck

 Makefile.am     | 2 +-
 doc/Makefile.am | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e66c65fd41928babb3ba2ae2dc58f13d25e57661
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 15:07:54 2007 -0700

    Set version numbers to 2.4.91 (2.5 RC1)

 README                  | 59
 +++++++++++++++++++++++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 59 insertions(+), 4 deletions(-)

commit 7a1a7c0c15793e77cb162dd3393971332896460e
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 14:36:24 2007 -0700

    Build fix for Solaris 10 with GCC.

    Solaris 10 with GCC doesn't appear capable of supporting the symbol
    visibility stuff, so disable it.

 src/fcint.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fc990b2e86008967f499fe0df88de8e074a3670e
Author: Behdad Esfahbod <freedesktop@behdad.org>
Date:   Thu Oct 25 14:20:06 2007 -0700

    Update CaseFolding.txt to Unicode 5.1.0

 fc-case/CaseFolding.txt | 184
 ++++++++++++++++++++++++++++++++++++++++++++++--
 src/fcstr.c             |   2 +-
 2 files changed, 178 insertions(+), 8 deletions(-)

commit 4ee9ca67867ec9517c90d6947bb88d3f25707746
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 20:25:21 2006 -0700

    Match 'ultra' on word boundaries to detect ultra bold fonts. (bug
    2511)

    Added FcStrContainsWord to detect strings on word boundaries.

 src/fcfreetype.c | 15 +++++++++++++--
 src/fcint.h      |  3 +++
 src/fcstr.c      | 50 +++++++++++++++++++++++++++++++++++++++++++++++++-
 3 files changed, 65 insertions(+), 3 deletions(-)

commit 349182784fdd0acf5d1262d8876c967f69dc30aa
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 01:51:38 2007 -0700

    fontconfig needs configure option to use gnu iconv (bug 4083).

    Existing Solaris workaround was broken; mis-matching values caused
    the test
    for libiconv to always fail.

 configure.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7f46cdbb87a4a2113effb45c6e67b00a86363234
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 01:35:32 2007 -0700

    Ensure weight/slant values present even when style is supplied
    (bug 9313).

    If the provided style value doesn't match any available font, fall
    back to
    using the weight and slant values by ensuring that those are in
    the pattern.

 src/fcdefault.c | 16 +++++-----------
 1 file changed, 5 insertions(+), 11 deletions(-)

commit 43d0454597dfb5375b1268edb79172779cc51113
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 01:26:09 2007 -0700

    Distribute man source files for command line programs (bug 9678).

    For systems on whch DOCBOOK is unavailable, distribute command
    line program
    manual pages in .man format.

 fc-cache/Makefile.am | 6 +++---
 fc-cat/Makefile.am   | 6 +++---
 fc-list/Makefile.am  | 6 +++---
 fc-match/Makefile.am | 6 +++---
 4 files changed, 12 insertions(+), 12 deletions(-)

commit cf3e888b71a22e5c5875b96bf29557746044bd2b
Author: Dwayne Bailey <dwayne@translate.org.za>
Date:   Thu Oct 25 01:16:06 2007 -0700

    Add/fix *.orth files for South African languages

    This adds the missing orth files for Ndebele (South) (nr), Northern
    Sotho
    (nso), Swati (ss) and Southern Sotho (st).  It also fixes the Tswana
    (tn)
    orth file.

 fc-lang/iso639-1 |  4 ++--
 fc-lang/iso639-2 |  8 ++++----
 fc-lang/nr.orth  | 29 +++++++++++++++++++++++++++++
 fc-lang/nso.orth | 34 ++++++++++++++++++++++++++++++++++
 fc-lang/ss.orth  | 29 +++++++++++++++++++++++++++++
 fc-lang/st.orth  | 29 +++++++++++++++++++++++++++++
 fc-lang/tn.orth  |  2 ++
 7 files changed, 129 insertions(+), 6 deletions(-)

commit 28a4ea7f714956d34f7ac65354577b87bec5620d
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 01:09:11 2007 -0700

    Fix parallel build in fontconfig/docs (bug 10481).

 doc/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 79641a3b0c2b4a0c2e1a315028f0e54a9d846003
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 01:03:40 2007 -0700

    Handle UltraBlack weight.

    UltraBlack is weight 950 on the CSS scale; handle this by name
    and value
    encoding it as fontconfig weight 215.

 fontconfig/fontconfig.h | 2 ++
 src/fcfreetype.c        | 7 ++++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit d02f6a70f1cb4cdad882ffe429918a119641ddbb
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 01:02:58 2007 -0700

    Oops. Left debugging printf in previous commit.

 src/fcfreetype.c | 1 -
 1 file changed, 1 deletion(-)

commit 61139cf638becf023a9d5e01c90adc5aa19f83c5
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 00:49:19 2007 -0700

    Spelling errors in documentation. (bug 10879).

    Thanks to David <ssdk@ispras.ru> for spotting these.

 doc/fcconfig.fncs | 4 ++--
 doc/fcstring.fncs | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit feecc86cea6bd1cb588f68e06b85d85727289989
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 00:46:41 2007 -0700

    There is no U+1257 (bug 10899).

    The Eritrean Tigrinya orthography mistakenly included this unicode
    value.

 fc-lang/ti_er.orth | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4657944d0c39a640b2e30dfbd95f13d79a99460b
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 00:41:28 2007 -0700

    FcInit should return FcFalse when FcInitLoadConfigAndFonts fails. (bug
    10976)

    Thanks to David <ssdk@ispras.ru> for spotting this error.

 src/fcinit.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28baf727367513ad06ddb1c53daff062e8f39e8c
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Thu Oct 25 00:38:44 2007 -0700

    Store FcVendorFoundries in read-only memory.

    Create fixed size strings for vendor and foundry.

 src/fcfreetype.c | 62
 ++++++++++++++++++++++++++++----------------------------
 1 file changed, 31 insertions(+), 31 deletions(-)

commit 481f6c23079b6dbf5239478f2bb22ee4c72404b4
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Thu Oct 25 00:36:37 2007 -0700

    Store FcNoticeFoundries in read-only memory.

    Use a single character array and a separate table of integer indices.

 src/fcfreetype.c | 75
 +++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 50 insertions(+), 25 deletions(-)

commit a72ef35ce68efa3687dee84d49dc40a5ccd22917
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 25 00:22:04 2007 -0700

    Replace makealias pattern with something supported by POSIX grep
    (bug 11083)

    The suggested replacement in the bug was not supported by GNU grep,
    so I
    created something that should be supported everywhere (famous
    last words).

 src/makealias | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 369b6b5bfbab57bbc7fb6482f6fd9c88e5057e5a
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Oct 24 21:59:33 2007 -0700

    Add BRAILLE PATTERN BLANK to list of blank glyphs.

    Braille pattern blank is often imaged as a blank glyph.

 fonts.conf.in | 1 +
 1 file changed, 1 insertion(+)

commit 007cae508c831561c7a4f06092858ea7bf517e2e
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Oct 24 21:52:56 2007 -0700

    Move <cachedir> elements to the end of fonts.conf.

    This allows users to select alternate directories for cache files,
    ahead of
    the 'standard' directories.

 fonts.conf.in | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit d50cfeb805f7dec304c1d51d7a7c1c35f55d2e68
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Oct 24 21:47:40 2007 -0700

    Leave generated headers out of distribution (bug 12734).

    If the generated header files are included in the distribution,
    a build
    outside of the source directory will use them. For machine-specific
    files,
    this generates the wrong result (fcarch.h). Leaving them out of the
    distribution forces them to be built.

 fc-arch/Makefile.am      | 4 +---
 fc-case/Makefile.am      | 4 +---
 fc-glyphname/Makefile.am | 4 +---
 fc-lang/Makefile.am      | 4 +---
 4 files changed, 4 insertions(+), 12 deletions(-)

commit 1bd0b5ba7365fc7b4ef39e46efc66a6f25c052c5
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 09:48:31 2007 -0700

    Eliminate relocations from FcCodePageRange structure (bug 10982).

    FcCodePageRange was using char pointers; replace them with char
    arrays.

 src/fcfreetype.c | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 96925b99c0551c4ed6bf7099473d0d36964f52cd
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 09:43:22 2007 -0700

    Eliminate relocations for glyph name table.

    Glyph names (now used only for dingbats) were using many relocations,
    causing startup latency plus per-process memory usage. Replace
    pointers with
    table indices, shrinking table size and elimninating relocations.

 fc-glyphname/fc-glyphname.c | 28 ++++++++++++++++++++--------
 src/fcfreetype.c            | 16 ++++++++--------
 2 files changed, 28 insertions(+), 16 deletions(-)

commit bc5e8adb4d05d1d03007951f46aaacc63c3b2197
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 09:41:00 2007 -0700

    Must not insert cache into hash table before completely validating.

    The cache was inserted into the hash table before the timestamps
    in the
    cache were verified; if that verification failed, an extra pointer
    to the
    now freed cache would be left in the hash table. FcFini would fail an
    assertion as a result.

 src/fccache.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e85789a99770dbd1a4abe9da3eadb355c19f5216
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 08:58:14 2007 -0700

    Place language name in constant array instead of pointer.

    Constant char array of 8 bytes is the same size as a pointer plus
    a short
    string, so this actually saves memory and eliminates a pile of
    relocations.

 fc-lang/fc-lang.c | 2 +-
 src/fclang.c      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 26437d4924b0f53f03915e5f3616992eb1fb72e7
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 08:56:42 2007 -0700

    FcConfigParseAndLoad doc was missing the last param.

    Typo lost the last param to this function.

 doc/fcconfig.fncs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 07e646cc8422bda778ecf1c084129556a39a0f2a
Author: Mike FABIAN <mfabian@suse.de>
Date:   Thu Oct 18 05:44:28 2007 -0700

    Avoid crashes if config files contain junk.

    If ~/.fonts.conf contains:

      <edit mode="assign_replace" name="spacing">
         <int>mono</int>
           </edit>

    fontconfig crashes:

        mfabian@magellan:~$ fc-match sans
            Fontconfig error: "~/.fonts.conf", line 46: "mono": not
            a valid
            integer
                セグメンテーション違反です (core dumped)
                    mfabian@magellan:~$

    Of course the above is nonsense, “mono” is no valid integer
    indeed.

    But I think nevertheless fontconfig should not crash in that case.

    The problem was caused by partially truncated expression trees
    caused by
    parse errors -- typechecking these walked the tree without verifying
    the
    integrity of the structure. Of course, the whole tree will be
    discarded
    shortly after being loaded as it contained an error.

 src/fcxml.c | 4 ++++
 1 file changed, 4 insertions(+)

commit fa9a7448d83da498b3494fd0ff7d756569f94425
Author: Hideki Yamane <henrich@iijmio-mail.jp>
Date:   Thu Oct 18 05:17:36 2007 -0700

    Handle Japanese fonts better. (debian bug #435971)

    Add some commonly available Japanese fonts to the standard aliases.

 conf.d/65-nonlatin.conf | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 2a3e3c442de4c675e28e754dea0fe2f7f0686ade
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 05:05:59 2007 -0700

    Have fc-cache remove invalid cache files from cache directories.

    Old cache file versions, or corrupted cache files should be removed
    when
    cleaning cache directories with fc-cache. This only affects filenames
    which
    match the fontconfig cache file format, so other files will be
    left alone.

 fc-cache/fc-cache.c | 34 ++++++++++++++++++----------------
 1 file changed, 18 insertions(+), 16 deletions(-)

commit 238489030a64fa883f8f9fc3d73247b7f7257899
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 05:04:39 2007 -0700

    Don't use X_OK bit when checking for writable directories (bug 12438)

    Some mingw versions have broken X_OK checking; instead of trying
    to work
    around this in a system-depedent manner, simply don't bother
    checking for
    X_OK along with W_OK as such cases are expected to be mistakes,
    and not
    sensible access control.

 fc-cache/fc-cache.c | 2 +-
 src/fccache.c       | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 2b0d3d8af5a83604972e4e0fe80802e448d6dd11
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 05:01:41 2007 -0700

    Verbose message about cleaning directories was imprecise

    Non-existent directories are now described as 'non-existent'
    instead of
    'unwritable'.

 fc-cache/fc-cache.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 50124d1e484b84796abb7d8a6c1995edaff23e80
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 04:58:31 2007 -0700

    Improve verbose messages from fc-cache.

    fc-cache would say 'skipping: %d fonts, %d dirs' or 'caching: %d
    fonts, %d
    dirs', which could easily mislead the user. Add 'existing cache is
    valid' or
    'new cache contents' to these messages to explain what it is doing.

 fc-cache/fc-cache.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e12f718f65fc874e9170761f670930124815663e
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 04:54:51 2007 -0700

    Remove unneeded call to access(2) in fc-cache.

    This call was followed by a call to stat(2) which provided the
    necessary
    information. This call to access(2) was necessary when cache
    files were
    stored in the font directory as that would check for write permission
    correctly.

 fc-cache/fc-cache.c | 18 +++---------------
 1 file changed, 3 insertions(+), 15 deletions(-)

commit f7da903d370dcf662a301930b003485f25db618f
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 04:31:33 2007 -0700

    Make FC_FULLNAME include all fullname entries, elide nothing. [bug
    12827]

    The old policy of eliding fullname entries which matched FC_FAMILY or
    FC_FAMILY + FC_STYLE meant that applications could not know what the
    font foundry set as the fullname of the font. Hiding information
    is not
    helpful.

 src/fcfreetype.c | 64
 --------------------------------------------------------
 1 file changed, 64 deletions(-)

commit 144ca878311af885db820a35db31563ba87ee6ad
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 04:29:13 2007 -0700

    Comment about mmaping cache files was misleading.

 src/fccache.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit db6f19f13b1719617c54a1658b8faa31da56e1d4
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 04:13:51 2007 -0700

    Store font directory mtime in cache file.

    Instead of relying on mtime ordering between a directory and its
    associated
    cache file, write the directory mtime into the cache file itself. This
    makes
    cache file checks more reliable across file systems.

    This change is made in a way that old programs can use new cache
    files, but
    new programs will need new cache files.

 fc-arch/fcarch.tmpl.h | 14 +++++------
 src/fccache.c         | 64
 +++++++++++++++++++++++++++++++++------------------
 src/fcdir.c           |  8 ++++++-
 src/fcint.h           |  5 ++--
 4 files changed, 58 insertions(+), 33 deletions(-)

commit 00268a50e8b99e80ff25ee2a77a925398f89693f
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Thu Oct 18 03:52:29 2007 -0700

    Fix ChangeLog generation to avoid circular make dependency

 Makefile.am | 11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit 3ae9258f9e825ed576dc315ec79009188bb422e2
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Aug 5 12:31:03 2007 -0700

    Free temporary string in FcDirCacheUnlink (Bug #11758)

    In FcDirCacheUnlink(), the line

      cache_hashed = FcStrPlus (cache_dir, cache_base);

    allocates memory in cache_hashed that is never free()'d before
    the function
    exits.

    Reported by Ben Combee.

 src/fccache.c | 1 +
 1 file changed, 1 insertion(+)

commit c80a08d6bf08a27ede95035f3f02cd5abfa2cafd
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Mar 12 10:32:23 2007 -0700

    Work around FreeType bug when glyph name buffer is too small.

    Recent versions of FreeType do not correctly deal with glyph name
    buffers
    that are too small; work around this by declaring a buffer that can
    hold any
    PS name (127 bytes).

 src/fcfreetype.c | 21 +++++++++++++++++----
 1 file changed, 17 insertions(+), 4 deletions(-)

commit fa741cd4fffbbaa5d4ba9a15f53550ac7817cc92
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Mar 12 10:30:51 2007 -0700

    rehash increment could be zero, causing rehash infinite loop.

    Bump the rehash value by one so that it is always positive.

 fc-glyphname/fc-glyphname.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9b74b78fe87f75f7026bfb23ab43ef347e109ca6
Author: Stephan Kulow <coolo@novell.com>
Date:   Mon Mar 12 10:21:35 2007 -0700

    Make FcPatternDuplicate copy the binding instead of always using
    Strong.

    I noticed that Qt always uses a different font than fc-match
    advertises.
    Debugging the issue, I found that a call that looks pretty innocent is
    changing all weak bindings to strong bindings and as such changes the
    semantic of the match: FcPatternDuplicate.

 src/fcpat.c | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 2373f904265a05761039cfc5fe305bf588e831c5
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Dec 2 16:09:47 2006 -0800

    Update for version 2.4.2

 INSTALL                 |  2 +-
 README                  | 36 ++++++++++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 4 files changed, 37 insertions(+), 5 deletions(-)

commit e3b65ee06808cda296215b88111a259a200cc37c
Author: Peter Breitenlohner <peb@mppmu.mpg.de>
Date:   Sat Dec 2 15:09:57 2006 -0800

    Fix fc-cat documentation (bug 8935).

    Adapt documentation to reality.

    (1) The fc-cat usage message should reflect the
    options accepted by the program.

    (2) The fc-cat.1 manpage was fairly broken (unreadable).

 fc-cat/fc-cat.c    |  9 +++++++--
 fc-cat/fc-cat.sgml | 26 +++++++++++++++++++++++---
 2 files changed, 30 insertions(+), 5 deletions(-)

commit 61895ed16c0c06e4d6b2abeb8ff292d53b4ea499
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Dec 2 15:06:13 2006 -0800

    Add space between type and formal in devel man pages (bug 8935)

    Most parameters are pointers and have '*' in the type; for those
    which do not, use '%' to mark where a space needs to be inserted.

 doc/edit-sgml.c       |  5 +++++
 doc/fcblanks.fncs     |  4 ++--
 doc/fccharset.fncs    |  8 ++++----
 doc/fcconfig.fncs     | 12 ++++++------
 doc/fcconstant.fncs   |  4 ++--
 doc/fcfile.fncs       |  4 ++--
 doc/fcfreetype.fncs   | 12 ++++++------
 doc/fcmatrix.fncs     | 12 ++++++------
 doc/fcobjectset.fncs  |  2 +-
 doc/fcobjecttype.fncs |  4 ++--
 doc/fcpattern.fncs    | 32 ++++++++++++++++----------------
 doc/fcstring.fncs     | 16 ++++++++--------
 doc/fcvalue.fncs      |  4 ++--
 13 files changed, 62 insertions(+), 57 deletions(-)

commit b1aa20098f641a16d02e70a161450e6b85afe410
Author: Peter Breitenlohner <peb@mppmu.mpg.de>
Date:   Sat Dec 2 14:28:03 2006 -0800

    Use <literal> instead of <sgmltag> when documenting fonts.conf. Bug
    8935.

 doc/fontconfig-user.sgml | 87
 ++++++++++++++++++++++++------------------------
 1 file changed, 43 insertions(+), 44 deletions(-)

commit 2cae0512cdf3544ff78b04f6c05a4cb585e50bb8
Author: Peter Breitenlohner <peb@mppmu.mpg.de>
Date:   Sat Dec 2 14:18:11 2006 -0800

    A VPATH build of fontconfig-2.4.1 fails for various reasons. Bug 8933.

    VPATH builds without doctools breaks as it cannot find the distributed
    pre-formatted documentation.

 configure.in    |  2 +-
 doc/Makefile.am | 14 +++++++++-----
 2 files changed, 10 insertions(+), 6 deletions(-)

commit 0f963b0d3ec417a39f6aa2ba22ba56c2a79d05aa
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Dec 2 13:57:45 2006 -0800

    Segfault scanning non-font files. Disallow scan edit of user
    vars. (#8767)

    Missing NULL font check before attempting to edit scanned pattern.
    Also, <match target="scan"> rules are now checked to ensure all
    edited variables are in the predefined set; otherwise, the resulting
    cache files will not be stable.

 src/fcdir.c | 2 +-
 src/fcint.h | 1 +
 src/fcxml.c | 6 ++++++
 3 files changed, 8 insertions(+), 1 deletion(-)

commit c9c6875014661d4326100bae0464279d76bd657f
Author: Kean Johnston <kean@armory.com>
Date:   Sat Dec 2 13:36:56 2006 -0800

    Don't use varargs CPP macros in fccache.c. (bug 8733)

    src/fccache.c uses a trick to try and use a function name that is
    also a
    macro name. It does this using the varargs args() macro. Replace that
    with separate macros for each number of formals.

 src/fccache.c | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 72ffe6536a6825a32095c8185aff836a12326ac5
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Dec 2 13:22:27 2006 -0800

    Add FcFreeTypeQueryFace external API. Bug #7311.

    Expose ability to build an FcPattern directly from an FT_Face
    object.

 configure.in            |  4 ++--
 doc/fcfreetype.fncs     | 17 ++++++++++++++++-
 fontconfig/fcfreetype.h |  6 ++++++
 src/fcfreetype.c        | 50
 +++++++++++++++++++++++++++----------------------
 4 files changed, 52 insertions(+), 25 deletions(-)

commit 5e234d9e764d8c52d93b918a5c92b7956c95882b
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Dec 2 13:14:23 2006 -0800

    Fix grep pattern in makealias to work on non-Gnu grep (bug 8368).

    grep -l -w '^foo' doesn't work on Solaris. Replace with
    grep -l '^foo\>' instead which does. Also, grep -l will
    report the filename more than once (!), so add | head -1
    to pick just the first one.

 src/makealias | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2b77216ee21de95ec352672aa025195a83925b32
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Dec 2 13:04:05 2006 -0800

    Avoid writing uninitialized structure pad bytes to cache files.

    The union inside the FcValue structure contains pad bytes. Instead of
    copying the whole structure to the cache block, copy only the
    initialized
    fields to avoid writing whichever bytes serve as padding within the
    structure.

 src/fcpat.c | 17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit 64d7e303df441f274ee194a401dcd14dfb58af7e
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Dec 2 12:14:49 2006 -0800

    Warn (and recover) from config file without <cachedir> elements.

    When updating from older fontconfig versions, if the config file
    is not replaced, it will not contain <cachedir> elements. Lacking
    these,
    fontconfig has no place to store cached font information and cannot
    operate
    reasonably.

    Add code to check and see if the loaded configuration has no cache
    directories, and if so, warn the user and add both the default
    system cache
    directory and the normal per-user cache directory.

 src/fcinit.c | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 253ec7609c13b46c717c801206ebb1a6c7f06e27
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Dec 2 11:47:07 2006 -0800

    Use explicit platform/nameid order when scanning ttf files.

    Instead of accepting whatever order names appear in the font file,
    use an explicit ordering for both platform and nameid.

    Platforms are high precedence than nameids.

    The platform order is:

            microsoft, apple unicode, macintosh, (other)

    The family nameid order is:

            preferred family, font family

    The fullname nameid order is:

            mac full name, full name

    The style nameid order is

            preferred subfamily, font subfamily

    This will change the names visible to users in various application
    UIs, but
    should not change how existing font names are matched as all names
    remain
    present in the resulting database. The hope is that family names
    will, in
    general, be less ambiguous. Testing here shows that commercial fonts
    have longer names now while DejaVu has a shorter family name, and
    moves more
    of the font description to the style name.

 src/fcfreetype.c | 237
 ++++++++++++++++++++++++++++++++++---------------------
 1 file changed, 149 insertions(+), 88 deletions(-)

commit b5803016d74856eb44b05876f0d7178bfec0df47
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Nov 12 17:15:55 2006 -0800

    FcStrCanonAbsoluteFilename should be static.

 src/fcstr.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bae5db78ddab473695a7efee374a75d6fe02426f
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Nov 12 17:15:24 2006 -0800

    Add sparc64 architecture string.

 fc-arch/fcarch.tmpl.h | 1 +
 1 file changed, 1 insertion(+)

commit 0334e5a294dd6a36c94936f6c9c709e86773cf64
Author: Mike FABIAN <mfabian@suse.de>
Date:   Fri Oct 27 10:26:50 2006 -0700

    Do not clean cache files for different architectures

    Use filenames to clean cache files for current architecture
    only. This is
    sufficient as cache files live in their own directory where
    filenames are
    under fontconfig control.

 fc-cache/fc-cache.c | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 0596d7296c94b2bb9817338b8c1a76da91673fb9
Author: Han-Wen Nienhuys <hanwen@xs4all.nl>
Date:   Sun Sep 17 17:03:33 2006 -0700

    More fixes for Win32 building (bug 8311)

    Our build system barfs on autogen.sh, which ignores
    --noconfigure. Configure
    needs a host of options to make the cross compile work in our case.

    Fix typo in fccache.c

 autogen.sh    | 7 +++++++
 src/fccache.c | 3 ++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 1de7a4cc09172bbc99912e1410f46fc16c1a05ec
Author: Han-Wen Nienhuys <hanwen@xs4all.nl>
Date:   Sun Sep 17 14:34:46 2006 -0700

    FcStrCanonFileName buggy for mingw. (bug 8311)

    FcStrCanonFileName checks whether s[0] == '/', and recurses if not.

    This only works on POSIX. On dos, this crashes with a stack overflow.

    The patch attached splits this functionality in two functions
    (FcStrCanonAbsoluteFilename) and uses GetFullPathName on windows to
    get an
    absolute path.  It also fixes a number of other issues. With this
    patch,
    LilyPond actually produces output on Windows.

 src/fccache.c |  5 ++++
 src/fcstr.c   | 88
 +++++++++++++++++++++++++++++++++++++++++++++++++----------
 2 files changed, 78 insertions(+), 15 deletions(-)

commit cc104e6a910427db009be36ec34125962889ecb8
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Sep 17 14:20:18 2006 -0700

    Detect and use available random number generator (bug 8308)

    Prefer random over lrand48 over rand

 configure.in  |  2 +-
 src/fccache.c | 13 ++++++++++++-
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 706a1b367abc4589c7eccfd7cea3af1029bc2d8c
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Sep 17 14:09:12 2006 -0700

    Build fontconfig.def from header files when needed.

    Instead of attempting to track exported symbols manually in
    fontconfig.def.in, build it directly from the public fontconfig
    header files
    to ensure it exports the public API.

 configure.in          |   1 -
 src/Makefile.am       |  18 ++-
 src/fontconfig.def.in | 303
 --------------------------------------------------
 3 files changed, 17 insertions(+), 305 deletions(-)

commit 6262fefe54823476070053d53eb3f52fd516ebfe
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Sep 17 13:50:31 2006 -0700

    Remove documentation for non-existant FcConfigNormalizeFontDir.

    FcConfigNormalizeFontDir was present in some of the 2.3.9x release
    but not
    in the final 2.4 release. However, the documentation persisted.

 doc/fcconfig.fncs | 11 -----------
 1 file changed, 11 deletions(-)

commit b9cc1c4ed81c8caefb5b857f37fdc24e804a5ef9
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 15 10:12:15 2006 -0700

    Update for version 2.4.1

 README                  | 13 +++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 13 insertions(+), 4 deletions(-)

commit 97c3d5b692c7a45dc1d923fe04b6f2e011583d2d
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 15 00:23:40 2006 -0700

    Reimplement FcConfigAppFontAddDir; function was lost in 2.4.0.

    With the cache restructuring of 2.4.0, the ability to add
    application-specific font files and directories was accidentally lost.
    Reimplement this using by sharing the logic used to load configured
    font
    directories.

 src/fccfg.c | 86
 ++++++++++++++++++++++++++++++-------------------------------
 src/fcdir.c |  4 +--
 src/fcint.h |  3 ++-
 3 files changed, 46 insertions(+), 47 deletions(-)

commit b190ad9da46ff2e8a9ede0afcb59a6c59641515b
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Sep 13 18:55:45 2006 -0700

    Add warning flags to fc-cache build. Clean up warnings in fc-cache.

    Looks like the last directory in the project which didn't use
    $(WARN_CFLAGS)
    for some reason. Adding that found the usual collection of char *
    vs FcChar8
    * issues (why, oh why is FcChar8 not just char...)

 fc-cache/Makefile.am |  2 +-
 fc-cache/fc-cache.c  | 31 ++++++++-----------------------
 2 files changed, 9 insertions(+), 24 deletions(-)

commit 7943a75b7d6750d8a71eb8316bd3bbcb32f1cc47
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Sep 13 18:51:11 2006 -0700

    Add signatures for m68k and mipsel (thanks debian buildd)

 fc-arch/fcarch.tmpl.h | 2 ++
 1 file changed, 2 insertions(+)

commit fb47a1f752417d45ad0eac98526cf9de893fc9ca
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Sep 11 11:10:48 2006 -0700

    Add ppc64 signature. Bug 8227

 fc-arch/fcarch.tmpl.h | 1 +
 1 file changed, 1 insertion(+)

commit 0fc03ffe443f4bfb1c830eb75c14ca336f2186e1
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Sep 11 11:09:26 2006 -0700

    Update installation notes for 2.4 base.

 INSTALL | 19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit 76c443222313577236c898f7644098e7cad80c75
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 9 22:08:40 2006 -0700

    Update to version 2.4.0

 INSTALL                 |  3 +++
 README                  | 38 ++++++++++++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  4 ++--
 4 files changed, 42 insertions(+), 5 deletions(-)

commit 6c5619a08575943f75d2341e1a4931ec5faf716b
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 9 21:32:14 2006 -0700

    Split much of the configuration into separate files. Renumber files

    Most of the remaining elements in fonts.conf have been moved to
    separate
    files. The numbering scheme for conf.d files has been documented
    in the
    README and the files have been renumbered. Config files have been
    validated against the DTD and a few minor errors fixed.

 conf.d/{73-autohint.conf => 10-autohint.conf}      |   0
 .../{70-no-sub-pixel.conf => 10-no-sub-pixel.conf} |   0
 ...70-sub-pixel-bgr.conf => 10-sub-pixel-bgr.conf} |   0
 ...70-sub-pixel-rgb.conf => 10-sub-pixel-rgb.conf} |   0
 ...-sub-pixel-vbgr.conf => 10-sub-pixel-vbgr.conf} |   0
 ...-sub-pixel-vrgb.conf => 10-sub-pixel-vrgb.conf} |   0
 conf.d/{73-unhinted.conf => 10-unhinted.conf}      |   0
 conf.d/20-lohit-gujarati.conf                      |  11 ++
 ...t-small-vera.conf => 20-unhint-small-vera.conf} |   0
 .../{15-amt-aliases.conf => 30-amt-aliases.conf}   |   0
 .../{10-urw-aliases.conf => 30-urw-aliases.conf}   |   2 +-
 conf.d/40-generic.conf                             |  66 +++++++
 conf.d/49-sansserif.conf                           |  21 +++
 conf.d/60-LohitGujarati.conf                       |   5 -
 conf.d/60-latin.conf                               |  42 +++++
 ...60-fonts-persian.conf => 65-fonts-persian.conf} |   0
 conf.d/65-nonlatin.conf                            |  38 ++++
 conf.d/69-unifont.conf                             |  24 +++
 conf.d/{76-no-bitmaps.conf => 70-no-bitmaps.conf}  |   0
 .../{76-yes-bitmaps.conf => 70-yes-bitmaps.conf}   |   0
 conf.d/{60-delicious.conf => 80-delicious.conf}    |   0
 conf.d/90-synthetic.conf                           |  64 +++++++
 conf.d/Makefile.am                                 |  55 +++---
 conf.d/README                                      |  46 ++++-
 fonts.conf.in                                      | 207
 ---------------------
 25 files changed, 344 insertions(+), 237 deletions(-)

commit 9596dce93b751c01770da175d208d78aeaf6ae00
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 9 21:30:06 2006 -0700

    Don't display tests for DESTDIR on make install.

    Make install output quieter by eliding the shell commands
    used to test for DESTDIR being set during make install.

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d08feb851a585b6cfe3ef1f390d60dd8886249b2
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 9 21:29:08 2006 -0700

    Include cachedir in fonts.dtd.

    Fonts.dtd <fontconfig> element was missing the new cachedir element.

 fonts.dtd | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 9419bb34f6eac685fcf957faf6a38a5cdfa811d9
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 9 21:21:01 2006 -0700

    Fix conf.d directory sorting.

    Sort was using broken comparison function.

 src/fcxml.c | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 248b5903b7057b3c44ea1cd3a9b0d27624eba24a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 9 19:37:22 2006 -0700

    Rename conf.avail to conf.d

 Makefile.am                                      | 2 +-
 {conf.avail => conf.d}/10-urw-aliases.conf       | 0
 {conf.avail => conf.d}/15-amt-aliases.conf       | 0
 {conf.avail => conf.d}/20-fix-globaladvance.conf | 0
 {conf.avail => conf.d}/30-unhint-small-vera.conf | 0
 {conf.avail => conf.d}/50-user.conf              | 0
 {conf.avail => conf.d}/51-local.conf             | 0
 {conf.avail => conf.d}/60-LohitGujarati.conf     | 0
 {conf.avail => conf.d}/60-delicious.conf         | 0
 {conf.avail => conf.d}/60-fonts-persian.conf     | 0
 {conf.avail => conf.d}/70-no-sub-pixel.conf      | 0
 {conf.avail => conf.d}/70-sub-pixel-bgr.conf     | 0
 {conf.avail => conf.d}/70-sub-pixel-rgb.conf     | 0
 {conf.avail => conf.d}/70-sub-pixel-vbgr.conf    | 0
 {conf.avail => conf.d}/70-sub-pixel-vrgb.conf    | 0
 {conf.avail => conf.d}/73-autohint.conf          | 0
 {conf.avail => conf.d}/73-unhinted.conf          | 0
 {conf.avail => conf.d}/76-no-bitmaps.conf        | 0
 {conf.avail => conf.d}/76-yes-bitmaps.conf       | 0
 {conf.avail => conf.d}/Makefile.am               | 0
 {conf.avail => conf.d}/README                    | 0
 configure.in                                     | 1 -
 22 files changed, 1 insertion(+), 2 deletions(-)

commit 9e292c889f1138b1af2f60621d7e2bfd8c490ff7
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 9 16:52:21 2006 -0700

    Add XML headers to new conf files. Move link make commands to
    conf.avail dir

    Fix up new config fragments to include XML headers as required.
    Move symbolic link installation to conf.avail directory to centralize
    both
    steps.

 conf.avail/10-urw-aliases.conf       |  5 ++++
 conf.avail/15-amt-aliases.conf       |  5 ++++
 conf.avail/20-fix-globaladvance.conf |  5 ++++
 conf.avail/30-unhint-small-vera.conf |  5 ++++
 conf.avail/Makefile.am               | 22 +++++++++++++++
 conf.d/Makefile.am                   | 52
 ------------------------------------
 6 files changed, 42 insertions(+), 52 deletions(-)

commit 49b44b277f2a8a67009a3b68b178b2f1a4c7f72a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 9 16:41:58 2006 -0700

    Insert newly created caches into reference data structure.

    All caches used in the application must be in the cache reference
    list so
    internal references can be tracked correctly. Failing to have
    newly created
    caches in the list would cause the cache to be deallocated while
    references
    were still present.

 src/fccache.c | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit 766a9b2f61458202be0fbf5745ce1e02ecd95c6e
Merge: 5d2f7a9 164e267
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 9 15:49:24 2006 -0700

    Merge branch 'jhcloos'

commit 5d2f7a9d9224d4df1655cd1d6fd72646734b0272
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 9 10:04:42 2006 -0700

    Accept locale environment variables that do not contain territory.

    Locale environment variables (LC_ALL, LC_CTYPE, LANG) must contain
    language,
    and may contain territory and encoding. Don't accidentally require
    territory
    as that will cause fontconfig to fall back to 'en'.

 src/fcdefault.c | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 164e267d286eccbbdde69e8935a658dced4331b4
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Sat Sep 9 01:24:08 2006 -0400

    Make conf.avail and conf.d work

    Add conf.avail to configure.in

    Add install: target to conf.d/Makefile.am to
    create the initial symlinks to conf.avail

 conf.d/Makefile.am | 52
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.in       |  1 +
 2 files changed, 53 insertions(+)

commit f6cfbe16bfc252b46532f699b496e4a41a1a1c22
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Sep 7 15:17:10 2006 -0700

    Attempt to fix makealias usage for build on Mac OS X.

    Avoid using fcalias.h or fcaliastail.h on systems which don't
    support it.
    Provided solution still generates these files, but does not use them.

 src/fcint.h   | 3 ++-
 src/makealias | 2 ++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 6cff1dca81b60fcd75e19f3ed827aae98f643fd1
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Sep 7 14:37:52 2006 -0700

    Replace gnu-specific sed command with simple grep.

    makealias was using a gnu-extension to sed addressing, replace that
    with a
    simple (and more robuse) grep command. Also, found a bug in the public
    header file that was leaving one symbol out of the process.

 fontconfig/fontconfig.h | 2 +-
 src/makealias           | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 31e0f0321057a7612ed5a7fa890dad09e6a53ee6
Author: David Turner <david@freetype.org>
Date:   Thu Sep 7 14:29:35 2006 -0700

    Replace character discovery loop with simpler, faster version.

    The existing loop for discovering which characters map to glyphs is
    ugly and
    inefficient. The replacement is functionally identical, but far
    cleaner and
    faster.

 src/fcfreetype.c | 83
 ++++++++++++++++++++------------------------------------
 1 file changed, 30 insertions(+), 53 deletions(-)

commit 8d779ce4b3cdac796e20ca568654c0ef1c576809
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Sep 7 14:22:16 2006 -0700

    Reference patterns in FcCacheCopySet.

    As patterns are put into the font set copy, mark them as referenced
    so the
    cache stays around while the font set is in use.

 src/fccache.c | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 4c34c0c52a4e943c6770a6178e5012a3d6fe96d0
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Sep 7 10:37:24 2006 -0700

    Create fc_cachedir at install time. Bug 8157.

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 88b6bebc3d648464ad9bcb7f106694ed85a84460
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Sep 6 23:58:14 2006 -0700

    Update for version 2.3.97.

 Makefile.am             |  2 +-
 README                  | 41 +++++++++++++++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 4 files changed, 42 insertions(+), 5 deletions(-)

commit c3796ac6061373bcf0276a931036987c01741215
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Sep 6 17:45:40 2006 -0700

    Charset hashing depended on uniqueness of leaves.

    Charset hashing actually use the value of the leaf pointers, which is
    clearly wrong, especially now that charsets are not shared across
    multiple
    font directories.

 src/fccharset.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 08bef687018f2391c2f2b6fc3849878c121b67dd
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Sep 6 17:43:08 2006 -0700

    Parallel build fix for fcalias.h and fcaliastail.h

    These are built from the same script, but creating a single
    dependency rule
    caused parallel make to run the script twice.

 src/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 8e0b03f55085d6fd80f6a262b496303f5a74d2ad
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Sep 6 17:14:46 2006 -0700

    Update architecture signatures for x86-64 and ppc.

    I think the cache file data types are stable for now; add-back the
    signatures for x86-64 and ppc.

 fc-arch/fcarch.tmpl.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 23816bf9acbd6cc5dd942daaba3cc084ea70d99d
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Sep 5 02:24:01 2006 -0700

    Eliminate .so PLT entries for local symbols. (thanks to Arjan van
    de Ven)

    Using a simple shell script that processes the public headers,
    two header
    files are constructed that map public symbols to hidden internal
    aliases
    avoiding the assocated PLT entry for referring to a public symbol.

    A few mistakes in the FcPrivate/FcPublic annotations were also
    discovered
    through this process

 .gitignore               |  2 ++
 fc-arch/Makefile.am      |  9 ++++++++-
 fc-case/Makefile.am      |  9 ++++++++-
 fc-glyphname/Makefile.am |  9 ++++++++-
 fc-lang/Makefile.am      |  9 ++++++++-
 fc-lang/fc-lang.c        |  1 -
 fontconfig/fontconfig.h  | 10 +++++-----
 src/Makefile.am          | 15 ++++++++++++++-
 src/fcatomic.c           |  3 +++
 src/fcblanks.c           |  3 +++
 src/fccache.c            |  3 +++
 src/fccfg.c              |  3 +++
 src/fccharset.c          |  3 +++
 src/fcdbg.c              |  3 +++
 src/fcdefault.c          |  3 +++
 src/fcdir.c              |  3 +++
 src/fcfreetype.c         |  4 ++++
 src/fcfs.c               |  3 +++
 src/fcinit.c             |  3 +++
 src/fcint.h              |  5 ++++-
 src/fclang.c             |  3 +++
 src/fclist.c             |  3 +++
 src/fcmatch.c            |  3 +++
 src/fcmatrix.c           |  3 +++
 src/fcname.c             |  3 +++
 src/fcpat.c              |  3 +++
 src/fcserialize.c        |  3 +++
 src/fcstr.c              |  3 +++
 src/fcxml.c              |  3 +++
 src/ftglue.c             |  3 +++
 src/makealias            | 24 ++++++++++++++++++++++++
 31 files changed, 145 insertions(+), 12 deletions(-)

commit 323ecd0cd3b8eeb50c4af87d57f2ea7b19f37215
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Sep 4 23:19:59 2006 -0700

    Correct reference count when sharing cache file objects.

    Multiple maps of the same cache file share the same mapped object;
    bump the
    cache object reference count in this case

 src/fccache.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit afe5a6716058e4b952a6ec1ab3f328a1c069a8c4
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Sep 4 22:39:51 2006 -0700

    Oops, fc-lang broke when I added cache referencing.

    Add FcCacheObjectReference/FcCacheObjectDereference stubs to fc-cache.

 fc-lang/fc-lang.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 17389539a046f7231447d531ef7f3d131c1d7515
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Sep 4 22:26:24 2006 -0700

    Make cache reference counting more efficient.

    Eliminate need to reference cache object once per cached font, instead
    just count the number of fonts used from the cache and bump the
    reference
    count once by that amount. I think this makes this refernece technique
    efficient enough for use.

 src/fccache.c | 9 +++++++++
 src/fccfg.c   | 5 ++++-
 src/fcint.h   | 3 +++
 3 files changed, 16 insertions(+), 1 deletion(-)

commit 9e612141df7e693ef98071f102cecb5d777ceecb
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Sep 4 22:20:25 2006 -0700

    Reference count cache objects.

    Caches contain patterns and character sets which are reference
    counted and
    visible to applications. Reference count the underlying cache object
    so that
    it stays around until all reference objects are no longer in use.

    This is less efficient than just leaving all caches around forever,
    but does
    avoid eternal size increases in case applications ever bother
    to actually
    look for changes in the font configuration.

 src/fccache.c   | 255
 ++++++++++++++++++++++++++++++++++++++++++--------------
 src/fccfg.c     |  22 +----
 src/fccharset.c |   5 ++
 src/fcint.h     |  16 ++--
 src/fcpat.c     |  10 ++-
 5 files changed, 213 insertions(+), 95 deletions(-)

commit 8fe2104a1e5771ac8079a438fa21e00f946be8b3
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Sep 4 13:59:58 2006 -0700

    Leave cache files mapped permanently.

    Without reference counting on cache objects, there's no way to
    know when
    an application is finished using objects pulled from the cache. Until
    some
    kinf of cache reference counting can be done, leave all cache
    objects mapped
    for the life of the library (until FcFini is called). To mitigate
    the cost
    of this, ensure that each instance of a cache file is mapped only
    once.

 src/fccache.c | 143
 +++++++++++++++++++++++++++++++++++++++++++++-------------
 src/fcinit.c  |   1 +
 src/fcint.h   |   3 ++
 3 files changed, 116 insertions(+), 31 deletions(-)

commit 469010c1bdd5cc8801405ef809540bd4b17f41c1
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 15:57:19 2006 -0400

    Update Makefile.am files

 Makefile.am            |  2 +-
 conf.avail/Makefile.am | 34 ++++++++++++++++++++--------------
 2 files changed, 21 insertions(+), 15 deletions(-)

commit c3425fa671663b11aa5288a0b52a0618c5d075ef
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 15:47:52 2006 -0400

    Move some section from fonts.conf into conf.avail files

    URL aliases, AMT aliases, Che globaladvance fixes and Vera <8pt
    unhinting
    sections all moved into conf.avail, to load before user and local
    confs.

 conf.avail/10-urw-aliases.conf       |  47 +++++++++++++
 conf.avail/15-amt-aliases.conf       |  16 +++++
 conf.avail/20-fix-globaladvance.conf |  24 +++++++
 conf.avail/30-unhint-small-vera.conf |  44 ++++++++++++
 fonts.conf.in                        | 133
 -----------------------------------
 5 files changed, 131 insertions(+), 133 deletions(-)

commit 9a9fd975a1330e21f0184cdb237cfb2a2f19c098
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Sep 4 12:46:01 2006 -0700

    Can't typecheck values for objects with no known type.

    Objects that aren't part of the built-in object list don't have
    predefined
    types, so we can't typecheck them.

 src/fcxml.c | 2 ++
 1 file changed, 2 insertions(+)

commit 60018915891bd146271b687278782fe38b4c4461
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 15:45:28 2006 -0400

    Re-order old conf.d files

    Make sure they continue to load after ~/.fonts.conf and local.conf

 conf.avail/{20-LohitGujarati.conf => 60-LohitGujarati.conf}   | 0
 conf.avail/{20-fonts-persian.conf => 60-fonts-persian.conf}   | 0
 conf.avail/{30-no-sub-pixel.conf => 70-no-sub-pixel.conf}     | 0
 conf.avail/{30-sub-pixel-bgr.conf => 70-sub-pixel-bgr.conf}   | 0
 conf.avail/{30-sub-pixel-rgb.conf => 70-sub-pixel-rgb.conf}   | 0
 conf.avail/{30-sub-pixel-vbgr.conf => 70-sub-pixel-vbgr.conf} | 0
 conf.avail/{30-sub-pixel-vrgb.conf => 70-sub-pixel-vrgb.conf} | 0
 conf.avail/{33-autohint.conf => 73-autohint.conf}             | 0
 conf.avail/{33-unhinted.conf => 73-unhinted.conf}             | 0
 conf.avail/{36-no-bitmaps.conf => 76-no-bitmaps.conf}         | 0
 conf.avail/{36-yes-bitmaps.conf => 76-yes-bitmaps.conf}       | 0
 11 files changed, 0 insertions(+), 0 deletions(-)

commit 31f8061b5d0a60f497eaafe6d38006ae71e53163
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 15:36:46 2006 -0400

    Make room for chunks from fonts.conf in conf.avail

 conf.avail/{10-LohitGujarati.conf => 20-LohitGujarati.conf} | 0
 conf.avail/{10-fonts-persian.conf => 20-fonts-persian.conf} | 0
 2 files changed, 0 insertions(+), 0 deletions(-)

commit d55620c90676951fc70ec9430c2670edca2147cb
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 15:32:37 2006 -0400

    Replace load of conf.d in fonts.conf.in

 fonts.conf.in | 5 +++++
 1 file changed, 5 insertions(+)

commit f6e645c4993fff77d596dba734c09cdb255f4ca0
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 15:30:10 2006 -0400

    Update Makefile.am to match conf.avail changes

 conf.avail/Makefile.am | 21 ++++++++++++---------
 1 file changed, 12 insertions(+), 9 deletions(-)

commit cbdd74d6569b5975b86bd425b56b1b50aa73d2bb
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 15:27:29 2006 -0400

    Number the remaining conf.avail files

 conf.avail/{no-sub-pixel.conf => 30-no-sub-pixel.conf}     | 0
 conf.avail/{sub-pixel-bgr.conf => 30-sub-pixel-bgr.conf}   | 0
 conf.avail/{sub-pixel-rgb.conf => 30-sub-pixel-rgb.conf}   | 0
 conf.avail/{sub-pixel-vbgr.conf => 30-sub-pixel-vbgr.conf} | 0
 conf.avail/{sub-pixel-vrgb.conf => 30-sub-pixel-vrgb.conf} | 0
 conf.avail/{autohint.conf => 33-autohint.conf}             | 0
 conf.avail/{unhinted.conf => 33-unhinted.conf}             | 0
 conf.avail/{no-bitmaps.conf => 36-no-bitmaps.conf}         | 0
 conf.avail/{yes-bitmaps.conf => 36-yes-bitmaps.conf}       | 0
 9 files changed, 0 insertions(+), 0 deletions(-)

commit a04ac99f0f3e487c7611772442727a6eb4f44393
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Sep 4 02:13:13 2006 -0700

    Hide FreeType glue code from library ABI.

    FreeType glue code was escaping the shared library.

 src/ftglue.h | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 4984242e3681a50a9c19f352783f145f91ecb868
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Sep 4 00:47:07 2006 -0700

    Hide private functions in shared library. Export functionality
    for utilities.

    Borrowing header stuff written for cairo, fontconfig now exposes
    in the
    shared library only the symbols which are included in the public
    header
    files. All private symbols are hidden using suitable compiler
    directives.

    A few new public functions were required for the fontconfig utility
    programs
    (fc-cat and fc-cache) so those were added, bumping the .so minor
    version number
    in the process.

 configure.in            |   9 +-
 fc-cache/fc-cache.c     |  30 ++--
 fc-cat/Makefile.am      |   2 +-
 fc-cat/fc-cat.c         |  37 ++---
 fontconfig/fcfreetype.h |  14 +-
 fontconfig/fontconfig.h | 403
 ++++++++++++++++++++++++++++--------------------
 src/fccache.c           |  48 ++++++
 src/fccharset.c         |   5 -
 src/fcint.h             | 337 +++++++++++++++++++---------------------
 9 files changed, 481 insertions(+), 404 deletions(-)

commit 57b42cef2ad2f18618ca0748325fc800165bdc1b
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 01:33:09 2006 -0400

    Move user and local conf file loading into conf.avail files

 conf.avail/50-user.conf  |  7 +++++++
 conf.avail/51-local.conf |  7 +++++++
 fonts.conf.in            | 11 -----------
 3 files changed, 14 insertions(+), 11 deletions(-)

commit 04ceb322c8e8c4bfc5f4df27d15e8353058a19b8
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 01:28:07 2006 -0400

    Support all five possibilities for sub-pixel

    Make sub-pixel.conf be sub-pixel-rgb.conf and add the
    three other possibilites: bgr, vrgb and vbgr.

 conf.avail/sub-pixel-bgr.conf                     | 9 +++++++++
 conf.avail/{sub-pixel.conf => sub-pixel-rgb.conf} | 0
 conf.avail/sub-pixel-vbgr.conf                    | 9 +++++++++
 conf.avail/sub-pixel-vrgb.conf                    | 9 +++++++++
 4 files changed, 27 insertions(+)

commit 085d12cd4bcc215a5fb2bc403148e68c45bd3d2a
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 01:24:02 2006 -0400

    Standardize conf.avail number prefixing convention

    Always use \d- rather than just \d as prefix

 conf.avail/{10LohitGujarati.conf => 10-LohitGujarati.conf} | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 709f32438d814f73b6ce677a48b81a238cd0d6aa
Author: James Cloos <cloos@lugabout.jhcloos.org>
Date:   Mon Sep 4 01:21:55 2006 -0400

    Move files from conf.d to conf.avail

    All of the files in conf.d are now in conf.avail
    Makefile.am is updated to reflect the change

 Makefile.am                                  | 2 +-
 {conf.d => conf.avail}/10-fonts-persian.conf | 0
 {conf.d => conf.avail}/10LohitGujarati.conf  | 0
 {conf.d => conf.avail}/60-delicious.conf     | 0
 {conf.d => conf.avail}/Makefile.am           | 0
 {conf.d => conf.avail}/README                | 0
 {conf.d => conf.avail}/autohint.conf         | 0
 {conf.d => conf.avail}/no-bitmaps.conf       | 0
 {conf.d => conf.avail}/no-sub-pixel.conf     | 0
 {conf.d => conf.avail}/sub-pixel.conf        | 0
 {conf.d => conf.avail}/unhinted.conf         | 0
 {conf.d => conf.avail}/yes-bitmaps.conf      | 0
 12 files changed, 1 insertion(+), 1 deletion(-)

commit 34227592c23db4d462d36773532cef67731e2831
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Sep 3 16:27:09 2006 -0700

    Remove all .cvsignore files

 .cvsignore              | 35 -----------------------------------
 conf.d/.cvsignore       |  2 --
 doc/.cvsignore          | 16 ----------------
 fc-cache/.cvsignore     |  6 ------
 fc-case/.cvsignore      |  6 ------
 fc-cat/.cvsignore       |  6 ------
 fc-glyphname/.cvsignore |  6 ------
 fc-lang/.cvsignore      |  6 ------
 fc-list/.cvsignore      |  6 ------
 fc-match/.cvsignore     |  6 ------
 fontconfig/.cvsignore   |  2 --
 src/.cvsignore          |  7 -------
 test/.cvsignore         |  2 --
 13 files changed, 106 deletions(-)

commit 822ec78c54a24a0f1589154ac2d4906b02b111ef
Merge: e79c648 fb2092c
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Sep 3 16:07:11 2006 -0700

    Merge branch 'fc-2_4_branch' to master

    Moving development back to master.

commit fb2092c18fbf4af69e2cbafc265c4b0ad7e54346
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Sep 3 15:20:46 2006 -0700

    Finish INSTALL changes. .gitignore ChangeLog

 .gitignore | 1 +
 INSTALL    | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 2ec3ed0806cfd2cd17cae4117a7047451a52cf95
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Sep 3 14:58:49 2006 -0700

    Update instructions for doing a release. Autogen ChangeLog from
    git-log.

 INSTALL     | 21 ++++++++++++++++-----
 Makefile.am | 39 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 55 insertions(+), 5 deletions(-)

commit d3c392b6693ce79fbab42e9a8cf543f6182c5917
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Sep 3 14:46:17 2006 -0700

    Remove ChangeLog

 ChangeLog | 3496
 -------------------------------------------------------------
 1 file changed, 3496 deletions(-)

commit 0945cbe73019404c880be0de7f703ef77aec8a08
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Sep 3 14:42:48 2006 -0700

    Change version to 2.3.96

 README                  | 67
 +++++++++++++++++++++++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 67 insertions(+), 4 deletions(-)

commit 2a5ea80023657724e3e6ba629d828ab5e33bdb70
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 2 23:10:59 2006 -0700

    Oops; missed the 60-delicious.conf file.

    This file fixes Delicious Heavy fonts to have the correct weight
    value.

 conf.d/60-delicious.conf | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit e3b771a63e837b341bbd1e3e7e9c868244506f62
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 2 23:09:44 2006 -0700

    Using uninitialized (and wrong) variable in FcStrCopyFilename.

    A typo from the change in where filename canonicalization occurs.

 src/fcstr.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 04cedae0d5a720662bdc0de3d4cb97f6c77e7d1a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 2 20:23:31 2006 -0700

    Don't segfault when string values can't be parsed as charsets or
    langsets.

    If parsing charsets or langsets fails, return a FcTypeVoid value
    instead of
    a charset/langset value with a NULL pointer in it (which is invalid).

 src/fcname.c | 6 ++++++
 1 file changed, 6 insertions(+)

commit fb6e30ab3ef74021978d260fb7f2c40a0b5a0b06
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 2 20:07:29 2006 -0700

    Fix missing initialization/destruction of new 'scan' target subst
    list.

    Forgot to initialize and destroy the new substitution list for the
    'scan'
    match target.

 src/fccfg.c | 2 ++
 1 file changed, 2 insertions(+)

commit c2c6976d1a88cc35143ffcc34f3c38d0a28d34f4
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 2 17:52:12 2006 -0700

    Add FcMatchScan to resolve Delicious font matching issues (bug #6769)

    The Delicious family includes one named Delicious Heavy, a bold
    variant
    which is unfortunately marked as having normal weight. Because
    the family
    name is 'Delicious', fontconfig accidentally selects this font
    instead of
    the normal weight variant. The fix here rewrites the scanned data
    by running
    the scanned pattern through a new substitution sequence tagged with
    <match target=scan>; a sample for the Delicious family is included to
    demonstrate how it works (and fix Delicious at the same time).

    Also added was a new match predicate -- the 'decorative' predicate
    which is
    automatically detected in fonts by searching style names for key
    decorative
    phrases like SmallCaps, Shadow, Embosed and Antiqua. Suggestions for
    additional decorative key words are welcome. This should have
    little effect
    on font matching except when two fonts share the same characteristics
    except
    for this value.

 conf.d/Makefile.am       |  1 +
 doc/fontconfig-user.sgml |  6 ++++--
 fontconfig/fontconfig.h  |  3 ++-
 fonts.dtd                |  6 +++++-
 src/fccfg.c              | 35 +++++++++++++++++++++++++++--------
 src/fcdbg.c              |  7 +++++++
 src/fcdefault.c          |  1 +
 src/fcdir.c              | 18 +++++++++++++++++-
 src/fcfreetype.c         | 34 +++++++++++++++++++++++++++++++++-
 src/fcint.h              |  2 ++
 src/fcmatch.c            | 33 ++++++++++++++++++++-------------
 src/fcname.c             | 34 ++++++++++++++++++++++++++++++----
 src/fcxml.c              |  4 ++++
 13 files changed, 153 insertions(+), 31 deletions(-)

commit 3b8a03c09d3a45f578680b5fe80255af9761b3fa
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 2 14:54:14 2006 -0700

    Allow font caches to contain newer version numbers

    Use the version number inside the cache file to mark backward
    compatible
    changes while continuing to reserve the filename number for
    incompatible
    changes.

 src/fccache.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9b511b290548ad2920cda94507a3311efc461e8a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 2 14:52:37 2006 -0700

    Unify directory canonicalization into FcStrAddFilename.

    Instead of making filename canonicalization occur in multiple
    places, it
    occurs only in FcStrAddFilename now, as all filenames pass through
    that
    function at one point.

 fc-cache/fc-cache.c |  2 +-
 fc-cat/fc-cat.c     |  2 +-
 src/fcdir.c         | 17 ++++-------------
 src/fcstr.c         | 24 +++++++++++-------------
 4 files changed, 17 insertions(+), 28 deletions(-)

commit 813258dc8e3a8c964af49abe810e76a95241926d
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 22:08:41 2006 -0700

    Move Free family names to bottom of respective aliases. (bug 7429)

    The FreeSans, FreeSerif and FreeMono fonts cover a large number of
    languages, but are of generally poor quality. Moving these after
    fonts which
    cover specific languages but which have higher quality glyphs
    should improve
    font selection.

 fonts.conf.in | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 5cafbd4da08aa8110a94deba59dc631c39ef7285
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 22:04:52 2006 -0700

    Document FC_DEBUG values (bug 6393). Document name \ escape syntax.

    Limited FC_DEBUG documentation (just shows values and vague idea
    of what
    they're related to). Also document \ escape syntax for font names,
    including
    how family name and values have different escape requirements.

 doc/fontconfig-user.sgml | 40 ++++++++++++++++++++++++++++++++++++++--
 1 file changed, 38 insertions(+), 2 deletions(-)

commit 7295c6f5faa595422e0825aa2e91883147d5b50e
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 21:30:54 2006 -0700

    Guess that mac roman names with lots of high bits are actually SJIS.

    Many Japanese fonts incorrectly include names tagged as Roman
    encoding and
    English language which are actually Japanese names in the SJIS
    encoding.
    Guess that names with a large number of high bits set are SJIS encoded
    Japanese names rather than English names.

 src/fcfreetype.c | 81
 ++++++++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 64 insertions(+), 17 deletions(-)

commit db970d3596fbbc75f652f1a9fe7f7ce98e651ad2
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 21:12:44 2006 -0700

    Prefer Bitstream Vera to DejaVu families.

    DejaVu is a modified version of Bitstream Vera that covers
    significantly
    more languages, but does so with spotty quality, lacking hinting
    for many
    glyphs, especially for the synthesized serif oblique face. Use
    Bitstream
    Vera (where installed).

 fonts.conf.in | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 3bb1812f0d173b153415e2191ecdd27a95fc4b05
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 15:33:27 2006 -0700

    Fonts matching lang not territory should satisfy sort pattern lang.

    A pattern specifying 'Chinese' (:lang=zh) without a territory
    should be
    satisfied by any font supporting any Chinese lang. The code was
    requiring
    that the lang tags match exactly, causing this sort to fail.

 src/fcmatch.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cfccd4873a44da5b041368d5fca4f05180dcf041
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 13:22:45 2006 -0700

    Really only rebuild caches for system fonts at make install time.

    Oops. Fix actual fc-cache command line instead of just the displayed
    version.

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit caf996342b53bf2ca4eedbe54bc86b68456d7470
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 12:59:09 2006 -0700

    Add Assamese orthography (as.orth). Bug #8050

    Behdad Esfahbod says Assamese is the same as Bengali, so this
    just uses
    bn.orth.

 fc-lang/as.orth  | 28 ++++++++++++++++++++++++++++
 fc-lang/iso639-1 |  2 +-
 2 files changed, 29 insertions(+), 1 deletion(-)

commit c9e6d2c8cc920937546faa63c889570fa7b4745c
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 12:45:43 2006 -0700

    Chinese/Macau needs the Hong Kong orthography instead of Taiwan
    (bug 7884)

    From Abel Cheung:
    Currently zh_mo.orth includes zh_tw.orth, which means it is assumed
    Macau
    only uses traditional Chinese characters used in Taiwan; however
    that is
    wrong, as a majority of Macau people speaks Cantonese too, and
    also uses
    additional traditional Chinese chars from Hong Kong (there are
    already some
    place names that can't be represented in just chars used in
    Taiwan). So it
    should include zh_hk.orth instead.

 fc-lang/zh_mo.orth | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 5b8e43a48ea1a5fb4e54dd12fe965439df2bf95d
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 12:36:31 2006 -0700

    Avoid #warning directives on non-GCC compilers. (bug 7683)

    Detect GCC and use #warning only on GCC systems.

 configure.in     | 4 +++-
 src/fcfreetype.c | 2 ++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit ab2cb932b25af20896c08f4641dfa696ed651418
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 12:26:15 2006 -0700

    Add @EXPAT_LIBS@ to Libs.private in fontconfig.pc (bug 7683)

    Linking against fontconfig requires expat on systems without chained
    shared
    library dependencies.

 fontconfig.pc.in | 1 +
 1 file changed, 1 insertion(+)

commit 1741499e2387f0c1e692801a1ef3c6ce5d043f9f
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 12:07:10 2006 -0700

    Fix memory leaks in fc-cache directory cleaning code.

    valgrind found a few leaks in the new cache cleaning code.

 fc-cache/fc-cache.c | 9 +++++++++
 1 file changed, 9 insertions(+)

commit fd7223c770e74730480bdf9ecf36f3152a12473e
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 12:05:04 2006 -0700

    Only rebuild caches for system fonts at make install time.

    Rebuilding user-specific fonts will stick those cache files in
    the system
    font cache directory.

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8587d77ce64147b7fb324458ba100910ebba93f4
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 02:27:45 2006 -0700

    Add some ignores

 .gitignore | 2 ++
 1 file changed, 2 insertions(+)

commit 09bd9ae2be032efb05a8be7bae584fa18756d951
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 02:22:59 2006 -0700

    Fontset pattern references are relative to fontset, not array.

    Within a fontset, the patterns are stored as pointers in an array.
    When stored as offsets, the offsets are relative to the fontset object
    itself, not the base of the array of pointers.

 src/fcint.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 18b6857c6476517db7932025847ae952feba758d
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 01:49:47 2006 -0700

    Fix fc-lang to use new charset freezer API.

    Charset freezer api now uses allocated object. Also required minor
    fixes to
    charset freezer code to remove assumption that all input charsets are
    persistant.

 fc-lang/fc-lang.c | 30 ++++++++++++++++++------------
 src/fccharset.c   | 11 +++++------
 src/fcint.h       |  6 ++++++
 3 files changed, 29 insertions(+), 18 deletions(-)

commit bc5e487f2a1ad9946aa5c6e19cd75794fc38d530
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 01:15:14 2006 -0700

    Pass directory information around in FcCache structure. Freeze
    charsets.

    Instead of passing directory information around in separate variables,
    collect it all in an FcCache structure. Numerous internal and tool
    interfaces changed as a result of this.

    Charsets are now pre-frozen before being serialized. This causes
    them to
    share across multiple fonts in the same cache.

 fc-cache/fc-cache.c         | 109 ++++-----
 fc-cat/fc-cat.c             |  83 ++-----
 fc-glyphname/fc-glyphname.c |  13 --
 src/fccache.c               | 300 ++++++++++--------------
 src/fccfg.c                 | 169 ++++++++------
 src/fccharset.c             | 550
 +++++++++++++++++++++++---------------------
 src/fcdir.c                 | 177 +++++++-------
 src/fcinit.c                |   1 -
 src/fcint.h                 |  60 ++---
 src/fcpat.c                 |   8 +
 src/fcserialize.c           |   3 +
 11 files changed, 702 insertions(+), 771 deletions(-)

commit aec8c90b450c115718fd87bc270e35ee6b605967
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Sep 1 01:12:13 2006 -0700

    Remove stale architecture signatures.

    All but x86 are known to be wrong.

 fc-arch/fcarch.tmpl.h | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 551b6b2cd7d94dd90a9eb22bdb752f264afc48ce
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Aug 31 18:16:00 2006 -0700

    Allow FcTypeLangSet to match either FcTypeLangSet or FcTypeString.

    Applications explicitly setting FC_LANG with string would fail due
    to typechecking disallowing this case.

 src/fcname.c | 4 ++++
 1 file changed, 4 insertions(+)

commit bf0c80fc4996157dda7bed8b8b2e4c8a13611ada
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Aug 31 18:14:45 2006 -0700

    Change $(pkgcachedir) to $(fc_cachedir) in fc-cat and fc-cache
    Makefile.am

    make distcheck caught this bug; the effect of 'make uninstall'
    would have been to execute 'rm -rf /', somewhat less that desirable.

 fc-cache/Makefile.am | 6 ++----
 fc-cat/Makefile.am   | 2 --
 2 files changed, 2 insertions(+), 6 deletions(-)

commit f57783d2e9c7362b1e5d5e3a967ba90fa49ade6e
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Aug 31 14:38:18 2006 -0700

    Revert ABI changes from version 2.3

    Accidental ABI changes and additions were discovered by looking at the
    differences in fontconfig.h. All of those have been reverted.

 fc-cache/fc-cache.c     |  4 ++--
 fc-list/fc-list.c       |  2 +-
 fontconfig/fontconfig.h | 23 +++++------------------
 src/fccache.c           | 16 ++++++++++++++--
 src/fcint.h             |  6 ++++++
 5 files changed, 28 insertions(+), 23 deletions(-)

commit 0a87ce715e1862c56702f5be43af9f246aa34e68
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Aug 31 11:56:43 2006 -0700

    With no args, fc-cat now dumps all directories.

    Automatically list all font directories when no arguments are given to
    fc-cat. Also add -r option to recurse from specified cache
    directories.
    fc-cat also now prints the cache filename in verbose mode, along
    with the
    related directory name.

 fc-cat/fc-cat.c | 119
 +++++++++++++++++++++++++++++++++++++++++++-------------
 src/fccache.c   |  16 +++++---
 src/fcint.h     |   2 +-
 3 files changed, 104 insertions(+), 33 deletions(-)

commit d8ab9e6c42cb3513a6623df0c2866e1ebbd96485
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Aug 31 09:42:49 2006 -0700

    Automatically remove invalid cache files.

    Cache files for missing or more recently modified directories are
    automatically removed at the end of every fc-cache run.

 fc-cache/Makefile.am |   2 +-
 fc-cache/fc-cache.c  | 130
 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 fc-cat/fc-cat.c      |   3 +-
 src/fccache.c        |   6 +--
 src/fcint.h          |   2 +-
 5 files changed, 135 insertions(+), 8 deletions(-)

commit e9a564e2cd3cb40109a1133dbbcee9f938f141b3
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Aug 31 09:07:32 2006 -0700

    Serialized value lists were only including one value.

    The next pointer in the serialized value list wasn't getting set,
    so they
    were truncated at a single value.

 src/fcpat.c | 1 +
 1 file changed, 1 insertion(+)

commit c50ea916b0e56520948804b67fc7df57bb490575
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Aug 30 23:09:39 2006 -0700

    Use intptr_t instead of off_t inside FcCache structure.

    This avoids OS-dependencies in the cache file structure.

 src/fcint.h       | 2 +-
 src/fcserialize.c | 1 -
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 76abb77f26c43d069919f80e960c71c2242fb5c2
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Aug 30 22:23:25 2006 -0700

    Fix fc-cat again. Sigh.

    Internal interfaces in cache management changed again...

 fc-cat/fc-cat.c | 37 +++++++++++++++++++++++++------------
 src/fccache.c   | 19 ++++++++++---------
 src/fcint.h     |  9 ++++++---
 3 files changed, 41 insertions(+), 24 deletions(-)

commit 2d3387fd720f33f80847ae6cbb83d94c9a52fde3
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Aug 30 21:59:53 2006 -0700

    Skip broken caches. Cache files are auto-written, don't rewrite
    in fc-cache.

    Validate cache contents and skip broken caches, looking down cache
    path for
    valid ones.

    Every time a directory is scanned, it will be written to a cache
    file if
    possible, so fc-cache doesn't need to re-write the cache file. This
    makes
    detecting when the cache was generated a bit tricky, so we guess
    that if the
    cache wasn't valid before running and is valid afterwards, the
    cache file
    was written.

    Also, allow empty charsets to be serialized with null leaves/numbers.

    Eliminate a leak in FcEdit by switching to FcObject sooner.

    Call FcFini from fc-match to make valgrind happy.

 fc-cache/fc-cache.c |  25 +++++----
 fc-match/fc-match.c |   1 +
 src/fccache.c       | 148
 +++++++++++++++++++++++++++-------------------------
 src/fccfg.c         |  80 ++++++++--------------------
 src/fccharset.c     |  56 +++++++++++---------
 src/fcdir.c         |   2 +-
 src/fcint.h         |  19 +++++--
 src/fcxml.c         |  19 +++----
 8 files changed, 169 insertions(+), 181 deletions(-)

commit 09f9f6f62ac94f7b1a6df649a00c64f78ab132f5
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Aug 30 18:50:58 2006 -0700

    Rework Object name database to unify typechecking and object lookup.

    Eliminate ancient list of object name databases and load names
    into single
    hash table that includes type information. Typecheck all pattern
    values to
    avoid mis-typed pattern elements.

 fc-case/fc-case.c |  13 --
 src/fcint.h       |   7 +-
 src/fcmatch.c     |   9 +-
 src/fcname.c      | 389
 ++++++++++++++++++++++++++++++------------------------
 src/fcpat.c       |   2 +-
 5 files changed, 233 insertions(+), 187 deletions(-)

commit c02886485b293179e8492cad9a34eb431dd4bfc9
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Aug 30 13:51:03 2006 -0700

    FcCharSetSerialize was using wrong offset for leaves. Make fc-cat
    work.

    FcCharSetSerialize was computing the offset to the unserialized leaf,
    which left it pointing at random data when the cache was reloaded.

    fc-cat has been updated to work with the new cache structure.

    Various debug messages extended to help diagnose serialization errors.

 fc-cat/fc-cat.c | 134
 ++++++++++++++++++++++++++++++--------------------------
 src/fccache.c   |   6 +--
 src/fccharset.c |   3 +-
 src/fcdbg.c     |  20 +++++++--
 src/fcint.h     |  15 +++++--
 src/fcpat.c     |   7 +++
 6 files changed, 110 insertions(+), 75 deletions(-)

commit e3096d90fd3e0ba8b62d2c6df4cfb24f08a0766c
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Aug 30 04:24:03 2006 -0700

    Fix build problems caused by cache rework.

    Pagesize no longer matters in architecture decisions, the entire
    cache file
    is mmaped into the library. However, lots of intptr_t values are in
    use now,
    so that value is important.

    fc-lang now requires fcserialize.c, which has been added to the
    repository.

 fc-arch/fc-arch.c     |  14 +----
 fc-arch/fcarch.tmpl.h |   4 +-
 fc-lang/fc-lang.c     |   1 +
 src/fcserialize.c     | 159
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 165 insertions(+), 13 deletions(-)

commit 7ce196733129b0e664c1bdc20f973f15167292f7
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Aug 30 04:16:22 2006 -0700

    Rework cache files to use offsets for all data structures.

    Replace all of the bank/id pairs with simple offsets, recode several
    data structures to always use offsets inside the library to avoid
    conditional paths. Exposed data structures use pointers to hold
    offsets,
    setting the low bit to distinguish between offset and pointer.

    Use offset-based data structures for lang charset encodings;
    eliminates
    separate data structure format for that file.

    Much testing will be needed; offsets are likely not detected
    everywhere in
    the library yet.

 fc-arch/fcarch.tmpl.h   |    3 +-
 fc-lang/fc-lang.c       |  185 +++++----
 fontconfig/fontconfig.h |    3 -
 src/Makefile.am         |    1 +
 src/fccache.c           |  581 +++++++++++----------------
 src/fccfg.c             |  102 +++--
 src/fccharset.c         |  493 ++++++++---------------
 src/fcdbg.c             |   43 +-
 src/fcdefault.c         |   64 +--
 src/fcfs.c              |  133 ++----
 src/fcint.h             |  477 +++++++++++++---------
 src/fclang.c            |  120 ++----
 src/fclist.c            |   86 ++--
 src/fcmatch.c           |  179 +++------
 src/fcname.c            |  142 ++-----
 src/fcpat.c             | 1025
 ++++++++++++++---------------------------------
 src/fcstr.c             |    1 +
 src/fcxml.c             |   15 +-
 18 files changed, 1394 insertions(+), 2259 deletions(-)

commit 2a9179d8895c1cc90d02917f7bb6fac30ffb6a62
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Aug 28 11:51:12 2006 -0700

    Revert to original FcFontSetMatch algorithm to avoid losing fonts.

    The fancy new FcFontSetMatch algorithm would discard fonts for the
    wrong reasons; fc-match sans:lang=en,ja would discard all fonts
    without
    Japanese support. This commit reverts to the original algorithm which
    ensure that FcFontSetMatch always matches the first font in the
    FcFontSetSort return list.

 src/fcmatch.c | 229
 ++++++++--------------------------------------------------
 1 file changed, 32 insertions(+), 197 deletions(-)

commit ad05e3135b43f82c64d74f17dfec0b44fe7efcf0
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Aug 28 10:38:27 2006 -0700

    Add ppc architecture

 fc-arch/fcarch.tmpl.h | 1 +
 1 file changed, 1 insertion(+)

commit 7a03bbdceb4ea5b673caf89bfcafa84211a456f0
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Aug 28 10:30:22 2006 -0700

    During test run, remove cache directory to avoid stale cache usage.

    As file timestamps have only one second granularity, an old cache
    file could easily be used when a test took less than 1 second to run.
    Just remove the cache directory and its contents before each test
    is run.
    Also, remove mention of the old cache file from the test config file.

 test/fonts.conf.in | 1 -
 test/run-test.sh   | 4 +---
 2 files changed, 1 insertion(+), 4 deletions(-)

commit 1e4080ea49160c5af24400b8daf701412a0cc7cb
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Aug 28 10:07:43 2006 -0700

    Add x86-64 architecture and signature.

 fc-arch/fcarch.tmpl.h | 1 +
 1 file changed, 1 insertion(+)

commit 7db39f729859827b246da242a26ddba13cb8c4b1
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Aug 28 09:43:12 2006 -0700

    Regenerate x86 line in fcarch.tmpl.h to match change in cache data.

    Also remove spurious printf of directory names.

 fc-arch/Makefile.am   | 2 +-
 fc-arch/fcarch.tmpl.h | 2 +-
 src/fcdir.c           | 1 -
 3 files changed, 2 insertions(+), 3 deletions(-)

commit 0d9e31c810a36cddadff7572fdbb5a1b505e495e
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Aug 27 23:40:51 2006 -0700

    Eliminate ./ and ../ elements from font directory names when scanning.

    FcStrCanonFilename eliminates ./ and ../ elements from pathnames
    through
    simple string editing. Also, relative path names are fixed by
    prepending the
    current working directory.

 src/fcdir.c | 45 ++++++++++++++++++++++++++++++---------------
 src/fcint.h |  3 +++
 src/fcstr.c | 57
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 90 insertions(+), 15 deletions(-)

commit af180c40376690b7ced5262156fbe13c9ebba1e2
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Aug 27 22:24:39 2006 -0700

    Fix up fc-cache and fc-cat for no global cache changes.

    fc-cache and fc-cat use internal (fcint.h) APIs that have
    changed with the elimination of the global cache.

 fc-cache/fc-cache.c |   2 +-
 fc-cat/fc-cat.c     | 119
 ++++++----------------------------------------------
 src/fccache.c       |  77 +++++++++++++++++++++++-----------
 src/fcdir.c         |  13 +++---
 src/fcint.h         |   4 ++
 5 files changed, 76 insertions(+), 139 deletions(-)

commit 00f059e930f12ca7c66cf2ffbc6c4ae789912af7
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Aug 27 21:53:48 2006 -0700

    Eliminate global cache. Eliminate multi-arch cache code.

    With the removal of the in-directory cache files, and the addition of
    per-user cache directories, there is no longer any reason to
    preserve the
    giant global cache file. Eliminating of this unifies the cache
    structure
    and simplifies the overall caching strategies greatly.

 fc-cache/fc-cache.c |    3 +-
 src/fccache.c       | 1051
 ++++++---------------------------------------------
 src/fccfg.c         |   23 +-
 src/fcdir.c         |  164 ++++----
 src/fcint.h         |   70 +---
 5 files changed, 203 insertions(+), 1108 deletions(-)

commit cf65c0557e9fa1b86003d1ec8643f44f4344ebd2
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Aug 27 18:29:51 2006 -0700

    Add architecture to cache filename.

    Make cache filenames unique by inserting the architecture name
    into the
    filename.

 src/fccache.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit db50cbdaf592349c204ab0af0e7061ea72237044
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Aug 27 18:19:39 2006 -0700

    Eliminate NormalizeDir. Eliminate gratuitous stat/access calls
    per dir.

    Normalized directory names offer protection against looped directory
    trees
    but cost enormous numbers of system calls (stat per file in the
    hierarchy).
    Also, cache file directory name contents are validated each time the
    directory is modified, don't re-validate every time the cache file
    is loaded
    with an access and stat call.

 fc-cache/fc-cache.c |   7 ++--
 src/fccache.c       |  55 ++---------------------------
 src/fccfg.c         | 100
 ----------------------------------------------------
 src/fcdir.c         |   6 ----
 4 files changed, 4 insertions(+), 164 deletions(-)

commit d2f786849c0c4503360a5c09469505b05164c6d2
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Aug 27 17:04:01 2006 -0700

    Write caches to first directory with permission. Valid cache in
    FcDirCacheOpen.

    Previous policy was to attempt to update the cache in place and bail
    if that
    didn't work. Now, search for the first writable directory and
    place the
    cache file there instead. Furthermore, on startup, search directory
    list for
    valid cache files instead of bailing if the first found cache
    file wasn't
    valid.

 fonts.conf.in |  2 +-
 src/fccache.c | 90
 ++++++++++++++++++++++++++++-------------------------------
 2 files changed, 43 insertions(+), 49 deletions(-)

commit 2b629781d74b5a7db1fff873ce5322e59a0f863a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Aug 27 16:25:07 2006 -0700

    Construct short architecture name from architecture signature.

    Map existing architecture signature to short architecture name
    at build time. This architecture name is (as yet) unused, but will
    be used
    to build per-architecture cache files with names made unique by
    including
    the architecture name. The auto-detected architecture name can
    be overridden
    with the --with-arch=ARCH configure option.

 Makefile.am           |   2 +-
 configure.in          |  17 ++++++
 fc-arch/Makefile.am   |  50 ++++++++++++++++++
 fc-arch/fc-arch.c     | 144
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 fc-arch/fcarch.tmpl.h |  32 +++++++++++
 5 files changed, 244 insertions(+), 1 deletion(-)

commit 199a92241151c391d9becca4fae1cc7e5e32ca80
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Aug 27 16:21:16 2006 -0700

    Add .gitignore

 .gitignore | 73
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 73 insertions(+)

commit 7410e40bd93beb4ab1a577d084112413431cede2
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Aug 4 16:13:00 2006 +0000

    2006-08-04 Keith Packard (keithp@keithp.com) reviewed by: plam
    Make cache directories configurable. Simplify and correct some
    code which
        deals with per-directory caches.

 ChangeLog               |  24 ++++
 configure.in            |  22 +++-
 fc-cache/fc-cache.c     |   7 +-
 fontconfig/fontconfig.h |   4 +-
 fonts.conf.in           |   5 +
 fonts.dtd               |  12 ++
 src/Makefile.am         |   3 +-
 src/fccache.c           | 323
 +++++++++++++++++++++++++-----------------------
 src/fccfg.c             |  28 ++++-
 src/fcdir.c             |   6 +-
 src/fcinit.c            |   2 +
 src/fcint.h             |  13 +-
 src/fcxml.c             |  17 +++
 test/fonts.conf.in      |   1 +
 test/run-test.sh        |   6 +-
 15 files changed, 294 insertions(+), 179 deletions(-)

commit 62a4a8459adaf26833e1dad0ee96ea5a4b8c3d54
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Jul 19 02:14:28 2006 +0000

    2006-07-19 Jon Burgess (jburgess@uklinux.net) reviewed by: plam
    Fix file-descriptor leak in FcGlobalCacheDestroy.

 ChangeLog     | 7 +++++++
 src/fccache.c | 2 ++
 2 files changed, 9 insertions(+)

commit 1c14f2d96390ebafb390a953aa9b847e4a7303d7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Jun 2 18:48:30 2006 +0000

    2006-05-31 Yong Li (rigel863@gmail.com) reviewed by: plam, Bedhad
    Esfahbod
    TrueType Collection table offsets are absolute, not relative.

 ChangeLog    | 7 +++++++
 src/ftglue.c | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 31b7e6d7f58616ebdc6281c3230282a2d7b57d6d
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Apr 28 07:00:25 2006 +0000

    2006-04-27 Paolo Borelli (pborelli@katamail.com) reviewed by: plam
    Make FcStrCopy slightly more efficient.

 ChangeLog   |  7 +++++++
 src/fcstr.c | 12 +++++++-----
 2 files changed, 14 insertions(+), 5 deletions(-)

commit 0037aad501e18e53acd2590483b99aaa2a1fba8c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Apr 27 08:13:45 2006 +0000

    Keith Packard <keithp@keithp.com>
    Reduce transient memory usage during config file parsing by allocating
        smaller buffers (64 seems to be a magic number).

 ChangeLog   | 20 +++++++-------------
 src/fcstr.c |  2 +-
 2 files changed, 8 insertions(+), 14 deletions(-)

commit 529291bef436384a06db246fda30e08d5812de14
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 27 07:54:07 2006 +0000

    Eliminate pattern freezing

 ChangeLog    |   8 ++
 src/fcinit.c |   4 -
 src/fcint.h  |   3 -
 src/fcpat.c  | 370
 -----------------------------------------------------------
 src/fcxml.c  |   3 +-
 5 files changed, 9 insertions(+), 379 deletions(-)

commit c1c3ba06d5f5e00a1bfef4ef0dbf10f28fa86ce2
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 27 07:11:44 2006 +0000

    Make path names in cache files absolute (NB, cache format change) Stop
        permitting cache files to be stored in font dirs. Bump cache
        magic.
        Don't include /fonts.cache-2 in cache hash construction.
    reviewed by: Patrick Lam <plam@mit.edu>

 ChangeLog        |  30 +++++++++++++
 src/fccache.c    | 104 +++++++++++---------------------------------
 src/fcfreetype.c |  10 +----
 src/fcint.h      |   8 +---
 src/fclist.c     |   4 --
 src/fcmatch.c    |   3 --
 src/fcpat.c      | 130
 -------------------------------------------------------
 7 files changed, 57 insertions(+), 232 deletions(-)

commit 3b013a034acac70f3ceee05505bf5bb4dd45963b
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Apr 26 14:50:41 2006 +0000

    Really update for 2.3.95.

 README | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 73775d8f28bd8f5c40b524fe1ede63d3dfaff171
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Apr 25 15:33:07 2006 +0000

    Fix the issues with GNU libiconv vs. libc iconv (which especially
    appear on
        Solarii). Approach suggested by Tim Mooney.
    reviewed by: plam

 ChangeLog        | 12 +++++++++++-
 configure.in     | 37 +++++++++++++++++++++++++++++++++++--
 src/Makefile.am  |  2 +-
 src/fcfreetype.c |  3 +--
 4 files changed, 48 insertions(+), 6 deletions(-)

commit 49512317264da1996bddf0b3c82d8d2de0c201eb
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Apr 25 06:12:06 2006 +0000

    Include $(top_srcdir), $(top_srcdir)/src before anything else.
    Shuffle order of includes for building out of srcdir on win32.
    reviewed by: plam

 ChangeLog | 17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit f045376c0831f068e8fd8fd61773a5ed83dede7f
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Apr 25 05:57:41 2006 +0000

    Include $(top_srcdir), $(top_srcdir)/src before anything else.
    Shuffle order of includes for building out of srcdir on win32.
    reviewed by: plam

 fc-cache/fc-cache.c | 15 ++++++++-------
 fc-cat/fc-cat.c     | 17 +++++++++--------
 fc-match/fc-match.c | 11 ++++++-----
 src/Makefile.am     |  6 +++---
 src/fccache.c       |  2 +-
 src/fccfg.c         |  2 +-
 src/fccharset.c     |  2 +-
 src/fcdbg.c         |  2 +-
 src/fcfreetype.c    |  2 +-
 src/fcfs.c          |  2 +-
 src/fcinit.c        |  2 +-
 src/fclist.c        |  2 +-
 src/fcmatch.c       |  2 +-
 src/fcmatrix.c      |  2 +-
 src/fcname.c        |  2 +-
 src/fcpat.c         |  2 +-
 src/fcstr.c         |  2 +-
 src/fcxml.c         |  2 +-
 18 files changed, 40 insertions(+), 37 deletions(-)

commit 55e145b0250e5c233d9fed1f8f5efe690374cdf2
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Apr 20 16:57:50 2006 +0000

    Prevent terrible perf regression by getting the if-condition right
        (reported by Wouter Bolsterlee).

 ChangeLog     | 8 +++++++-
 src/fcmatch.c | 2 +-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 93f67dfc73601ea2f73c1fa2d9f4f13a84cf1232
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Apr 19 16:53:50 2006 +0000

    Dominic Lachowicz <cinamod@hotmail.com>
    Implement mmap-like code for Windows using MapViewOfFile.

 ChangeLog     |  7 +++++++
 src/fccache.c | 23 ++++++++++++++++++++---
 2 files changed, 27 insertions(+), 3 deletions(-)

commit 56f8358364ad9078d99a35a12d7734884b8fccc2
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Apr 19 16:17:46 2006 +0000

    Bump version to 2.3.95.

 ChangeLog | 8 ++++++++
 1 file changed, 8 insertions(+)

commit c001a192af784a3e7aa680cc925a4f6fc8f5b502
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Apr 19 16:17:19 2006 +0000

    Bail gracefully if the cache file does not contain enough data.

 ChangeLog               |  5 +++++
 README                  | 23 +++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 src/fccache.c           | 19 ++++++++++++++++++-
 5 files changed, 46 insertions(+), 5 deletions(-)

commit a77572948ed9ce3e7fdffcfadd8772a5f962e4ed
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Apr 15 00:25:20 2006 +0000

    Give the 'Standard Symbols L' match a strong (vs. weak) binding.

 ChangeLog     |  5 +++++
 fonts.conf.in | 13 ++++++++-----
 2 files changed, 13 insertions(+), 5 deletions(-)

commit 8cfa0bbc822169c5c2dae8a0e089c225c5944558
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Apr 14 18:35:16 2006 +0000

    Fix Gecko-exposed segfault from my last hack to FcObjectToPtrLookup.
        Simplify code and get things straight.

 ChangeLog    |  6 ++++++
 src/fcname.c | 20 +++++---------------
 2 files changed, 11 insertions(+), 15 deletions(-)

commit b43dbbdc92fc81d6f8e54b30c2d5062c1a20a105
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Apr 14 15:40:58 2006 +0000

    Actually, just add URW fonts as aliases for all of the PostScript
    fonts.
        (reported by Miguel Rodriguez).

 ChangeLog     |  6 ++++++
 fonts.conf.in | 36 ++++++++++++++++++++++++++++++------
 2 files changed, 36 insertions(+), 6 deletions(-)

commit ca2556f2632f80ae4ed7e5c9e5f5bf8f3e738992
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Apr 14 14:51:22 2006 +0000

    Add an alias 'Standard Symbols L' for 'Symbol'.

 ChangeLog     | 5 +++++
 fonts.conf.in | 6 +++++-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 2f02e38361b24032945e24f7f8480999bf9df1e2
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Apr 12 14:36:36 2006 +0000

    Fix memory leak (Coverity defect #2089).
    Ignore script if subtable is missing (Coverity defect #2088).
    Fix possible null pointer dereference (Coverity defect #784)
    and memory
        leak (Coverity defects #785, #786).
    Don't copy FcCharSet if we're going to throw it away anyway. (Reported
    by
        Kenichi Handa).
    reviewed by: plam

 ChangeLog        | 21 +++++++++++++++++++++
 src/fccfg.c      |  4 +++-
 src/fcfreetype.c |  5 +----
 src/fcmatch.c    | 33 ++++++++++++++++++++-------------
 src/fcpat.c      |  7 ++++++-
 5 files changed, 51 insertions(+), 19 deletions(-)

commit a56e89ab4f21aa6288345c63d2c43e55561632e0
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Apr 12 03:02:57 2006 +0000

    Fix bad behaviour on realloc resulting in crash.
    reviewed by: plam

 ChangeLog    |  7 +++++++
 src/fcname.c | 17 ++++++++++-------
 2 files changed, 17 insertions(+), 7 deletions(-)

commit 5c90509c073b3879fd9e3a2dc9dddeb724757ccf
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Apr 12 02:38:28 2006 +0000

    Don't crash if config is null (Coverity defect #984).

 ChangeLog     | 13 +++++++++----
 src/fccache.c |  5 +++--
 2 files changed, 12 insertions(+), 6 deletions(-)

commit 2de24638b23f65b5586cebe3e9d9f4577a40673e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Apr 11 16:54:24 2006 +0000

    Missing bits from previous patches.
    Remove extra semi-colon.
    Fix memory leak in error case (Coverity defects #776, #985).
    Fix memory leaks (Coverity defects #779, #781) and memory use
    after free
        (Coverity defect #780).
    reviewed by: plam

 ChangeLog       | 18 ++++++++++++++++++
 src/fccfg.c     | 13 +++++++++----
 src/fccharset.c |  5 ++++-
 src/fclang.c    |  1 +
 src/fcxml.c     |  4 +++-
 5 files changed, 35 insertions(+), 6 deletions(-)

commit 04f7d3e7fd5069965bc74e678fc51b0412d15aa9
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Apr 11 14:20:59 2006 +0000

    Properly convert static charsets to dynamic charsets.
    Fix memory leak in error case (Coverity defects #1820, #1821, #1822).
    Fix memory leak (Coverity defect #1819).
    prevent crash when invalid include line is parsed (Coverity defect
    #763).
    Fix potential null pointer access (Coverity defect #1804).
    Remove dead code (Coverity defect #1194).
    Prevent potential null pointer access (Coverity defect #767),
    ensure error
        value is read (Coverity defect #1195).
    reviewed by: plam

 ChangeLog         | 29 +++++++++++++++++++++++++++++
 fc-cat/fc-cat.c   |  4 +++-
 fc-lang/fc-lang.c |  3 +++
 src/fccharset.c   |  5 +++++
 src/fcfreetype.c  |  6 ++++--
 src/fclang.c      |  8 +++++++-
 src/fcname.c      |  8 --------
 src/fcpat.c       | 11 ++++++++++-
 8 files changed, 61 insertions(+), 13 deletions(-)

commit af2ad236f037c7a53e73b9454f620de1a52f0422
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Apr 11 05:08:26 2006 +0000

    Survive missing docbook2pdf.
    reviewed by: plam

 ChangeLog       | 11 +++++++++--
 doc/Makefile.am | 10 ++++++----
 2 files changed, 15 insertions(+), 6 deletions(-)

commit 67ed0b729718233662255a181bdcdb136c04dc5b
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Apr 10 22:08:35 2006 +0000

    Include more stub definitions to make HP-UX's C compiler happy.

 ChangeLog                   | 7 +++++++
 fc-case/fc-case.c           | 3 +++
 fc-glyphname/fc-glyphname.c | 3 +++
 fc-lang/fc-lang.c           | 3 +++
 4 files changed, 16 insertions(+)

commit ac0010940e626cb9193bb4ad0271f3820c7225ee
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Apr 10 21:04:54 2006 +0000

    Swap typo in order of ALIGN and dereferencing, fixing bug 6529.

 ChangeLog    | 5 +++++
 src/fcname.c | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 3ea92166a0e45b0c7d7e9ecc0546317640c50336
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Apr 10 19:33:03 2006 +0000

    Fix string memory leak (Coverity defect #1823).
    Fix memory leak with hash collision (Coverity defect #1824).
    reviewed by: plam

 ChangeLog     | 9 +++++++++
 src/fccache.c | 1 +
 src/fccfg.c   | 5 ++++-
 3 files changed, 14 insertions(+), 1 deletion(-)

commit c814c301ee4dcc67eeacee9608fb716e67534356
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Apr 10 16:12:55 2006 +0000

    Don't leak header in non-error case (Coverity defect #1825).
    reviewed by: plam

 ChangeLog     | 6 ++++++
 src/fccache.c | 2 ++
 2 files changed, 8 insertions(+)

commit 65448e8b2af9bec38f86ab45916a9bcc7726ae30
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Apr 10 16:06:42 2006 +0000

    src/fcdir.c (FcDirScanConfig) Don't leak in error cases (Coverity
    defects
        #777, #1826)
    reviewed by: plam

 ChangeLog   |  6 ++++++
 src/fcdir.c | 54 +++++++++++++++++++++++++++++++++++++-----------------
 2 files changed, 43 insertions(+), 17 deletions(-)

commit ae2aafe6028be658bd1de0fe2dd309799bf575f7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Apr 10 15:46:34 2006 +0000

    Fix double free (spotted by Coverity, CID #1965).
    Check if pattern is not null before using it (Coverity defect #1883).
    Fix memory leak with hash collision (Coverity defect #1829).
    Fix memory leak when bail cases (Coverity defect #1828).
    Don't leak directory name (Coverity defect #1827).
    reviewed by: plam

 ChangeLog           | 18 ++++++++++++++++++
 fc-match/fc-match.c |  6 ++++--
 src/fccache.c       | 10 +++++++---
 src/fccfg.c         |  1 +
 4 files changed, 30 insertions(+), 5 deletions(-)

commit 86abd75965f598dba79a3df68e7bc4c5082a5764
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Apr 7 18:07:51 2006 +0000

    LD_ADD missing dependencies for binaries. Reported by Edson Alves
    Pereira.
    reviewed by: plam

 ChangeLog            | 10 ++++++++++
 fc-cache/Makefile.am |  2 +-
 fc-cat/Makefile.am   |  2 +-
 fc-list/Makefile.am  |  3 +--
 fc-match/Makefile.am |  2 +-
 5 files changed, 14 insertions(+), 5 deletions(-)

commit f23f5f388d93655af972083513ba4d505ec4f449
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Apr 7 17:37:09 2006 +0000

    SGI compilation fixes (reported by Christoph Bauer):
    1) reorder union definition of _FcChar;
    2) omit .stats =.

 ChangeLog         | 8 ++++++++
 fc-lang/fc-lang.c | 2 +-
 src/fcint.h       | 8 ++++----
 3 files changed, 13 insertions(+), 5 deletions(-)

commit 44415a079a3e9951e0c2424edca4907a93a60db5
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Apr 7 17:27:39 2006 +0000

    Portability fixes for HP-UX (reported by Christoph Bauer). Replace
        '__inline__' by AC_C_INLINE and 'inline'. Replace '__alignof__' by
        'fc_alignof'.
    reviewed by: plam

 ChangeLog       | 15 +++++++++++++++
 configure.in    |  1 +
 src/fccharset.c |  4 ++--
 src/fcfs.c      |  2 +-
 src/fcint.h     | 15 +++++++++------
 src/fclang.c    |  2 +-
 src/fcname.c    |  2 +-
 src/fcpat.c     |  6 +++---
 8 files changed, 33 insertions(+), 14 deletions(-)

commit 91fe51b4f8cf792041bc5cad34797b87abd63e67
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Apr 7 17:06:55 2006 +0000

    Move up #include of config.h. Fail if neither inttypes.h nor
    stdint.h is
        available. Fixes bug 6171.
    reviewed by: plam

 ChangeLog   |  8 ++++++++
 src/fcint.h | 11 +++++++----
 2 files changed, 15 insertions(+), 4 deletions(-)

commit d6217cc6bcce0768ce1e01c077e90967ff91db5a
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Apr 7 04:42:32 2006 +0000

    Patrick Lam <plam@mit.edu>
    Make fontconfig compile under MinGW:
    1) remove unneeded #includes;
    2) make use of mmap and sysconf conditional;
    3) replace rand_r by srand/rand if needed;
    4) use chsize instead of ftruncate; and
    5) update libtool exports file

 ChangeLog             |  18 +++
 configure.in          |   3 +-
 fc-cache/fc-cache.c   |   7 +
 fc-cat/fc-cat.c       |   1 -
 src/fccache.c         |  74 +++++++++-
 src/fcfreetype.c      |   3 +-
 src/fontconfig.def.in | 370
 ++++++++++++++++++++++++++++++++++----------------
 7 files changed, 353 insertions(+), 123 deletions(-)

commit 3a342c5a6ca6c27fdddf0c669392b7ab1d6e3f7e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Apr 7 04:19:49 2006 +0000

    Eliminate warning.

 ChangeLog   | 5 +++++
 src/fcdir.c | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit e79c648c7a27a1afdde813105d0727e3ee6bc9fd
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Apr 6 05:15:08 2006 +0000

    file fc-match.sgml was initially added on branch fc-2_4_branch.

commit 8b4e7628e1d8baca4f55fcdd76101b8b3e015044
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Apr 6 05:15:08 2006 +0000

    Update documentation for fc-match (SGML-ize it). (reported by Ilya
        Konstantinov)

 ChangeLog              |   8 +++
 fc-match/.cvsignore    |   1 +
 fc-match/Makefile.am   |  27 +++++++-
 fc-match/fc-match.1    |  37 -----------
 fc-match/fc-match.sgml | 169
 +++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 203 insertions(+), 39 deletions(-)

commit 392fa276dcae8d4c66607bbbd8dd30354a331afc
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Apr 6 04:52:21 2006 +0000

    Reduce amount of dirty rss by const'ing some data structures.
    Don't fail if we can't create or remove $(pkgcachedir) i.e.
        /var/cache/fontconfig. (reported by Quanah Gibson-Mount).
    reviewed by: plam

 ChangeLog            | 15 +++++++++++++++
 fc-cache/Makefile.am |  4 ++--
 src/fcdefault.c      |  2 +-
 src/fcpat.c          |  2 +-
 src/fcxml.c          |  2 +-
 5 files changed, 20 insertions(+), 5 deletions(-)

commit 0d745819a9ec491349d4e122a7d44d689b2d3479
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Apr 6 04:33:11 2006 +0000

    Fix intel compiler warnings: make many variables static, eliminate
        duplicate names, reduce variable scopes, unsigned/signed printf
        formatting.
    reviewed by: plam

 ChangeLog                   | 16 ++++++++++++++++
 fc-case/fc-case.c           |  8 ++++----
 fc-glyphname/fc-glyphname.c | 12 ++++++------
 fc-lang/fc-lang.c           |  8 ++++----
 fc-match/fc-match.c         |  2 +-
 src/fccache.c               | 11 ++++++-----
 src/fcfreetype.c            |  4 +---
 src/fclang.c                |  5 ++---
 src/fcxml.c                 | 14 +++++++-------
 9 files changed, 47 insertions(+), 33 deletions(-)

commit b17cf498be69f483e6355ae468f7239165df3ffb
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Mar 24 15:21:10 2006 +0000

    Fix multiarch support (don't destroy multiarch files!)
    Require pkg-config. (Thanks Behdad; better solution wanted for libxml2
        detection!)
    reviewed by: plam

 ChangeLog     | 12 ++++++++++++
 configure.in  |  2 ++
 fonts.conf.in |  7 ++++++-
 src/fccache.c |  3 ++-
 4 files changed, 22 insertions(+), 2 deletions(-)

commit ba76916ff64d476d5c5564e46a5d4209cb942864
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Mar 23 04:22:28 2006 +0000

    On Windows, unlink before rename. Reported by Tim Evans.

 ChangeLog      | 5 +++++
 src/fcatomic.c | 3 +++
 2 files changed, 8 insertions(+)

commit c02218223153b3022071e789def3fde8b556d6d6
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Mar 23 04:21:10 2006 +0000

    On Windows, unlink before rename. Reported by Tim Evans.

 ChangeLog      | 5 +++++
 src/fcatomic.c | 3 +++
 2 files changed, 8 insertions(+)

commit d8fda87d5e306eea6b07d0e4f8c6fb1cc2f25804
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 15 15:59:33 2006 +0000

    Fix typos in orth files. Reported by Denis Jacquerye.

 fc-lang/ab.orth  | 2 +-
 fc-lang/ibo.orth | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 04af4f56dcaa6bdfbc67c0bc184ac88ccdfb03c1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 15 15:58:59 2006 +0000

    Fix typos in orth files. Reported by Denis Jacquerye.

 ChangeLog        | 6 ++++++
 fc-lang/ab.orth  | 2 +-
 fc-lang/ibo.orth | 2 +-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit fd11da8464309d6d562bdf2cd59e22cc3763c65a
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 8 20:57:39 2006 +0000

    Fix Makefile.am for removal of debian/ directory.

 ChangeLog           |  7 +++++++
 Makefile.am         | 35 +----------------------------------
 config/config.guess | 51
 +++++++++++++++++++++++++++++++++++++++++----------
 config/config.sub   | 47 ++++++++++++++++++++++++++++++++++++++---------
 4 files changed, 87 insertions(+), 53 deletions(-)

commit c957abedc73ac8f22bc56e04342ff3bb6cb29ad1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 8 20:38:39 2006 +0000

    .cvsignore
    Ignore debian/ directory for CVS.

 .cvsignore | 1 +
 ChangeLog  | 6 +++++-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit dcd49fcc23239be8fc0c3ca62a5fd3e059f19c02
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 8 20:33:42 2006 +0000

    debian/*
    Now remove debian/ directory.

 ChangeLog                         |   5 +
 debian/README.Debian              |  45 ---
 debian/changelog                  | 718
 --------------------------------------
 debian/compat                     |   1 -
 debian/control                    |  80 -----
 debian/copyright                  |  29 --
 debian/fontconfig-udeb.install    |   3 -
 debian/fontconfig.config          |  10 -
 debian/fontconfig.defoma          | 162 ---------
 debian/fontconfig.dirs            |   1 -
 debian/fontconfig.install         |   7 -
 debian/fontconfig.postinst        | 145 --------
 debian/fontconfig.postrm          |  26 --
 debian/fontconfig.templates       |  27 --
 debian/libfontconfig1-dev.install |   7 -
 debian/libfontconfig1.install     |   1 -
 debian/local.conf.md5sum          |  18 -
 debian/rules                      |  40 ---
 18 files changed, 5 insertions(+), 1320 deletions(-)

commit ccda304eac0cafabb765a8b04d3f0b9f0c9e8944
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 8 20:32:56 2006 +0000

    debian/po/*
    .cvsignore
    Remove debian/ directory from sources. See Debian's subversion
    server at
        svn://svn.debian.org/pkg-freedesktop/trunk/fontconfig instead.

 ChangeLog               |   8 +++
 debian/po/POTFILES.in   |   1 -
 debian/po/cs.po         | 127 -------------------------------------
 debian/po/da.po         | 146 -------------------------------------------
 debian/po/de.po         | 124 ------------------------------------
 debian/po/es.po         | 163
 ------------------------------------------------
 debian/po/fr.po         | 159
 ----------------------------------------------
 debian/po/ja.po         |  88 --------------------------
 debian/po/nl.po         | 125 -------------------------------------
 debian/po/pt.po         | 112 ---------------------------------
 debian/po/pt_BR.po      | 148 -------------------------------------------
 debian/po/templates.pot |  84 -------------------------
 debian/po/tr.po         | 117 ----------------------------------
 debian/po/zh_CN.po      | 115 ----------------------------------
 14 files changed, 8 insertions(+), 1509 deletions(-)

commit 72b3e80625b6706edc1204fe1015b21c8d8300b8
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 8 19:27:25 2006 +0000

    file ln.orth was initially added on branch fc-2_4_branch.

commit 2509fc7ac15e02992fe5c51f1c58d2f396447883
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 8 19:27:25 2006 +0000

    Add orthography for Lingala.
    reviewed by: plam

 ChangeLog        |  8 ++++++++
 fc-lang/iso639-1 |  2 +-
 fc-lang/iso639-2 |  2 +-
 fc-lang/ln.orth  | 43 +++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 53 insertions(+), 2 deletions(-)

commit 37e3f33c7ec32432260b0ef750ac415763d6044f
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 8 19:19:05 2006 +0000

    Sort directory entries while scanning them from disk; prevents
    Heisenbugs
        due to file ordering in a directory.
    reviewed by: plam

 ChangeLog   |  8 ++++++++
 src/fcdir.c | 45 ++++++++++++++++++++++++++++++++++++++++++---
 2 files changed, 50 insertions(+), 3 deletions(-)

commit e01166d52a1a597f32b57ac47154332c0c6ab1bf
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 8 19:16:10 2006 +0000

    Add a configuration file that disables hinting for the Lohit
    Gujarati font
        (since the hinting distort some glyphs quite badly).
    reviewed by: keithp

 ChangeLog          | 9 +++++++++
 conf.d/Makefile.am | 1 +
 2 files changed, 10 insertions(+)

commit e3c6d3364c79838e5c30de072b97f7f091b1f81d
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 8 19:10:57 2006 +0000

    Sort directory entries while scanning them from disk; prevents
    Heisenbugs
        due to file ordering in a directory.
    reviewed by: plam

 ChangeLog   |  8 ++++++++
 src/fcdir.c | 44 +++++++++++++++++++++++++++++++++++++++++---
 2 files changed, 49 insertions(+), 3 deletions(-)

commit d8951c0cc2474176910277e8ca840fba5d8f3655
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Mar 8 02:30:43 2006 +0000

    Remove stuff we don't use, make get_{char,short,long} functions
    of ftglue
        macros to be inlined.
    Code cleanups (excess prototype, old-style function definition).
    reviewed by: plam

 ChangeLog        | 14 ++++++++++++++
 src/fcfreetype.c |  8 ++++----
 src/fcint.h      |  3 ---
 src/fcname.c     |  2 +-
 src/ftglue.c     | 55
 ++++++++-----------------------------------------------
 src/ftglue.h     | 39 +++++++++++----------------------------
 6 files changed, 38 insertions(+), 83 deletions(-)

commit 9226e04c69d7cb472999b1d8bc0cfa3c28054ebe
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Mar 5 15:33:46 2006 +0000

    Because we hacked FcPatternGet, we don't really need to expand
    the filename
        again in FcPatternGetString.

 ChangeLog   | 6 ++++++
 src/fcpat.c | 3 ---
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 618adbaf7bbad8441efb589417d7144476f828c7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Mar 5 06:05:50 2006 +0000

    Ok, so some people (wine!) use FcPatternGet to fetch FC_FILE. Make
    that
        work. Reported by Bernhard Rosenkraenzer.

 ChangeLog   |  6 +++++
 src/fcpat.c | 73
 +++++++++++++++++++++++++++++++++----------------------------
 2 files changed, 46 insertions(+), 33 deletions(-)

commit dc70c15aba6d14dbd5ce8bcd1bc36a39602fbc2c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Mar 3 18:35:42 2006 +0000

    Include inttypes.h instead of stdint.h if appropriate.

 ChangeLog   | 5 +++++
 src/fcint.h | 4 ++++
 2 files changed, 9 insertions(+)

commit ead55be0eddcaa60ed3f7147091ada276e891ed9
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Mar 3 18:19:04 2006 +0000

    More stub definitions and remove FcFileIsDir from fc-cat.

 ChangeLog                   |  6 ++++++
 fc-cat/fc-cat.c             | 10 ----------
 fc-glyphname/fc-glyphname.c | 10 ++++++++++
 3 files changed, 16 insertions(+), 10 deletions(-)

commit c003f5aec37e099d7f5a88d29cc4b2d5f1d002eb
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Mar 3 15:12:12 2006 +0000

    Fix compilation on AIX with stub definitions (bug 6097).

 ChangeLog         |  5 +++++
 fc-case/fc-case.c | 10 ++++++++++
 2 files changed, 15 insertions(+)

commit bb6b19938e2c9d115abd4f36439c365b63713bb1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Mar 3 06:35:53 2006 +0000

    Get rid of C++-style comments.

 ChangeLog        | 8 ++++++++
 src/fccache.c    | 4 ++--
 src/fcfreetype.c | 2 +-
 src/fcfs.c       | 8 ++++----
 src/fcpat.c      | 5 +++--
 5 files changed, 18 insertions(+), 9 deletions(-)

commit 5b4a40a955c9607e80a8da5a42a0da5923e3c509
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Mar 3 06:12:55 2006 +0000

    debian/changelog
    Enable creation of 2.3.94 Debian packages.

 ChangeLog        | 5 +++++
 debian/changelog | 5 +++++
 2 files changed, 10 insertions(+)

commit b36f2a39d0ad08d5ee6757f2e419021e63b39ea4
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Mar 3 06:11:31 2006 +0000

    Fix suspicious return expression which causes junk to be returned.
    reviewed by: plam

 ChangeLog    | 8 ++++++++
 src/fclang.c | 2 +-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit b152a85bdc5c911883af4b0e7930cbe12531d179
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Feb 24 19:32:58 2006 +0000

    Fix placement of @s.

 ChangeLog   |  5 +++++
 Makefile.am | 14 +++++++-------
 2 files changed, 12 insertions(+), 7 deletions(-)

commit 63d2df3f92b633ba82bfb4fb388062a21e0a0178
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Feb 24 19:19:09 2006 +0000

    Bump version to 2.3.94.

 ChangeLog               |  8 ++++++++
 README                  | 47
 +++++++++++++++++++++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 4 files changed, 55 insertions(+), 4 deletions(-)

commit 639475e873c797792fff63fbd8efd73e2b0695fd
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Feb 24 18:52:17 2006 +0000

    Remove unconditional emboldening (per Behdad's instructions).
    Add @s to hide some echos.

 ChangeLog                    |  9 +++++++++
 Makefile.am                  | 10 +++++-----
 conf.d/10-fonts-persian.conf |  6 ------
 3 files changed, 14 insertions(+), 11 deletions(-)

commit 0cfaf27e334e599bb3dcf8f06140e9577718191d
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Feb 24 16:41:34 2006 +0000

    Takashi Iwai <tiwai@suse.de> reviewed by: plam
    Fix double-free on error case.

 ChangeLog        | 8 ++++++++
 src/fcfreetype.c | 1 +
 2 files changed, 9 insertions(+)

commit cf5cf4cadb35c7ebabf025bf6781f69c390548c8
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Feb 22 04:50:16 2006 +0000

    Strip \r and whitespace from input; fixes bug 3454.

 ChangeLog         |  7 ++++++-
 fc-lang/fc-lang.c | 11 +++++++----
 2 files changed, 13 insertions(+), 5 deletions(-)

commit 69a3fc78e233957f9e1f6737eccada1494a937ae
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Feb 22 04:09:39 2006 +0000

    Allocate large arrays statically in fc-lang to fix crashes under
        MinGW/MSYS.

 ChangeLog         |  6 ++++++
 fc-lang/fc-lang.c | 18 +++++++++---------
 2 files changed, 15 insertions(+), 9 deletions(-)

commit 656b47f6988e001c5b6fdfee7a38dc8321e71454
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 21 15:56:41 2006 +0000

    Pass the buck; make fontconfig not crash on pango badness.

 ChangeLog        | 5 +++++
 src/fcfreetype.c | 4 ++++
 2 files changed, 9 insertions(+)

commit 9fb0e0743eaf44099bdb9b3ff04b5fc7f73792a3
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 21 15:53:43 2006 +0000

    Use embeddedbitmap rather than rh_prefer_bitmap.

 ChangeLog                    | 5 +++++
 conf.d/10-fonts-persian.conf | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit f2fb985c7a0e51109b1750e166e4244a833ffbe3
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 21 15:50:19 2006 +0000

    Eliminate redundancies.
    reviewed by: plam

 ChangeLog        | 11 +++++++++++
 src/fccache.c    |  3 ++-
 src/fcdir.c      |  3 ---
 src/fcfreetype.c |  1 -
 src/fcxml.c      |  3 +--
 src/ftglue.c     |  1 -
 6 files changed, 14 insertions(+), 8 deletions(-)

commit b023dbd38410521a459758498f99d3a48cdd313d
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 21 15:40:18 2006 +0000

    Eliminate unused vars reported by Intel's compiler.
    reviewed by: plam

 ChangeLog         | 10 ++++++++++
 fc-list/fc-list.c |  4 ++--
 src/fcfreetype.c  |  3 +--
 src/fcstr.c       |  3 +--
 src/fcxml.c       |  2 --
 5 files changed, 14 insertions(+), 8 deletions(-)

commit 2b90aee36399ec13ba3af929311b37d9494adab6
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 21 15:29:54 2006 +0000

    Remove one more archaic character.
    reviewed by: plam

 ChangeLog       | 7 +++++++
 fc-lang/ka.orth | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit dacf81ed4c541174f0dbfe2898f3309657bf6116
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 21 15:24:28 2006 +0000

    Freeze patterns created by configuration file for tiny memory savings
        (every little bit helps).
    reviewed by: plam, keithp

 ChangeLog   | 8 ++++++++
 src/fcxml.c | 3 ++-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 9769b43d4a4d8fe5480b672124f764e5bac1f4c9
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 21 14:12:41 2006 +0000

    Initialize fontconfig library in fc-cat to avoid segfault.
    reviewed by: plam

 ChangeLog       |  7 +++++++
 fc-cat/fc-cat.c | 11 ++++++++++-
 2 files changed, 17 insertions(+), 1 deletion(-)

commit 530e66b008c0d5b972b54046a5b15e76c8e989b6
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Feb 18 18:18:07 2006 +0000

    Fix the underlying cause of the below segfault (must usually call
        FcDirCacheHasCurrentArch after FcDirCacheValid).

 ChangeLog           | 12 ++++++++++--
 fc-cache/fc-cache.c |  2 ++
 src/fccache.c       |  4 +++-
 src/fcdir.c         |  4 +++-
 4 files changed, 18 insertions(+), 4 deletions(-)

commit a68ce9525dedc06fd4da102492e8d1c6137b3664
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Feb 18 17:56:25 2006 +0000

    Fix segfault (reported by fcrozat) caused by incorrect input on cache
        files.

 ChangeLog     |  6 ++++++
 src/fccache.c | 21 +++++++++++++--------
 2 files changed, 19 insertions(+), 8 deletions(-)

commit 310817371cdd4163c8d2f138e4fc3295ff0afbc5
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Feb 17 14:44:42 2006 +0000

    Bump up magic version; we changed the binary format.

 ChangeLog   | 5 +++++
 src/fcint.h | 4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 12f46c42fa583d8e23b8f97eebac77d7b0576ed2
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Feb 17 05:47:08 2006 +0000

    Enable fc-cat to print out old-style cache info when given a directory
        name.

 ChangeLog       |  6 ++++++
 fc-cat/fc-cat.c | 26 +++++++++++++++++++++++++-
 2 files changed, 31 insertions(+), 1 deletion(-)

commit 8c0d692125018052fa228721f30f760dfb0c0adf
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Feb 16 17:50:04 2006 +0000

    Deal correctly with changing FC_CACHE_MAGIC.

 ChangeLog     |  5 +++++
 src/fccache.c | 17 +++++++++++++++++
 2 files changed, 22 insertions(+)

commit d2c0102944176744e440c4109bf7725240453cc7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Feb 16 15:36:43 2006 +0000

    Add -r --really-force option which blows away cache files and then
        regenerates them.

 ChangeLog           |  6 ++++++
 fc-cache/fc-cache.c | 25 ++++++++++++++++++-------
 2 files changed, 24 insertions(+), 7 deletions(-)

commit 719f4b841f9763f2e4aa10a61cb2ffd41d9e8226
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Feb 16 07:12:04 2006 +0000

    Don't bail if fontconfig can't remove a dir cache file. Skip the ID
    of a
        cache file when copying. Eliminate 'source file too small' bug in
        FcDirCacheWrite.

 ChangeLog           |  9 ++++++++-
 fc-cache/fc-cache.c | 16 ++++++++++------
 src/fccache.c       |  8 +++-----
 3 files changed, 21 insertions(+), 12 deletions(-)

commit f8a17f329815cfa5416142811b96d16f2a5cca93
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Feb 13 22:19:30 2006 +0000

    Fix memory leak in error condition code.

 ChangeLog        | 5 +++++
 src/fcfreetype.c | 4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 5657098e2940652065fcfd00e4cf2771d7df21ef
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Feb 13 21:51:11 2006 +0000

    Skip bitmap fonts which can't even get it together enough to declare a
        family name; this appears to reproduce previous fontconfig
        behaviour.
    reviewed by: plam

 ChangeLog        | 8 ++++++++
 src/fcfreetype.c | 5 +++++
 2 files changed, 13 insertions(+)

commit d00c3cb5e046dfb04b446d8b0bb10880d190cc13
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Feb 11 05:01:32 2006 +0000

    Try to open /var/cache/fontconfig/[hashed name] before fonts.cache-2
    in a
        directory, because /var/cache/fontconfig failures ought to
        be fixable,
        unlike fonts.cache-2 failures, which may leave you screwed.
    reviewed by: plam

 ChangeLog     |  9 +++++++++
 src/fccache.c | 42 ++++++++++++++++++++----------------------
 2 files changed, 29 insertions(+), 22 deletions(-)

commit 9e07e0a77b6b1c33a52a1ec4d845797e32125baf
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Feb 11 04:50:46 2006 +0000

    Use a tri-state to mark the fonts which didn't get blocked but
    were just
        missing an element, to distinguish them from the fonts that
        do match
        the element.
    reviewed by: plam

 ChangeLog     |  8 ++++++++
 src/fcmatch.c | 18 +++++++++++-------
 2 files changed, 19 insertions(+), 7 deletions(-)

commit f11a184104a57c0d68afde8e7458c7b8473b6671
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Feb 10 19:40:11 2006 +0000

    Don't kill fonts because they don't declare an element that's
    being matched
        on.
    reviewed by: plam

 ChangeLog     | 7 +++++++
 src/fcmatch.c | 4 ++++
 2 files changed, 11 insertions(+)

commit 879af7060b24c6d57eb29cf6cfe2f6bb04589261
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Feb 9 18:44:14 2006 +0000

    Define and pass O_BINARY to open if appropriate, for those platforms
    that
        need it. Reported by Doodle.

 ChangeLog     |  7 ++++---
 src/fccache.c | 30 +++++++++++++++++-------------
 2 files changed, 21 insertions(+), 16 deletions(-)

commit c7490074c57da387904cecfdf60595713c7bb89e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Feb 9 16:19:42 2006 +0000

    Fix attempt to close -1. Don't unboundedly grow bad caches
    (reported by
        fcrozat).

 ChangeLog     | 6 ++++++
 src/fccache.c | 8 +++++---
 2 files changed, 11 insertions(+), 3 deletions(-)

commit a8c425301aeb8e417b0fa35567b2f8f64b450657
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Feb 9 15:25:57 2006 +0000

    Fix problem with missing 'en' due to euro.patch: change cache
    file format
        slightly to coincide with that generated by fc-lang.

 ChangeLog       | 8 ++++++++
 src/fccharset.c | 8 ++++----
 2 files changed, 12 insertions(+), 4 deletions(-)

commit b10e77628c4d207ac60ae4000b1459ced9228d69
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Feb 8 03:34:17 2006 +0000

    Fix warning.

 ChangeLog     | 5 +++++
 src/fccache.c | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 5c3deb2985586a06216afd0e6a0c136d4e67a58b
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 7 22:09:01 2006 +0000

    Don't reject dirs that can't be normalized (fixes lilypond, and
    is correct
        in the context of application font directories.)
    Use normalized directory name exclusively in FcCacheReadDirs.
    reviewed by: plam

 ChangeLog     | 13 +++++++++++++
 src/fccache.c | 19 ++++++++++---------
 src/fcdir.c   |  9 ++++-----
 3 files changed, 27 insertions(+), 14 deletions(-)

commit efb11b36c4e24a619e7be1790834130ca4113c5b
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 7 21:15:33 2006 +0000

    Perf optimizations. Inline FcValueCanonicalize, reduce FcValueListPtrU
        usage, remove redundant cast.
    reviewed by: plam

 ChangeLog   |  8 ++++++++
 src/fcpat.c | 39 +++++++++++++++++++--------------------
 2 files changed, 27 insertions(+), 20 deletions(-)

commit 6cc02fe6b95421f6e97af9008ad9ff4febe80c36
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 7 20:56:48 2006 +0000

    src/fccharset.c (FcLangCharSetPopulate, FcCharSetInsertLeaf)
    Fix missing FcCacheBankToIndex in FcCharSetInsertLeaf. Declare
    extern for
        static arrays as arrays, not pointers. (Part of the fix for 'fonts
        don't have en' issue after Euro patch.)
    (I forgot to commit the ChangeLog last time.)
    reviewed by: plam

 ChangeLog       | 25 +++++++++++++++++++++++++
 src/fccharset.c |  6 +++---
 2 files changed, 28 insertions(+), 3 deletions(-)

commit a81f23c0cecdc5d4cb7a443fdd4527b5f0dbca8a
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 7 03:53:32 2006 +0000

    Fix hidden variable warning.

 ChangeLog         | 6 ++++++
 fc-lang/de.orth   | 1 +
 fc-lang/el.orth   | 1 +
 fc-lang/en.orth   | 1 +
 fc-lang/es.orth   | 1 +
 fc-lang/fc-lang.c | 6 +++---
 fc-lang/fi.orth   | 2 +-
 fc-lang/fr.orth   | 1 +
 fc-lang/it.orth   | 1 +
 fc-lang/nl.orth   | 1 +
 fc-lang/pt.orth   | 1 +
 src/fccache.c     | 1 -
 src/fccharset.c   | 9 +++++----
 13 files changed, 23 insertions(+), 9 deletions(-)

commit 799157dbbf55d1bf13b1e63faf3b530979116aca
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 7 02:33:57 2006 +0000

    Remove de-escaping logic because FcCacheWriteString doesn't escape
    anyway.
        Do blockwise reading instead of byte-wise for performance.

 ChangeLog     |  8 +++++++
 src/fccache.c | 72
 ++++++++++++++++++++---------------------------------------
 2 files changed, 32 insertions(+), 48 deletions(-)

commit 8b413bb62c6743db10e7d210fb7924c9502fd60e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Feb 7 02:22:50 2006 +0000

    Takashi Iwai <tiwai@suse.de>
    Don't loop infinitely on recursive symlinks (client-side).

 ChangeLog     |  7 +++++++
 src/fccache.c | 21 +++++++++++++++------
 2 files changed, 22 insertions(+), 6 deletions(-)

commit 660acf8f2278df9276c9a1bff3533e9a74fd8c6b
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Feb 6 23:11:41 2006 +0000

    Don't loop infinitely on recursive symlinks.
    reviewed by: plam

 ChangeLog           |  6 ++++++
 fc-cache/fc-cache.c | 18 ++++++++++++++++++
 2 files changed, 24 insertions(+)

commit fff5a5af30142c933d8e9dddda61a6a994f44c28
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Feb 6 22:44:02 2006 +0000

    Skip subdirs when skipping over stale bits of global cache. Introduce
    state
        machine into FcGlobalCacheDir to avoid doing inappropriate
        operations
        on global dir entries, e.g. writing out an out-of-date cache
        entry.
    reviewed by: plam

 ChangeLog     |  12 ++++
 src/fccache.c | 186
 ++++++++++++++++++++++++++++++++++++++++++----------------
 src/fcint.h   |   4 ++
 3 files changed, 150 insertions(+), 52 deletions(-)

commit 98592bbb1dbdb867994dcf463bdd36f98878fffc
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Feb 6 21:52:15 2006 +0000

    Hoist FcFileIsDir check out of FcFileScanConfig loop.
    reviewed by: plam

 ChangeLog   |  6 ++++++
 src/fcdir.c | 11 ++++-------
 2 files changed, 10 insertions(+), 7 deletions(-)

commit a0aa54f6ee032efbca25bdf734ba62dd642b04a1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Feb 6 19:25:45 2006 +0000

    Don't rescan when trying to normalize a non-declared font dir. Don't
    add
        font dirs multiple times (even if they're aliased).
    reviewed by: plam

 ChangeLog   |  9 +++++++
 src/fccfg.c | 78
 ++++++++++++++++++++++++++++++++++++++++---------------------
 2 files changed, 61 insertions(+), 26 deletions(-)

commit 86e75dfb5d1434837537b40e829f00f9ffbb8183
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Feb 6 14:44:46 2006 +0000

    Explain apples/oranges comparison and fix compilation error.
    reviewed by: plam

 ChangeLog  | 7 +++++++
 src/fcfs.c | 5 ++++-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit f076169d19574c6c548764d574a33bc4fe022ffb
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Feb 6 14:14:21 2006 +0000

    Insert check for integer overflow in # of fonts.
    reviewed by: plam

 ChangeLog  | 7 +++++++
 src/fcfs.c | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 788c4af232f5677d73e8e2e77e123cf566530ccb
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Feb 5 04:11:08 2006 +0000

    Make 'make distcheck' work with automake 1.6.3.
    reviewed by: plam

 ChangeLog            | 10 ++++++++++
 doc/Makefile.am      |  2 +-
 fc-cache/Makefile.am |  2 +-
 fc-cat/Makefile.am   |  2 +-
 fc-list/Makefile.am  |  2 +-
 5 files changed, 14 insertions(+), 4 deletions(-)

commit 68355f38774fe55d8010268291a170492b241a71
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Feb 5 02:57:21 2006 +0000

    src/fccache.c (FcGlobalCacheLoad, FcGlobalCacheSave,
    FcDirCacheConsume,
        FcDirCacheWrite)
    Check I/O call return values and eliminate unused variable warnings.
    reviewed by: plam

 ChangeLog       | 13 ++++++++++++
 fc-cat/fc-cat.c |  5 ++---
 src/fccache.c   | 66
 +++++++++++++++++++++++++++++++++++++++++++--------------
 src/fcxml.c     |  4 ++--
 4 files changed, 67 insertions(+), 21 deletions(-)

commit c4c47a7654196f37b625f337192b235e558ab890
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Feb 4 00:09:42 2006 +0000

    src/fccfg.c (FcConfigAppFontAddFile, FcConfigAppFontAddDir)
    Fix memory leak.
    reviewed by: plam

 ChangeLog   | 7 +++++++
 src/fccfg.c | 2 ++
 2 files changed, 9 insertions(+)

commit a8e4d9eb395b45ab23f0c540f919ec432b46dea8
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Feb 4 00:04:00 2006 +0000

    Gracefully handle the case where a cache asserts that it has
    a negative
        number of fonts, causing overflow.
    reviewed by: plam

 ChangeLog  |  8 ++++++++
 src/fcfs.c | 29 +++++++++++++++--------------
 2 files changed, 23 insertions(+), 14 deletions(-)

commit 1af0f5741a95eed6f3a54140c360e0422fd13f62
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Feb 3 23:47:37 2006 +0000

    Fix double free in error case.

 ChangeLog     | 5 +++++
 src/fccache.c | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 80ba0571f3bfdee854d6e69f55664f552f4b75a3
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Jan 31 07:30:23 2006 +0000

    Stephan Kulow <coolo@suse.de> reviewed by: plam
    Replace 'stamp' target with mkinstalldirs.

 ChangeLog            |  8 ++++++++
 fc-cache/Makefile.am | 13 +++----------
 2 files changed, 11 insertions(+), 10 deletions(-)

commit 28aefd013d1896ffbf389596109eaec729d5d9a5
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Jan 31 07:16:22 2006 +0000

    Toast broken global cache files.
    reviewed by: plam

 ChangeLog     | 7 +++++++
 src/fccache.c | 4 ++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 3616cbe251e47cf36018a7277d9ff78f1cb0965e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Jan 31 04:42:20 2006 +0000

    Actually use the directories that I added to the global cache. Fixes
    'make
        check'.

 ChangeLog     |  6 ++++++
 src/fccache.c | 11 +++++++++--
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 275cf6cd8350f8a9f29caabd5b1994c6324caaf6
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Jan 31 04:07:45 2006 +0000

    Don't stop scanning if a directory in fonts.conf doesn't exist,
    because
        subsequent directories might exist.
    reviewed by: plam

 ChangeLog           |  8 ++++++++
 fc-cache/fc-cache.c | 20 ++++++++++++++------
 2 files changed, 22 insertions(+), 6 deletions(-)

commit 81d97094cf2a714417a9e73bb2f0f17f51ca3d95
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 30 16:31:56 2006 +0000

    Make global cache work again after putting dir names into global cache
    (I
        misplaced the recording of a file offset).

 ChangeLog     | 6 ++++++
 src/fccache.c | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 2c4e0124976724a7ae56bfee0ac4f7046c819ea8
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 30 15:59:17 2006 +0000

    Update fc-cat to handle subdir lists in global cache file.
    Another FcCacheReadString return value check.

 ChangeLog       |  9 +++++++++
 fc-cat/fc-cat.c | 10 ++++++++++
 src/fccache.c   | 11 +++++++++--
 3 files changed, 28 insertions(+), 2 deletions(-)

commit c5411c4cae9389ad875fbbeedeaba0644f5e399f
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 30 15:44:13 2006 +0000

    Make fccache more resilient to broken cache files by checking
    return value
        of FcCacheReadString all the time.
    reviewed by: plam

 ChangeLog     |  9 +++++++++
 src/fccache.c | 28 ++++++++++++++--------------
 2 files changed, 23 insertions(+), 14 deletions(-)

commit 946478e1a7f8c59a97c89f5c9029f30241a6cc0c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 30 14:43:04 2006 +0000

    Remove references to dead fontconfig(3) manpages in other fontconfig
        manpages.
    reviewed by: plam

 ChangeLog           | 9 +++++++++
 fc-lang/fc-lang.man | 2 --
 fc-match/fc-match.1 | 2 --
 3 files changed, 9 insertions(+), 4 deletions(-)

commit af7a965f945ab5aafab13fb7b6e8d96c911b24fd
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 30 04:51:22 2006 +0000

    Fix world's tiniest typo in code example.
    reviewed by: plam

 ChangeLog          | 7 +++++++
 doc/fcpattern.fncs | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 30c4189deb8412793d175bce255561a882ad81b7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 30 04:47:17 2006 +0000

    Fix global cache reads of subdirectories.
    reviewed by: plam

 ChangeLog     | 7 +++++++
 src/fccache.c | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 971cf18018a4f41bca196dd81989e67672e52112
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 30 04:27:53 2006 +0000

    Add documentation for FcConfigNormalizeFontDir.
    Write directory information to global caches to fix make check
    (reported by
        Ronny V. Vindenes). This changes the global cache format again.

 ChangeLog         | 13 +++++++++++++
 doc/fcconfig.fncs | 11 +++++++++++
 src/fccache.c     | 25 +++++++++++++++++++++++--
 src/fcdir.c       |  2 +-
 src/fcint.h       |  2 ++
 5 files changed, 50 insertions(+), 3 deletions(-)

commit 97293e07dd688b3d81cd6e7ecd5df4cdef4c87d8
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Jan 27 05:47:59 2006 +0000

    Move FcConfigNormalizeFontDir call so that it doesn't result in
    infinite
        recursion (reported by Ronny V. Vindenes).

 ChangeLog               | 9 +++++++++
 fc-cache/fc-cache.c     | 6 +++++-
 fontconfig/fontconfig.h | 4 ++++
 src/fccache.c           | 8 --------
 src/fcint.h             | 4 ----
 5 files changed, 18 insertions(+), 13 deletions(-)

commit 3cf9f5cec386ce97bb3cdd1dfe78d0d6999243ea
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Jan 27 00:27:37 2006 +0000

    Add a couple of missing normalizations to make fc-cache work right;
    only
        scan subdirectories once.

 ChangeLog     | 7 +++++++
 src/fccache.c | 8 ++++++++
 src/fccfg.c   | 4 ++--
 3 files changed, 17 insertions(+), 2 deletions(-)

commit 4073203deb00cb1497f7cc8c1a7de25534070d2c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Jan 26 16:11:41 2006 +0000

    Don't crash on non-existant directories in global cache.
    reviewed by: plam

 ChangeLog     | 7 +++++++
 src/fccache.c | 4 +++-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit f468f568b4aedef1606b0692addf47cb9f02b328
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Jan 26 16:09:12 2006 +0000

    Stop trampling the directory name when writing out caches. (with Mike
        Fabian:) Beef up FcConfigNormalizeFontDir to scan subdirs when
        necessary. Don't scan directories that can't be normalized.

 ChangeLog     | 11 +++++++++++
 src/fccache.c | 16 +++++++++++++---
 src/fccfg.c   | 52 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcdir.c   |  6 +++++-
 src/fcxml.c   |  2 +-
 5 files changed, 82 insertions(+), 5 deletions(-)

commit 575a37b7975656f73162438635b4ba26e229b33f
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Jan 25 14:52:49 2006 +0000

    Fix additional memory leaks reported by Ronny V. Vindenes: don't
    invoke
        FcValueSave on hashed static strings in FcPatternAddWithBinding.
    Add another st_dev check in FcDirCacheOpen.

 ChangeLog     | 11 +++++++++++
 src/fccache.c | 13 +++++++++++--
 src/fccfg.c   |  3 +--
 src/fcpat.c   |  9 ++++++++-
 4 files changed, 31 insertions(+), 5 deletions(-)

commit 16a71eff3ee0326db3794fa26548106a8a8697f6
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Jan 25 02:54:37 2006 +0000

    Treat zh-hk fonts differently from zh-tw fonts. This patch may cause
        fontconfig to treat A-X fonts differently from A-Y fonts;
        please mail
        the fontconfig list if this causes any problems.
    reviewed by: plam

 ChangeLog          | 10 ++++++++++
 fc-lang/zh_hk.orth |  2 +-
 src/fcfreetype.c   |  2 +-
 3 files changed, 12 insertions(+), 2 deletions(-)

commit 6f9fcb51861fe3066e44a23817f1c700f3475ac0
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Jan 25 02:33:46 2006 +0000

    Fix memory leaks reported by Ronny V. Vindenes.

 ChangeLog        | 6 ++++++
 src/fccache.c    | 9 ++++++++-
 src/fcfreetype.c | 8 +++++++-
 3 files changed, 21 insertions(+), 2 deletions(-)

commit 986e35979e56774c91f3214af9e8a6f71817dcfa
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Jan 19 19:20:30 2006 +0000

    Fix for unaligned memory accesses.
    reviewed by: plam

 ChangeLog   |  9 ++++++++-
 src/fcpat.c | 12 ++++++++----
 2 files changed, 16 insertions(+), 5 deletions(-)

commit 58bdd29619e6580477918f8c8d77aadbe5e427a4
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Jan 18 15:41:15 2006 +0000

    Properly order the FcConfigAddFontDir and FcConfigNormalizeFontDir
    calls to
        avoid crashes.
    reviewed by: plam

 ChangeLog   | 8 ++++++++
 src/fcdir.c | 4 +++-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit eadadf489aff5f4a17a91f85909cb0dc27b2a494
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Jan 15 05:31:58 2006 +0000

    Fix segfault when consuming zero-length caches in fc-cat (which has no
        config, so FcConfigAddFontDir shouldn't be called.)

 ChangeLog     | 6 ++++++
 src/fccache.c | 3 ++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 8a0b0ed6d01e4e20ab6727211fe5823395a9b4c4
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Jan 14 21:23:03 2006 +0000

    Compare device numbers as well as inodes. Always normalize directory
    names
        before comparing them.
    Allocate extra space for appended '/' in directory name.
    reviewed by: plam

 ChangeLog               | 19 +++++++++++++++++++
 fc-cache/fc-cache.c     |  2 +-
 fc-cat/fc-cat.c         |  6 +++++-
 fontconfig/fontconfig.h |  2 +-
 src/fccache.c           | 19 ++++++++++++++-----
 src/fccfg.c             |  7 ++++---
 src/fcdir.c             |  2 +-
 src/fcint.h             |  6 ++++--
 8 files changed, 49 insertions(+), 14 deletions(-)

commit df3efc11a9584e2099366c31ba64ac9346760321
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Jan 10 13:15:05 2006 +0000

    Explicitly add font dirs to config.fontDirs even if they're empty. Set
        current config in fc-cache.c. Fix treatment of cache directory
        as read
        from cache file; don't use string equality to determine if we
        have the
        right file, use inode equality.

 ChangeLog           | 12 ++++++++++
 fc-cache/fc-cache.c |  1 +
 src/fccache.c       | 64
 ++++++++++++++++++++++++++++-------------------------
 3 files changed, 47 insertions(+), 30 deletions(-)

commit cd9bca69702900ca9b24319c76b2dc9432bb548f
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 9 13:58:04 2006 +0000

    Normalize font dirs by using the form, as given in fonts.conf,
    and recorded
        in FcConfig's fontDirs string set, as canonical.
    Actually update config.fontDirs as font directories are scanned.

 ChangeLog           | 14 ++++++++++++++
 fc-cache/fc-cache.c |  2 +-
 fc-cat/fc-cat.c     |  4 ++--
 src/fccache.c       | 21 ++++++++++++---------
 src/fccfg.c         | 23 +++++++++++++++++++++++
 src/fcdir.c         |  3 ++-
 src/fcint.h         |  6 +++++-
 7 files changed, 59 insertions(+), 14 deletions(-)

commit 5576a5873dc9cd6e11234df6e64dbff18afe6378
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Jan 8 10:58:30 2006 +0000

    Fix matching bug when multiple elements match; don't use the sum
    of all
        scores, but the best score.
    Also more perf opts, e.g. evaluate best over all font sets rather
    than on a
        per-set basis (and other changes).

 src/fcmatch.c | 243
 ++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 143 insertions(+), 100 deletions(-)

commit a6d3757d9802c8f5dc8632a8cf6703042f62e303
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Jan 8 10:58:05 2006 +0000

    Fix matching bug when multiple elements match; don't use the sum
    of all
        scores, but the best score.
    Also more perf opts, e.g. evaluate best over all font sets rather
    than on a
        per-set basis (and other changes).

 ChangeLog | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 05a98eaf4bd23fe1035660a9a2b1018abdfc9c6e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Jan 8 10:50:51 2006 +0000

    Properly skip past dir caches that contain zero fonts (as occurs
    in global
        caches.) Reported by Mike Fabian.

 ChangeLog     | 6 ++++++
 src/fccache.c | 4 ++++
 2 files changed, 10 insertions(+)

commit 5fe09702f4fc4ec6d55f30b80999ce2c219bd966
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Jan 7 06:36:24 2006 +0000

    Print out full pathname in fc-match -v as well. Reported by Frederic
        Crozat.
    Fix bug where fc-match crashes when given __DUMMY__ property to
    match on.
    (I added the __DUMMY__ string to enable callers of FcObjectToPtrLookup
    to
        distinguish an error return from a successful return. -PL)
    reviewed by: plam

 ChangeLog    | 18 ++++++++++++++++++
 src/fcdbg.c  | 21 ++++++++++++++++++++-
 src/fcname.c | 11 +++++++----
 3 files changed, 45 insertions(+), 5 deletions(-)

commit c60ec7cc6d1795922b742435965746e02e67f11c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Jan 5 15:12:22 2006 +0000

    Add self to AUTHORS list.
    Minor change to global cache file format to fix fc-cat bug reported by
        Frederic Crozat, and buglet with not globally caching directories
        with
        zero fonts cached.

 AUTHORS         |  2 ++
 ChangeLog       | 18 ++++++++++++++++
 fc-cat/fc-cat.c | 66
 +++++++++++++++++++++++++++++++++------------------------
 src/fccache.c   | 31 +++++++++++++--------------
 src/fcint.h     |  1 +
 src/fcpat.c     |  2 +-
 6 files changed, 75 insertions(+), 45 deletions(-)

commit 52ac91f7c1a8a6433851cbde8ccade618f0218e4
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 2 17:20:23 2006 +0000

    Fix double-free which occurs because FcValueCanonicalize doesn't
    create an
        extra copy of the returned value, it only canonicalizes it.
    reviewed by: plam

 ChangeLog   | 11 ++++++++++-
 src/fccfg.c |  1 +
 2 files changed, 11 insertions(+), 1 deletion(-)

commit cea78a87910a88383699d5a386693d39aa3236f5
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 2 17:18:22 2006 +0000

    Fix version of .cache file (currently 1 -> currently 2). Reported
    by Jim
        Osborn.

 ChangeLog | 6 ++++++
 1 file changed, 6 insertions(+)

commit e9fd3c069aa415f9e7589dd1a871cd7727925364
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jan 2 17:13:48 2006 +0000

    Fix version of .cache file (currently 1 -> currently 2). Reported
    by Jim
        Osborn.

 doc/fontconfig-user.sgml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ebc157f9a1eb266d60d03ad3fa36dc2ba0250db1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Dec 21 20:00:20 2005 +0000

    Shut up GCC warnings on amd.
    reviewed by: plam

 ChangeLog   | 7 +++++++
 src/fcpat.c | 4 ++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 19ea60bc7c0186070d95f5effc815c546de1dcb0
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Dec 21 05:37:10 2005 +0000

    Avoid check on _fcBankId nullness and fix case where it used to crash.

 ChangeLog       | 7 +++++++
 src/fccharset.c | 2 +-
 src/fcint.h     | 2 +-
 3 files changed, 9 insertions(+), 2 deletions(-)

commit 3bfae75d44db5ceae394194d2e6c7b81201ea685
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Dec 21 03:31:19 2005 +0000

    Bump version to 2.3.93.
    Use open instead of fopen (requested by Phil Race for Sun).
    src/fccache.c (FcDirCacheWrite);
    Fix GCC4 warning and Makefile brokenness for /var/cache/fontconfig
    dir.

 ChangeLog               | 20 ++++++++++++++++
 README                  | 17 ++++++++++++--
 configure.in            |  2 +-
 fc-cache/Makefile.am    |  8 +++++++
 fontconfig/fontconfig.h |  2 +-
 src/fccache.c           | 62
 ++++++++++++++++++++++++++++++++++++++++---------
 src/fcxml.c             | 13 ++++++-----
 7 files changed, 103 insertions(+), 21 deletions(-)

commit 6f767cec491d354150a11491905ba59cc77a2659
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Dec 20 20:35:47 2005 +0000

    Restore code to skip over PCF fonts that have no encoded
    characters. (We
        guess that a font is PCF by presence of the PIXEL_SIZE BDF
        property.)

 ChangeLog                   | 8 ++++++++
 conf.d/10LohitGujarati.conf | 5 +++++
 src/fcfreetype.c            | 9 ++++++---
 3 files changed, 19 insertions(+), 3 deletions(-)

commit a7683cafe10925d09855f927cb7602a90e10516f
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Dec 13 17:50:50 2005 +0000

    Add a configuration file that disables hinting for the Lohit
    Gujarati font
        (since the hinting distort some glyphs quite badly).
    reviewed by: keithp

 ChangeLog                   | 8 ++++++++
 conf.d/10LohitGujarati.conf | 5 +++++
 conf.d/Makefile.am          | 1 +
 3 files changed, 14 insertions(+)

commit ec760b178a7bb1a60fe2fe5e205ef82922fde5b6
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Dec 12 20:45:54 2005 +0000

    Read and write the original location as a fallback for the hashed
    cache
        file locations. This is mostly for users to be able to have
        per-directory cache files.

 ChangeLog     |  7 +++++++
 src/fccache.c | 41 ++++++++++++++++++++++++++++++++---------
 2 files changed, 39 insertions(+), 9 deletions(-)

commit 83b6739035fc17d97b8ce01d6a9b9ef6e78d694c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Dec 12 13:46:45 2005 +0000

    Improve error message when fc-cache can't write the cache. Add missing
        slash. Reported by Behdad. Incorporate Behdad's patch to create
        /var/cache/fontconfig when appropriate.

 ChangeLog            | 9 +++++++++
 fc-cache/Makefile.am | 5 +++++
 fc-cache/fc-cache.c  | 4 +++-
 src/fccache.c        | 2 +-
 4 files changed, 18 insertions(+), 2 deletions(-)

commit 368104c381815aa9a0c8c878f1d2be0cc5330f10
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Dec 12 13:20:41 2005 +0000

    Fix crash reported by Frederic Crozat when using libxml2.
    reviewed by: plam

 ChangeLog   | 7 +++++++
 src/fcxml.c | 3 +++
 2 files changed, 10 insertions(+)

commit ea44e2184198aba956e39ae63a4914544c9719fe
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Dec 9 16:36:45 2005 +0000

    Migrate cache files from fonts directories to
    /var/cache/fontconfig. This
        helps make fontconfig FHS-compliant, but requires that all
        caches get
        rebuilt.
    Also, autogen.sh now needs the additional parameter
    --localstatedir=/var.

 ChangeLog               |  20 ++
 INSTALL                 |   2 +-
 configure.in            |   7 +
 fc-cache/Makefile.am    |   2 +
 fc-cat/Makefile.am      |   2 +
 fc-cat/fc-cat.c         |  13 +-
 fontconfig/fontconfig.h |   1 +
 src/Makefile.am         |   2 +
 src/fccache.c           | 523
 +++++++++++++++++++++++++++++++++++++++++++-----
 9 files changed, 519 insertions(+), 53 deletions(-)

commit 204da5a8b88a73e54a9bab0537db7ff4fe8c6374
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Dec 8 05:54:27 2005 +0000

    Because we've changed FcPatternAddString to use FcStrStaticName
    and not
        FcValueSave, explicitly handle the case of a null string.

 ChangeLog   | 6 ++++++
 src/fcpat.c | 7 +++++++
 2 files changed, 13 insertions(+)

commit 982b598278315de60721740047a1b57f4a5895b8
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Dec 7 03:55:25 2005 +0000

    Fix warnings.

 ChangeLog       | 5 +++++
 fc-cat/fc-cat.c | 9 +++------
 2 files changed, 8 insertions(+), 6 deletions(-)

commit c6103dfb22de0664a6ab164d90d6959551e301c5
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Dec 6 18:57:43 2005 +0000

    Don't assign types to user object names.

 ChangeLog    | 5 +++++
 src/fcname.c | 3 +++
 2 files changed, 8 insertions(+)

commit 9ede93f1dc375c1f4d7e71d821887c01a367d995
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Dec 5 16:08:01 2005 +0000

    Don't free strings that have been returned from FcStrStaticName.

 ChangeLog   |  5 +++++
 src/fcpat.c | 21 +++++++++++++++++++--
 2 files changed, 24 insertions(+), 2 deletions(-)

commit 6059daeddb7b44d9b2c0f4d94a08fb6ff79ff3ac
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Dec 1 07:12:45 2005 +0000

    Add codepath for reading global cache files as well.

 ChangeLog       |  5 +++++
 fc-cat/fc-cat.c | 61
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 66 insertions(+)

commit 4edd0a0286c3c7fc3497afe8f5f68df118deb682
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Dec 1 06:27:07 2005 +0000

    file 10-fonts-persian.conf was initially added on branch
    fc-2_4_branch.

commit 2c6fead73fd6608fd50eb97c69a556fdac1b5c55
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Dec 1 06:27:07 2005 +0000

    Add config file for Persian fonts from Sharif FarsiWeb, Inc.
    reviewed by: plam

 ChangeLog                    |  10 +-
 conf.d/10-fonts-persian.conf | 545
 +++++++++++++++++++++++++++++++++++++++++++
 conf.d/Makefile.am           |   1 +
 3 files changed, 555 insertions(+), 1 deletion(-)

commit cb6d97eb1baba6795bb8abdede69902b2440f371
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 30 22:13:21 2005 +0000

    Only add a config file to the set of config files once.
    reviewed by: plam

 ChangeLog   | 7 +++++++
 src/fcxml.c | 6 ++++++
 2 files changed, 13 insertions(+)

commit 93a27747a485624d4a89550036e12eeec96d4558
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 29 15:04:06 2005 +0000

    src/fcint.h (FcCacheBankToIndex);
    Fix segfault by guarding array dereference.

 ChangeLog   | 5 +++++
 src/fcint.h | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit b8948e85420469c83098a6b97d7979189a8734d9
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 29 14:57:10 2005 +0000

    Refactor FcCacheBankToIndex into an inlineable part (in fcint.h) which
        checks the front of the list and a non-inlineable part which
        finds and
        moves the appropriate element to the front of the list.
    reviewed by: plam

 ChangeLog         | 14 ++++++++++++++
 fc-lang/fc-lang.c |  5 ++++-
 src/fccache.c     | 34 +++++++++++++++++-----------------
 src/fcint.h       |  9 ++++++++-
 4 files changed, 43 insertions(+), 19 deletions(-)

commit 9fad72abaf3da6f3e4a691a0e1a852f6a7353d56
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 29 06:23:00 2005 +0000

    Make the perf guys hate me a bit less: hoist the directory-name
        FcConfigAcceptFont check for cached fonts up to directory
        cache read
        time, rather than running it for each font.

 ChangeLog     | 8 ++++++++
 src/fccache.c | 3 +++
 src/fccfg.c   | 6 ++----
 3 files changed, 13 insertions(+), 4 deletions(-)

commit 51af0509925e780eb3eb9014aac5e50b6bbbe0d1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 29 06:09:18 2005 +0000

    Don't make FcPatternFindFullFname available to fccfg, it's not
    really safe.
        Instead go through FcPatternGetString (sorry, perf guys.) Also,
        use
        globs for dirs as well.

 ChangeLog   | 9 +++++++++
 src/fccfg.c | 8 +++++---
 src/fcint.h | 3 ---
 src/fcpat.c | 5 ++++-
 4 files changed, 18 insertions(+), 7 deletions(-)

commit e0421d0289ae95a1c74e607f36c0d54f3d0dedd8
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 29 00:21:05 2005 +0000

    Fix segfault.

 ChangeLog   | 5 +++++
 src/fccfg.c | 5 ++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit c4d3b6dad0ccb9b3ddfddb7305b4da26f494271d
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 29 00:16:02 2005 +0000

    Update autogenerated config.* files.

 config/config.guess | 535
 +++++++++++++++++++++++++++-------------------------
 config/config.sub   |  67 ++++---
 2 files changed, 314 insertions(+), 288 deletions(-)

commit ced3f0a0abd84de73753956ec18e7316eda33a37
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 29 00:14:42 2005 +0000

    Fix problem dating back at least to 2.3.2 where globs weren't
    being applied
        to patterns loaded from a cache.
    Fix some obvious spelling mistakes.

 ChangeLog                | 13 +++++++++++++
 doc/fontconfig-user.sgml | 17 +++++++++--------
 src/fccfg.c              |  3 ++-
 src/fcint.h              |  3 +++
 src/fcpat.c              |  4 +---
 5 files changed, 28 insertions(+), 12 deletions(-)

commit 1ed98a0c87931ae93ea3d46f3d0367a99218679c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Nov 28 10:54:11 2005 +0000

    Stephan Kulow <coolo@suse.de> reviewed by: plam
    Don't kill all fonts during match (oops!)

 ChangeLog     | 23 +++++++++++++++++++++++
 src/fcmatch.c | 39 ++++++++++++++++++++++++++++++++-------
 2 files changed, 55 insertions(+), 7 deletions(-)

commit aa472e5f1a83c5e09030b0c862a0c3e0df10dcaa
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Nov 28 01:40:53 2005 +0000

    Stephan Kulow <coolo@suse.de> Michael Matz <matz@suse.de> reviewed
    by: plam
    Rewrite FcFontSetMatch to a path-finding based algorithm, i.e. inline
        FcCompare into FcFontSetMatch and reorder the loops, adding
        a boolean
        array which blocks patterns from future consideration if
        they're known
        to not be best on some past criterion.

 src/fcmatch.c | 224
 +++++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 159 insertions(+), 65 deletions(-)

commit 200a44fed0c28bcf83a65e32c320471d9335d3c5
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Nov 26 05:05:14 2005 +0000

    Fix incorrect merge.
    reviewed by: plam

 ChangeLog     | 7 +++++++
 src/fcmatch.c | 6 +++---
 2 files changed, 10 insertions(+), 3 deletions(-)

commit cbe1df8150e4ed6e76bd258afe5a11529c909ddf
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 25 16:33:58 2005 +0000

    Don't do random matching when bad objects are passed into
        FcCompareValueList.

 ChangeLog     |  6 ++++++
 src/fcmatch.c | 58
 +++++++++++++++++++++++++++++++++++++++++++---------------
 2 files changed, 49 insertions(+), 15 deletions(-)

commit 81fe99fdd0903ef8aa782fe427bc8f9510457ee9
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 25 16:04:44 2005 +0000

    Rename fcpatterns, fcpatternelts, fcvaluelists to _fcPatterns,
        _fcPatternElts, _fcValueLists for consistency.

 ChangeLog   | 10 ++++++++++
 src/fcint.h |  8 ++++----
 src/fcpat.c | 50 +++++++++++++++++++++++++-------------------------
 3 files changed, 39 insertions(+), 29 deletions(-)

commit d854eaf8a9c395a1cbca83a7620e087109f6eb87
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 25 15:54:24 2005 +0000

    Pass the FcObjectPtr to FcCompareValueList, not the char * (perf).
    reviewed by: plam

 ChangeLog     |  7 +++++++
 src/fcmatch.c | 35 ++++++++++-------------------------
 2 files changed, 17 insertions(+), 25 deletions(-)

commit 61571f3f2e77ffb221da9af2705af1d383dd6ea0
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 25 15:50:34 2005 +0000

    Pass around FcCache *s to the Unserialize functions for extra
    consistency
        (and less overhead, for what that's worth).

 ChangeLog       | 13 +++++++++++++
 src/fccache.c   |  2 +-
 src/fccharset.c | 12 ++++++------
 src/fcfs.c      |  2 +-
 src/fcint.h     | 10 +++++-----
 src/fclang.c    |  8 ++++----
 src/fcname.c    |  2 +-
 src/fcpat.c     | 32 ++++++++++++++++----------------
 8 files changed, 47 insertions(+), 34 deletions(-)

commit 9ab79bdfb7f8bfbe108d1c676b361f69f6a5b043
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 25 03:00:51 2005 +0000

    Inline the *PtrU functions to gain perf. Remove unneeded params
    for the
        FcCompare* functions.
    reviewed by: plam

 ChangeLog     | 12 +++++++++++-
 src/fcint.h   | 31 +++++++++++++++++++++++++++----
 src/fcmatch.c | 50 +++++++++++++++++---------------------------------
 src/fcname.c  | 12 +++---------
 src/fcpat.c   | 22 ++--------------------
 5 files changed, 60 insertions(+), 67 deletions(-)

commit 3f9f24e077cc079be362343be499ff0baf23e0a1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 25 02:16:42 2005 +0000

    Fix the debian changelog so that debian/rules works again, make it
    create a
        debian package for release 2.3.92-1. Acknowledge change in NMU of
        debian package.

 debian/changelog | 13 +++++++++++++
 debian/control   |  1 +
 debian/po/cs.po  | 57
 ++++++++++++++++++++++++++++----------------------------
 3 files changed, 43 insertions(+), 28 deletions(-)

commit 1c9fdccab95c9c5eebd0f9d8488d3ac7c46cbe53
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Nov 24 21:40:20 2005 +0000

    Move FC_BANK_DYNAMIC, FC_BANK_FIRST to internal header.
    Check for type validity during FcPatternAddWithBinding, don't
    verify type
        in FcFontMatch, don't call FcCanonicalize here (which always
        does a
        deep copy).
    reviewed by: plam

 ChangeLog               | 13 +++++++++++++
 fontconfig/fontconfig.h |  3 ---
 src/fcint.h             |  3 +++
 src/fcmatch.c           | 22 +++++-----------------
 src/fcpat.c             | 22 +++++++++++++++++-----
 5 files changed, 38 insertions(+), 25 deletions(-)

commit 4f8b266fd97e36961639c40d93225265c0f849c7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Nov 24 20:20:26 2005 +0000

    Make FcCompareString and FcCompareFamily less expensive. Only add
    a value
        for FC_FAMILY if the proposed value is a string.
    reviewed by: plam

 ChangeLog     | 11 ++++++++++-
 src/fcmatch.c | 24 +++++++++++++++++-------
 src/fcpat.c   |  7 +++++++
 3 files changed, 34 insertions(+), 8 deletions(-)

commit b97a34b5924b1279dd831426a94016ea8b65ea8d
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Nov 24 19:38:05 2005 +0000

    Inline FcDebug invocations and only initialize once, in
    FcInit*. Improve
        debug msg in FcPatternPrint.
    reviewed by: plam

 ChangeLog    | 10 ++++++++++
 src/fcdbg.c  | 30 ++++++++++++------------------
 src/fcinit.c |  2 ++
 src/fcint.h  |  9 +++++++--
 4 files changed, 31 insertions(+), 20 deletions(-)

commit d2f459781cade98d1d07806d023e63f1fc289b0e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 23 17:01:27 2005 +0000

    Properly apply fcrozat's patch.

 fc-cat/fc-cat.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f7c4624f5624f4dc981f75a4f74446de04bf69d1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 23 16:36:26 2005 +0000

    2005-11-23 Frederic Crozat <fcrozat@mandriva.com>: reviewed by: plam
    Minor code warning cleanups.

 ChangeLog               | 8 ++++++++
 fc-cat/fc-cat.c         | 1 -
 fontconfig/fontconfig.h | 2 +-
 3 files changed, 9 insertions(+), 2 deletions(-)

commit b1297aa8977901075e95e40bc430fc823e1fb230
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 23 15:33:48 2005 +0000

    2005-11-23 Frederic Crozat <fcrozat@mandriva.com>: reviewed by: plam
    Make getopt_long accept -s parameter to fc-match as well.

 ChangeLog           | 7 +++++++
 fc-match/fc-match.c | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 435fc66073ee83d17242bac2880e843489439cda
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 23 15:32:36 2005 +0000

    2005-11-23 Frederic Crozat <fcrozat@mandriva.com>: reviewed by: plam
    Make getopt_long accept -s parameter to fc-match as well.

 ChangeLog           | 7 +++++++
 fc-match/fc-match.c | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit adac22f290f1780f6d1424d6f93cc4453d4d489c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 22 04:46:55 2005 +0000

    Manually perform inlining & partial redundancy elimination to
    reduce calls
        to FcValueListPtrU.
    Only invoke strlen() when really necessary.
    reviewed by: plam
    reviewed by: plam

 ChangeLog     | 16 ++++++++++++++++
 src/fcmatch.c | 17 +++++++++--------
 src/fcstr.c   |  8 ++------
 3 files changed, 27 insertions(+), 14 deletions(-)

commit 8c24aa6b45ce7fa0b872ca2e9c3b96e1a5b720e4
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Nov 19 22:38:39 2005 +0000

    Get rid of the use of freetype internal headers in fcfreetype.c, since
        those headers will go away with freetype 2.2. Replace with public
        domain ftglue code from pango. Note that the patch removes
        some extra
        error checking in FT_Get_BDF_Property() and comments out the
        skipping
        of empty pcf fonts.
    reviewed by: plam

 ChangeLog | 2 ++
 1 file changed, 2 insertions(+)

commit 246985e40e3296a6bb427026d8274fe8409f3776
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Nov 19 22:37:24 2005 +0000

    file ftglue.c was initially added on branch fc-2_4_branch.

commit 824c7bf02515cde1cc562eb6a64b9857d03913fc
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Nov 19 22:37:24 2005 +0000

    Get rid of the use of freetype internal headers in fcfreetype.c, since
        those headers will go away with freetype 2.2. Replace with public
        domain ftglue code from pango. Note that the patch removes
        some extra
        error checking in FT_Get_BDF_Property() and comments out the
        skipping
        of empty pcf fonts.
    reviewed by: plam

 src/ftglue.c | 349
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/ftglue.h | 159 +++++++++++++++++++++++++++
 2 files changed, 508 insertions(+)

commit 8ebf7725a8607b39ff505029b2a41369d67eb736
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Nov 19 22:32:13 2005 +0000

    Get rid of the use of freetype internal headers in fcfreetype.c, since
        those headers will go away with freetype 2.2. Replace with public
        domain ftglue code from pango. Note that the patch removes
        some extra
        error checking in FT_Get_BDF_Property() and comments out the
        skipping
        of empty pcf fonts.
    reviewed by: plam

 ChangeLog        | 13 ++++++++++
 src/Makefile.am  |  4 ++-
 src/fcfreetype.c | 75
 ++++++++++++++++++++++++++------------------------------
 3 files changed, 51 insertions(+), 41 deletions(-)

commit a151acedc056783957f9875b1a21f13d0bb8bfe2
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Nov 19 16:24:53 2005 +0000

    Further fix of patch from 2005-11-04: miscounted numbers count
        (numbers_count); didn't strip duplicate numbers (langBankNumbers);
        and
        leafidx_offset and numbers_offset in fcLangCharSets are wrong.
    Removed leafidx_count and numbers_count since they are the same and
        replaced them with offset_count.
    reviewed by: plam

 ChangeLog         | 12 ++++++++++++
 fc-lang/fc-lang.c | 21 +++++++++++++--------
 2 files changed, 25 insertions(+), 8 deletions(-)

commit 8f2a807810c006e771c0f7429ba218a1ffb1e6de
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 18 20:32:30 2005 +0000

    Don't crash when fc-cat invoked with no arguments.
    Fix invalid read access caused by premature free and GCC4 warnings in
        libxml2 codepath.
    reviewed by: plam
    reviewed by: plam

 ChangeLog       | 17 ++++++++++++++++-
 fc-cat/fc-cat.c |  3 +++
 src/fcxml.c     | 10 ++++++----
 3 files changed, 25 insertions(+), 5 deletions(-)

commit 82912b062b1bb902db54e5b79f4a2d6a33ccd8a0
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 18 04:21:10 2005 +0000

    List iteration not needed in FcConfigValues, since it's building
    up the
        list itself; we can just strip FcVoid elements during
        construction.
    reviewed by: plam

 ChangeLog   |  9 +++++++++
 src/fccfg.c | 17 ++++++-----------
 2 files changed, 15 insertions(+), 11 deletions(-)

commit 38b2ecad5af4f7f7a55023afafaae075ecd3c753
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Nov 17 16:46:07 2005 +0000

    Fix crash on invalid constants in config files (forgot to update
    a pointer
        upon list iteration.)

 ChangeLog   | 6 ++++++
 src/fccfg.c | 1 +
 2 files changed, 7 insertions(+)

commit f28472fdb4e51a06283161f9e7a645d5354a37d2
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Nov 17 16:17:05 2005 +0000

    Complain about invalid constants in config files.
    reviewed by: plam

 ChangeLog   | 7 +++++++
 src/fcxml.c | 4 ++++
 2 files changed, 11 insertions(+)

commit 1c5b6345b9023dee7962468fccb678b5f2e56ce3
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Nov 17 15:43:39 2005 +0000

    Don't add current_arch_start more than once.
    Fix ordering of ALIGN with respect to saving block_ptr; add another
    ALIGN
        to fcfs.c.
    reviewed by: plam

 ChangeLog       | 16 ++++++++++++++++
 src/fccache.c   |  2 +-
 src/fccharset.c | 12 ++++++++----
 src/fcfs.c      | 10 +++++++++-
 src/fcname.c    |  6 ++++--
 src/fcpat.c     |  1 +
 6 files changed, 39 insertions(+), 8 deletions(-)

commit 8e351527bb87798e9b796e12a3b1ee6229536a28
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 16 17:49:01 2005 +0000

    src/fccache.c (FcDirCacheProduce)
    Fix case where alignment bytes bumped up metadata->count causing
        unwarranted failures to write cache files. (Reported by Stephan
        Kulow).

 ChangeLog     |  7 +++++++
 src/fccache.c | 15 +++++++++++----
 2 files changed, 18 insertions(+), 4 deletions(-)

commit 7fd7221e683d6c65b9199fd06d34d5215582748e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 16 15:55:17 2005 +0000

    Add *NeededBytesAlign(), which overestimates the padding which
    is later
        added by the new ALIGN macro. Fix alignment problems on ia64
        and s390
        by bumping up block_ptr appropriately. (Earlier version by Andreas
        Schwab).
    Use sysconf to determine proper PAGESIZE value; this appears to be
        POSIX-compliant. (reported by Andreas Schwab)
    reviewed by: plam

 ChangeLog       | 23 +++++++++++++++++++++++
 src/fccache.c   | 21 +++++++++++++--------
 src/fccharset.c | 11 +++++++++++
 src/fcfs.c      | 10 ++++++++++
 src/fcint.h     | 18 ++++++++++++++++++
 src/fclang.c    |  8 ++++++++
 src/fcname.c    |  8 ++++++++
 src/fcpat.c     | 36 ++++++++++++++++++++++++++++++++++++
 8 files changed, 127 insertions(+), 8 deletions(-)

commit 82f35f8bb4fe58ebc839531f4a63544dc07f0f5d
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 4 19:31:26 2005 +0000

    Fix bug 2878 (excessive relocations at startup for charsets,
    reported by
        Ross Burton): fc-lang/fc-lang now creates the static form of the
        langset, not the dynamic form, so that the charsets should now
        be in
        .rodata.

 ChangeLog         | 11 +++++++++++
 fc-lang/fc-lang.c | 59
 ++++++++++++++++++++++++++++++++++++++++---------------
 src/fccharset.c   | 18 +++++++++++++++++
 src/fcint.h       |  5 +++++
 src/fclang.c      | 16 ++++++++++++++-
 5 files changed, 92 insertions(+), 17 deletions(-)

commit 50544b13c19c6a4a9fe9cf26cdd2170ddacf86d1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 4 16:48:32 2005 +0000

    Add test for validity of directory caches that somehow got lost
    (reported
        by make distcheck).

 ChangeLog   | 6 ++++++
 src/fcdir.c | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit e6d3e251ee26f1267585cbbd5a95dc1f7290e225
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Nov 4 06:17:00 2005 +0000

    Bump version to 2.3.92.

 ChangeLog               |  8 ++++++++
 README                  | 29 +++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 4 files changed, 37 insertions(+), 4 deletions(-)

commit ea9726b620bff44d45fa25c91a8ab7d31a813577
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Nov 3 04:45:57 2005 +0000

    Fix argument ordering problem in call to FcPatternTransferFullFname.

 ChangeLog   | 5 +++++
 src/fcpat.c | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 7358dae49b328f5546d156246510601e2dd85d1c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Nov 3 04:23:22 2005 +0000

    Fix warnings and embarrassing double-free error.

 ChangeLog        |  7 +++++++
 src/fcfreetype.c |  2 +-
 src/fcpat.c      | 14 +++++---------
 3 files changed, 13 insertions(+), 10 deletions(-)

commit efa9f2bd077da0ccc432b80baf87c2a3e7340f6a
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 2 15:57:36 2005 +0000

    Change the rule for artificial emboldening in fonts.conf.in. This
    enables
        the support for artificial emboldening included in cairo.
    reviewed by: plam

 ChangeLog     |  8 ++++++++
 fonts.conf.in | 18 ++++++++++++++----
 2 files changed, 22 insertions(+), 4 deletions(-)

commit d7b3ac63675983c92092703c9c7da0d9e3c0b2ad
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 2 15:29:53 2005 +0000

    Don't zero out full names for FC_REF_CONSTANT fonts; also, duplicate
    full
        names when transferring, and free full names when freeing the
        associated font. Reported by Jinghua Luo.

 ChangeLog   |  8 ++++++++
 src/fcpat.c | 18 ++++++++++++++----
 2 files changed, 22 insertions(+), 4 deletions(-)

commit 303bcf9b9df00ce2906db5c9414aeec96d1a55f9
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 2 07:37:00 2005 +0000

    Revert the previous patch and commit the correct patch: I forgot a
        canonicalization in FcValueListSerialize, so that it would
        choke on
        already-serialized input files. Duh!

 ChangeLog           | 8 ++++++++
 fc-cache/fc-cache.c | 9 ---------
 src/fcpat.c         | 1 +
 3 files changed, 9 insertions(+), 9 deletions(-)

commit c6b75577f3bf3019399e0a439d9cccf55e53999f
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 2 07:01:25 2005 +0000

    Forcibly rescan a directory before writing a fresh local cache
    file for
        that directory, fixing the losing-fonts problem reported by
        Mike Fabian
        and also apparently the font cache file corruption.

 ChangeLog           | 8 ++++++++
 fc-cache/fc-cache.c | 9 +++++++++
 2 files changed, 17 insertions(+)

commit 9090cb9eceec10581c9f927b2e895189d20d1d4c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 2 06:39:23 2005 +0000

    Fix thinko: actually, the whole global cache is stale if the global
    cache
        is older than the (newest) config file.

 ChangeLog     | 6 ++++++
 src/fccache.c | 6 +++---
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 2b25f00c501a4baf2096a9cb68b0be961251cfda
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Nov 2 06:29:14 2005 +0000

    Declare the global cache of a directory's contents to be stale if the
        directory is newer than the (newest) configuration file. S:
        ----------------------------------------------------------------------

 ChangeLog     |  8 ++++++++
 src/fccache.c | 12 +++++++++---
 src/fccfg.c   | 20 ++++++++++++++------
 src/fcint.h   | 11 ++++++++++-
 4 files changed, 41 insertions(+), 10 deletions(-)

commit 793154ed8d4b2d832f81a893273c6504bac3f0b3
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 1 06:57:25 2005 +0000

    Copy the full pathname whenever duplicating an FcPattern; otherwise,
        applications continue breaking.

 ChangeLog     | 10 ++++++++++
 src/fcint.h   |  4 ++--
 src/fclist.c  |  6 +-----
 src/fcmatch.c |  4 ++++
 src/fcpat.c   | 25 ++++++++++++++++++++++++-
 5 files changed, 41 insertions(+), 8 deletions(-)

commit d6946c1a11695eb55a3fe60db5480df94570b1ba
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 1 05:52:28 2005 +0000

    Fix small memory error (tried to free argv); use basename and dirname
        correctly (they can modify their arguments).

 ChangeLog        | 7 +++++++
 fc-cat/fc-cat.c  | 4 +---
 src/fcfreetype.c | 2 +-
 3 files changed, 9 insertions(+), 4 deletions(-)

commit e77c17184a6172d6368dd3193c791c4027065bbd
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Nov 1 05:26:27 2005 +0000

    Reinstate basename patch, but keep a hash table linking FcPatterns
    to their
        fully-qualified font names for clients' benefit. Clients only
        pay for
        the font names once they request the FC_FILE property from an
        FcPattern, but the font name is malloc'd at that point (i.e. not
        mmapped: that's impossible, since it may vary between machines.)
        Clients do have to pay for a copy of the path name per cache file.
    Note that FcPatternGetString now does some rewriting if you ask for an
        FC_FILE, appending the pathname as appropriate.

 ChangeLog        | 23 ++++++++++++++
 fc-cat/fc-cat.c  |  7 ++--
 src/fccache.c    | 40 ++++++++++++++++++++---
 src/fcfreetype.c |  5 ++-
 src/fcint.h      |  9 ++++++
 src/fclist.c     |  8 +++++
 src/fcpat.c      | 97
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 181 insertions(+), 8 deletions(-)

commit be99726f672cef086b4256ad34163f6f9ed9d4a5
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Oct 31 06:02:00 2005 +0000

    Revert basename patch, which breaks fontconfig clients on my system.

 src/fcfreetype.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 720298e773876037dd9af384a9cc16956600b5e7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Oct 26 06:34:29 2005 +0000

    Add FC_EMBEDDED_BITMAP object type to tell Xft/Cairo whether to load
        embedded bitmaps or not.
    reviewed by: plam

 ChangeLog               | 11 +++++++++++
 fontconfig/fontconfig.h |  1 +
 fonts.conf.in           |  4 ++++
 src/fcdefault.c         |  1 +
 src/fcname.c            |  1 +
 5 files changed, 18 insertions(+)

commit 961d9b9993ae815d6ba723829724bf0685809091
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Oct 25 22:29:13 2005 +0000

    Only add basename to patterns' FC_FILE element, not any part of the
        dirname.

 ChangeLog        | 6 ++++++
 src/fcfreetype.c | 3 ++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 573da729101bfb81d2cafb7e442bbf5395ae9eef
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Oct 22 15:12:05 2005 +0000

    Add some more consts, fixing more GCC4 warnings.

 ChangeLog        |  5 +++++
 src/fcfreetype.c | 22 +++++++++++-----------
 2 files changed, 16 insertions(+), 11 deletions(-)

commit 904426816df300fad816238f0f27ef595a6a539b
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Oct 22 14:21:14 2005 +0000

    Support localized font family and style names. This has been
    reported to
        break old apps like xfd, but modern (gtk+/qt/mozilla) apps
        work fine.
    reviewed by: plam

 ChangeLog       |   7 ++++
 src/fcdefault.c | 110
 +++++++++++++++++++++++++++++++-------------------------
 src/fcint.h     |   4 +++
 src/fclist.c    |  60 +++++++++++++++++++++++++++++--
 4 files changed, 130 insertions(+), 51 deletions(-)

commit e58b50e88cbe3b55695101a0988306ea4646bbe4
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Oct 21 20:24:30 2005 +0000

    Destroy the global cache file if it's terminally broken. (reported
    by Mike
        Fabian)

 ChangeLog     |  9 ++++++++-
 src/fccache.c | 16 +++++++++++++---
 2 files changed, 21 insertions(+), 4 deletions(-)

commit 2fa3f27e68834d55f0f451514a0658b247fddb0d
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Oct 21 19:47:43 2005 +0000

    Prevent fc-list from escaping strings when printing them.

 ChangeLog               |  7 +++++++
 fc-list/fc-list.c       |  2 +-
 fontconfig/fontconfig.h |  3 +++
 src/fcname.c            | 16 +++++++++++-----
 4 files changed, 22 insertions(+), 6 deletions(-)

commit 250c1cd422ce6260ff58f2699043556d93729ef7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Oct 20 20:50:21 2005 +0000

    Add valist sentinel markup for FcObjectSetBuild and FcPatternBuild.
    reviewed by: plam

 ChangeLog               |  9 ++++++++-
 fontconfig/fontconfig.h | 12 ++++++++++--
 2 files changed, 18 insertions(+), 3 deletions(-)

commit 21696e5bf08b67b57155e5b12e054456fd2b03e2
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Oct 14 21:02:31 2005 +0000

    Add consts to variables so as to move arrays into .rodata.
    reviewed by: plam

 ChangeLog                   | 8 ++++++++
 fc-glyphname/fc-glyphname.c | 4 ++--
 src/fclang.c                | 4 ++--
 3 files changed, 12 insertions(+), 4 deletions(-)

commit 15d7bd0a16af189194b665e789331a8f8c86f20d
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Oct 14 20:56:27 2005 +0000

    Check existence of directory cache file before attempting to unlink.
    reviewed by: plam

 ChangeLog     | 7 +++++++
 src/fccache.c | 4 +++-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 1178b569764caaf51d2dc55f1c2cf969a98cf61e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Oct 13 12:32:14 2005 +0000

    Fix flipped return value on unlink. (Reported by Mike Fabian)

 ChangeLog     | 14 ++++++++++++++
 src/fccache.c |  6 ++++--
 2 files changed, 18 insertions(+), 2 deletions(-)

commit 2eb843740672da9319c190c48aea2cd98dc92725
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Oct 12 07:55:42 2005 +0000

    When fc-cache is run without --force, use directory cache files to
    speed up
        fc-cache run time.

 src/fccache.c | 4 ++--
 src/fcdir.c   | 3 +++
 src/fcint.h   | 3 +++
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 23787a8f1b7a23c82f479b0e6906928b9920b9cc
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Oct 6 20:45:25 2005 +0000

    Add padding to make valgrind and glibc not hate each other when
    calling
        strlen().

 ChangeLog    | 8 ++++++++
 src/fcname.c | 5 +++--
 src/fcpat.c  | 5 +++--
 3 files changed, 14 insertions(+), 4 deletions(-)

commit 008385c5fb957c1547fa1a29537d0c9fb8e3b38a
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Oct 5 21:12:57 2005 +0000

    Use libtool -no-undefined flag on all platforms.
    reviewed by: plam & keithp

 ChangeLog       | 7 +++++++
 src/Makefile.am | 3 +--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit edffd3b964cde0f2cde86cc5c0cef180843c44e5
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Oct 5 21:12:25 2005 +0000

    Fix typo in manually applying patch.

 src/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit affc7d1849c26db10b344cfbe834d0bba764f419
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Oct 5 19:40:35 2005 +0000

    Modify config file to use Greek fonts before Asian fonts with
    Greek glyphs.
    reviewed by: plam & keithp

 ChangeLog     |  8 ++++++++
 fonts.conf.in | 10 +++++++---
 2 files changed, 15 insertions(+), 3 deletions(-)

commit 328929f5ea3f507426b0c021c11fef62794066df
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Oct 5 19:38:40 2005 +0000

    Modify config file to use Greek fonts before Asian fonts with
    Greek glyphs.
    reviewed by: plam & keithp

 ChangeLog     |  8 ++++++++
 fonts.conf.in | 10 +++++++---
 2 files changed, 15 insertions(+), 3 deletions(-)

commit 1ed67f658c910ece44ab73bb5a1d08ea1c0246d3
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Oct 5 19:32:41 2005 +0000

    Use libtool -no-undefined flag on all platforms.
    reviewed by: plam & keithp

 ChangeLog       | 7 +++++++
 src/Makefile.am | 3 +--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 751932ddb10d5ce798c56d82bc1f40a443237ac1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Oct 5 18:41:55 2005 +0000

    Implement move-to-front array for banks (perf regression reported
    by Ronny
        V. Vindenes).

 ChangeLog     |  6 ++++++
 src/fccache.c | 29 +++++++++++++++++++----------
 2 files changed, 25 insertions(+), 10 deletions(-)

commit 55c8fa4f08b86f4e9af97920a61943f5facd7822
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Oct 5 00:34:52 2005 +0000

    Add new API which unlinks directory caches and checks dir caches for
        existence of appropriate sections. Fix fc-cache to unlink
        stale cache
        files and save directory caches that lack relevant sections.

 ChangeLog               | 11 +++++++++++
 fc-cache/fc-cache.c     |  6 +++++-
 fontconfig/fontconfig.h |  6 ++++++
 src/fccache.c           | 44 ++++++++++++++++++++++++++++++++++----------
 4 files changed, 56 insertions(+), 11 deletions(-)

commit 6bf2380478f825a6135527133a03869e0ae18742
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Oct 3 19:51:11 2005 +0000

    Ensure that a directory cache has the appropriate section before
    reporting
        that it is valid (reported by Matthias Clasen).

 ChangeLog     |  6 ++++++
 src/fccache.c | 15 +++++++++++++++
 2 files changed, 21 insertions(+)

commit bc5784ff00230bf70e9cbe5c97e62e4f251e7000
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Oct 1 19:18:51 2005 +0000

    Bump version number to 2.3.91.

 README                  | 15 ++++++++++++++-
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 3 files changed, 16 insertions(+), 3 deletions(-)

commit e99f0f0a45b29ad195c96833c95771ccf7771fef
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Sep 29 20:53:30 2005 +0000

    Use libxml2 if requested (with --enable-libxml2) or if expat is not
        available.
    reviewed by: plam

 ChangeLog       |  11 ++++
 configure.in    | 162
 +++++++++++++++++++++++++++++++-------------------------
 src/Makefile.am |   3 +-
 src/fcxml.c     |  71 ++++++++++++++++++++++++-
 4 files changed, 174 insertions(+), 73 deletions(-)

commit 649cc3616d11add9d5c39563f9f343614c2bb2eb
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Sep 29 05:14:04 2005 +0000

    Fix multi-arch cache files: compute the position for the block to
    be added
        using info from OrigFile, not NewFile.

 ChangeLog     | 6 ++++++
 src/fccache.c | 4 ++--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit cd3109114ca6ee9ce2b454180dadea5aa04ce55d
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Sep 28 16:21:14 2005 +0000

    Cast results of sizeof() to unsigned int to get rid of warnings
    on x86_64
        (thanks Matthias Clasen).

 ChangeLog     |  8 +++++++-
 src/fccache.c | 38 +++++++++++++++++++-------------------
 2 files changed, 26 insertions(+), 20 deletions(-)

commit 9ecb9a9a063e4f94deb6da8fd15656c9a7e480e7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Sep 28 00:23:39 2005 +0000

    Update ChangeLog.

 ChangeLog | 34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 1d879de2d968ef2bd6317ba3c7be0e62b263a708
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Sep 28 00:23:15 2005 +0000

    Use FcAtomic to rewrite cache files.

 src/fccache.c | 132
 +++++++++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 98 insertions(+), 34 deletions(-)

commit 099f9a86834060741dcbdf8b70e32f3a7338925f
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Sep 27 15:52:58 2005 +0000

    Don't unlink the fonts.cache-2 file even if there's no data to
    write; just
        write an empty cache file. (thanks Lubos Lunak)

 src/fccache.c | 7 -------
 1 file changed, 7 deletions(-)

commit 6aee8c6faa2906334b9d9f933440184a256d0b53
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Sep 27 05:43:08 2005 +0000

    Allocate room for the subdirectory names in each directory
    cache. Thanks to
        James Cloos for finding and diagnosing this bug!

 src/fccache.c | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 2633bc38431468ce528407ee576cb29b0d1212c8
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Sep 27 05:26:59 2005 +0000

    Fix .cvsignore file after copying across directories.

 fc-cat/.cvsignore | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d75bef7bc8b2bb4ed7750ce5083b1e65a709d75a
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Sep 23 21:42:32 2005 +0000

    Add comment about needing docbook-utils to run make distcheck;
    hope it'll
        save pain to others later.

 INSTALL | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 35c2c7f1e979449e67551588f3440ff15e5c806c
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Sep 23 14:41:40 2005 +0000

    Update ChangeLog for 2.3.90.

 ChangeLog | 33 +++++++++++++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit d8c22de1f1c809ac6b0e1b3caa2cd9ad8046311a
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Sep 23 05:59:19 2005 +0000

    file Makefile.am was initially added on branch fc-2_4_branch.

commit f28f090d2537fc7dcc4fe71a84020a53d14027b4
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Sep 23 05:59:19 2005 +0000

    Add new command-line utility, fc-cat, to convert fonts.cache-2
    files into
        fonts.cache-1 files (e.g. for grepping and validation of the mmap
        codepath), as per James Cloos' request.
    Remove done 'TODO' comment.
    Updates for development release 2.3.90.

 Makefile.am             |   2 +-
 README                  |   7 +-
 configure.in            |   3 +-
 fc-cache/fc-cache.c     |   1 -
 fc-cache/fc-cache.sgml  |   4 +-
 fc-cat/.cvsignore       |   6 +
 fc-cat/Makefile.am      |  55 ++++++++
 fc-cat/fc-cat.c         | 336
 ++++++++++++++++++++++++++++++++++++++++++++++++
 fc-cat/fc-cat.sgml      | 139 ++++++++++++++++++++
 fontconfig/fontconfig.h |   2 +-
 10 files changed, 548 insertions(+), 7 deletions(-)

commit a9698bed6553c12d397593292ee9e81054244e85
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Sep 23 04:09:37 2005 +0000

    Update documentation -- fc-cache's man page now says that you need
    to run
        fc-cache once per cached architecture; add some documentation
        to the
        FcCache structure.
    Make fc-cache write out fonts.cache-2 files for directories with
    no fonts
        (i.e. only subdirectories).

 fc-cache/fc-cache.sgml |  7 +++++++
 src/fccache.c          | 13 ++++++++-----
 src/fcint.h            |  8 ++++----
 3 files changed, 19 insertions(+), 9 deletions(-)

commit e3ff8a4ea66b3738a72558520f33eb5b8d44442e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Sep 23 02:33:55 2005 +0000

    Remove debugging printf (oops).

 src/fcpat.c | 1 -
 1 file changed, 1 deletion(-)

commit bef069e19e72af1f7983e40a7ca5045f7d006bdd
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Sep 23 02:08:40 2005 +0000

    Convert fromcode to char[12] from char *.

 src/fcfreetype.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit c7beacf91698e8b0dcba2e813052538ec56dd268
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Sep 23 01:48:33 2005 +0000

    Small patch for output in case where lineno not defined.

 fc-lang/fc-lang.c |  2 +-
 src/fcint.h       | 14 +++++++-------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 67accef4d3e245c1dea341e633d82b14aa03432a
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Sep 22 23:45:53 2005 +0000

    Fix more gcc4 warnings:
    - Cast sizeof to int, to shut up signedness warnings in comparison.
    - Add consts where appropriate.
    reviewed by: Patrick Lam <plam@mit.edu>

 doc/edit-sgml.c             |   4 +-
 fc-case/fc-case.c           |   8 +--
 fc-glyphname/fc-glyphname.c |  21 ++++---
 fc-lang/fc-lang.c           |  20 ++++---
 src/fccharset.c             |   3 +-
 src/fcdefault.c             |   6 +-
 src/fcfreetype.c            |  43 ++++++++------
 src/fcinit.c                |   2 +-
 src/fcmatch.c               |  18 +++---
 src/fcpat.c                 |   3 +-
 src/fcxml.c                 | 138
 ++++++++++++++++++++++----------------------
 11 files changed, 142 insertions(+), 124 deletions(-)

commit 141432505aecb158285ccc84ec5d7099e3c2efa7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Sep 22 20:49:24 2005 +0000

    Fix bug when clients use FcNameRegisterObjectTypes; fontconfig was
        returning bogus (i.e. duplicate) FcObjectPtr values. Now use
        negative
        values for dynamic object strings and positive values for
        built-in and
        FcNameRegisterObjectType strings. Thanks to Matthias Clasen for
        pinpointing this bus!

 src/fcname.c | 37 ++++++++++++++++++++++++++++---------
 1 file changed, 28 insertions(+), 9 deletions(-)

commit 9fe2bd7ab07611559363d80efdf8d3efb4ea737e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Sep 16 04:57:18 2005 +0000

    Add missing FcValueCanonicalize on call to FcPatternAdd.

 src/fcpat.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 13cdf607533ad592b896b738c5642f3685fd8053
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Sep 15 20:36:44 2005 +0000

    Revert ill-advised addition of FC_RENDER. Add strategy for handling
    objects
        that aren't hardcoded into fontconfig, but generated by fontconfig
        clients: keep another array of user-defined objects (indexed
        after the
        built-in objects).
    Fix compilation warning (uninitialized variable).
    Add comment.

 fontconfig/fontconfig.h |  1 -
 src/fccache.c           |  1 +
 src/fccfg.c             |  2 +-
 src/fcname.c            | 98
 +++++++++++++++++++++++++++++++++++++++----------
 4 files changed, 80 insertions(+), 22 deletions(-)

commit 0fa237d1e010a1ab9b8fb09079fbb364958d8cc7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Sep 11 05:17:28 2005 +0000

    Add a global binding for the 'render' pattern element used by Xft;
    the lack
        of said binding prevented programs from using FcPatterns
        through Xft.

 fontconfig/fontconfig.h | 1 +
 src/fcname.c            | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 8245771d5a42dac36024411a0da047b9a7dc42c6
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Sep 11 02:16:09 2005 +0000

    Merge with HEAD and finish the GCC 4 cleanups (no more warnings!)

 ChangeLog                   |  19 +++++
 doc/fontconfig-user.sgml    |   4 +-
 fc-glyphname/fc-glyphname.c |   4 +-
 fc-lang/fc-lang.c           |   2 +-
 fc-match/fc-match.c         |   8 +-
 fontconfig/fcprivate.h      |   2 +-
 src/fccache.c               |  35 ++++----
 src/fccfg.c                 |   2 +-
 src/fcdir.c                 |   4 +-
 src/fcfreetype.c            | 191
 ++++++++++++++++++++++++--------------------
 src/fcint.h                 |  10 +--
 src/fclist.c                |   2 +-
 src/fcpat.c                 |  80 +++++++++----------
 src/fcstr.c                 |   2 +-
 src/fcxml.c                 |  11 ++-
 15 files changed, 209 insertions(+), 167 deletions(-)

commit 8cb4c56d9925bba17bce32c12f7e09d8f36b2e53
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Sep 7 15:38:46 2005 +0000

    Robustness fixes: check return values from read and lseek; fix
        uninitialized variables; ensure progress on FcCacheSkipToArch.

 src/fccache.c | 34 +++++++++++++++++++++++-----------
 1 file changed, 23 insertions(+), 11 deletions(-)

commit 03a212e525a34e2ceeac369bac669871d8cc681a
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Sep 3 04:56:56 2005 +0000

    Really fix the global cache: make sure we're reading and writing
    the same
        data format. Also match subdirectories when consuming cache
        information. Also check dates for global cache: a dir is out of
        date if
        it is newer than the global cache; scan it manually if that's
        the case.

 src/fccache.c | 55
 ++++++++++++++++++++++++++++++++++++++-----------------
 src/fccfg.c   | 23 ++++++++++++++++++++---
 src/fcint.h   |  1 +
 3 files changed, 59 insertions(+), 20 deletions(-)

commit f6ee3db5f02eb8f41e3941e892964175cad0a898
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Sep 2 06:16:49 2005 +0000

    Fix addressing in the global cache file, preventing infinite
    loops. Get rid
        of unused variables.

 src/fccache.c | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 07b3e5766332ad1b2ec0ae613476a123ec9c5453
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Sep 1 18:29:28 2005 +0000

    Apply Matthias Clasen's patch to fix obvious bogosity (i.e. missing
        FcObjectPtrU).

 src/fcpat.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0230c9f88706ee4629bca625f1acd133a4cb1d9f
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Sep 1 06:59:44 2005 +0000

    Fix embarassing attempt to free a static buffer.

 src/fccache.c | 9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit 2304e38f9bc070ccd54f80187c208d93b6eeb373
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Sep 1 06:14:46 2005 +0000

    :
    Save subdirectory names in cache files to save time. This completely
        restores the original fontconfig API, BTW. Note that directories
        without fonts don't get a cache file; but then how many files
        would it
        have in that directory...

 fc-cache/fc-cache.c     |  2 +-
 fontconfig/fontconfig.h |  2 +-
 src/fccache.c           | 40 ++++++++++++++++------------------------
 src/fcdir.c             |  4 ++--
 src/fcint.h             |  2 +-
 5 files changed, 21 insertions(+), 29 deletions(-)

commit 5e678e9459f71878d72f72d3765f7dc7e8f3f643
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Aug 31 15:12:41 2005 +0000

    Only load requested fonts for fc-cache, and cleanup memory handling:
        *Serialize no longer mutates original FcPatterns, it creates a
        new copy
        in the supplied buffer. Fix thinkos in global cache freeing and in
        FcCacheSkipToArch.

 fc-cache/fc-cache.c |  3 +--
 src/fccache.c       | 36 ++++++++++++++++--------------------
 src/fcfs.c          |  3 ---
 3 files changed, 17 insertions(+), 25 deletions(-)

commit fd77c154afb039b6b19f8e29c28dce652b2d060e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Aug 30 23:03:42 2005 +0000

    Fix compilation error exposed with gcc 2.95.

 src/fccache.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit eb0cf67144258acbee0a5bf369b6dfb950fcebb9
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Aug 30 05:55:13 2005 +0000

    src/fcint.c
    The global cache now uses the same mmap-based cache infrastructure
    as the
        per-directory caches. Furthermore, the global cache is
        automatically
        updated (if possible) whenever fontconfig is used. Rip out
        remnants of
        the old cache infrastructure.

 fc-cache/fc-cache.c |    3 -
 src/fccache.c       | 1156
 ++++++++++++---------------------------------------
 src/fcdir.c         |  144 ++-----
 src/fcint.h         |   97 +----
 4 files changed, 307 insertions(+), 1093 deletions(-)

commit 2dbe759762c3b7b779dbe52ef0d6ca50e51d4bf1
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sun Aug 28 05:20:23 2005 +0000

    Emit and verify machine signature (sizeof (stuff) + endianness)
    in cache
        files. Fix bugs in FcCacheBankToIndex.

 src/fccache.c | 152
 ++++++++++++++++++++++++++++++++--------------------------
 src/fcint.h   |   2 +-
 2 files changed, 85 insertions(+), 69 deletions(-)

commit 7f37423d8c1acc8ece0555e66ae7f857c22a77a7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Sat Aug 27 02:34:24 2005 +0000

    Replace FcObjectStaticName by FcStrStaticName. Implement serialization
    of
        'object' table (strings pointed to by FcPatternElt->object and
        used as
        keys) and loading of object table from cache file if more
        strings are
        present in cache file than in current version of fontconfig. Hash
        the
        object table in memory.

 src/fccfg.c  |   4 +-
 src/fcfs.c   |  11 ++--
 src/fcint.h  |  31 +++++-----
 src/fclist.c |   2 +-
 src/fcname.c | 181
 +++++++++++++++++++++++++++++++++++++++++++++++++----------
 src/fcpat.c  |  19 +++----
 6 files changed, 186 insertions(+), 62 deletions(-)

commit 1b7be377906048e4a3a8d6ab46ebaab8847a0573
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Aug 25 07:38:02 2005 +0000

    Reinstate the old global cache code. For the forseeable future, it's
        probably all right to use the global cache as it was previously
        and
        just store filenames and font info, as long as no mmap cache
        exists in
        the directory. Of course, if an mmap cache exists, use that
        instead.
    If a directory cache does not exist or is invalid, load the fonts
    for just
        that directory using the old codepath.
    Fix premature free of the FcPatterns belonging to the FcFontSet
    which we
        create from the mmapped files.

 src/fccache.c | 710
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 src/fccfg.c   |  21 +-
 src/fcint.h   |  53 ++++-
 3 files changed, 741 insertions(+), 43 deletions(-)

commit 4262e0b3853bc2153270eb33d09a063f852f3f90
Author: Patrick Lam <plam@MIT.EDU>
Date:   Wed Aug 24 06:21:30 2005 +0000

    Overhaul the serialization system to create one mmapable file per
    directory
        and distribute bytes for each directory from a single malloc
        for that
        directory. Store pointers as differences between the data
        pointed to
        and the pointer's address (s_off = s - v). Don't serialize data
        structures that never actually get serialized. Separate strings
        used
        for keys from strings used for values (in FcPatternElt and
        FcValue,
        respectively). Bump FC_CACHE_VERSION to 2.

 fc-cache/fc-cache.c     |   12 +-
 fc-lang/fc-lang.c       |    4 +-
 fontconfig/fcprivate.h  |    8 +-
 fontconfig/fontconfig.h |   51 +-
 src/fccache.c           |  415 ++++++++++------
 src/fccfg.c             |  109 +++--
 src/fccharset.c         |  333 +++++--------
 src/fcdbg.c             |   12 +-
 src/fcdir.c             |   17 +-
 src/fcfs.c              |  154 +++---
 src/fcinit.c            |    3 -
 src/fcint.h             |  276 ++++-------
 src/fclang.c            |  213 ++++-----
 src/fclist.c            |   57 ++-
 src/fcmatch.c           |   88 ++--
 src/fcmatrix.c          |  100 +---
 src/fcname.c            |  101 +++-
 src/fcpat.c             | 1218
 ++++++++++++++++++-----------------------------
 src/fcstr.c             |  291 +----------
 src/fcxml.c             |   13 +-
 20 files changed, 1402 insertions(+), 2073 deletions(-)

commit 71f94d0768725eb171e04748d9f561f58b258ae7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 25 20:39:19 2005 +0000

    Various GCC 4 cleanups for signed vs unsigned char
    Match only [0-9]*.conf files in <include>{directory}</include>
    elements to
        avoid loading *.rpmsave or .dpkg-old files. (otaylor)

 ChangeLog                   |  19 +++++
 doc/fontconfig-user.sgml    |   4 +-
 fc-glyphname/fc-glyphname.c |   4 +-
 fc-lang/fc-lang.c           |   2 +-
 fc-match/fc-match.c         |   8 +-
 src/fccfg.c                 |   2 +-
 src/fcfreetype.c            | 191
 ++++++++++++++++++++++++--------------------
 src/fcpat.c                 |   2 +-
 src/fcstr.c                 |   2 +-
 src/fcxml.c                 |  11 ++-
 10 files changed, 144 insertions(+), 101 deletions(-)

commit 212c9f437e959fbdc5fe344c67b8c1cf8ca63edb
Author: Patrick Lam <plam@MIT.EDU>
Date:   Mon Jul 25 04:10:09 2005 +0000

    #ifdef out old cache stuff, replace with first version of new mmapping
        cache. Add *Read and *Write procedures which mmap in and write
        out the
        fontconfig data structures to disk. Currently, create cache
        in /tmp,
        with different sections for each architecture (as returned
        by uname's
        .machine field. Run the fc-cache binary to create a new cache
        file;
        fontconfig then uses this cache file on subsequent runs, saving
        lots of
        memory. Also fixes a few bugs and leaks.

 fc-cache/fc-cache.c |   13 +-
 fc-lang/fc-lang.c   |    6 +
 src/fccache.c       | 1081
 ++++++++++++++-------------------------------------
 src/fccfg.c         |   16 +-
 src/fccharset.c     |  103 ++++-
 src/fcdir.c         |   17 +-
 src/fcfs.c          |   95 +++++
 src/fcinit.c        |    3 +
 src/fcint.h         |  148 ++++---
 src/fclang.c        |   28 ++
 src/fcmatrix.c      |   29 ++
 src/fcpat.c         |  241 ++++++++++--
 src/fcstr.c         |   76 +++-
 13 files changed, 963 insertions(+), 893 deletions(-)

commit e1b9d091c661b0e1d1e9f73c5c55ad53959c55c7
Author: Patrick Lam <plam@MIT.EDU>
Date:   Fri Jul 15 18:49:12 2005 +0000

    Forward port cworth's patch to branch.

 ChangeLog    | 15 +++++++++++++++
 src/fcinit.c |  2 +-
 src/fcint.h  |  2 +-
 src/fcpat.c  | 60
 +++++++++++++++++++++++++++++++++++++++++-------------------
 src/fcxml.c  |  1 +
 5 files changed, 59 insertions(+), 21 deletions(-)

commit 7850458d28ae2cb3b1d7fa9dd9fecd125cef5369
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Jul 15 17:43:44 2005 +0000

    Rename FcPatternThawAll to FcPatternFini.
    Pull the FcObjectStateName hash table out to file scope, and add
        FcObjectStaticNameFini so that FcFini will cleanup this hash
        table as
        well.
    Clear FILE* to NULL after fclose.

 ChangeLog    | 15 +++++++++++++++
 src/fcinit.c |  2 +-
 src/fcint.h  |  2 +-
 src/fcpat.c  | 49 ++++++++++++++++++++++++++++++++++++-------------
 src/fcxml.c  |  1 +
 5 files changed, 54 insertions(+), 15 deletions(-)

commit 0fa680f0766a8f545b20a7935a19e9db5529f903
Author: Patrick Lam <plam@MIT.EDU>
Date:   Thu Jul 7 12:09:10 2005 +0000

    Convert ObjectPtr from a fat structure to a simple index into an
    id table;
        ids can be positive (for static strings) or negative (for dynamic
        strings). Static strings belong to a single buffer, while dynamic
        strings are independently allocated.

 fontconfig/fontconfig.h |   9 +-
 src/fccfg.c             |   7 +-
 src/fcname.c            |   2 +-
 src/fcpat.c             | 560
 ++++++++++++++++++++++++++++++++++--------------
 src/fcxml.c             |   2 +-
 5 files changed, 408 insertions(+), 172 deletions(-)

commit cd2ec1a940888ebcbd323a8000d2fcced41ddf9e
Author: Patrick Lam <plam@MIT.EDU>
Date:   Tue Jun 28 03:41:02 2005 +0000

    Add functionality to allow fontconfig data structure serialization.
    This patch allows the fundamental fontconfig data structures to be
        serialized. I've converted everything from FcPattern down to be
        able to
        use *Ptr objects, which can be either static or dynamic (using
        a union
        which either contains a pointer or an index) and replaced
        storage of
        pointers in the heap with the appropriate *Ptr object. I then
        changed
        all writes of pointers to the heap with a *CreateDynamic call,
        which
        creates a dynamic Ptr object pointing to the same object as
        before.
        This way, the fundamental fontconfig semantics should be
        unchanged; I
        did not have to change external signatures this way, although
        I did
        change some internal signatures. When given a *Ptr object,
        just run *U
        to get back to a normal pointer; it gives the right answer
        regardless
        of whether we're using static or dynamic storage.
    I've also implemented a Fc*Serialize call. Calling FcFontSetSerialize
        converts the dynamic FcFontSets contained in the config object to
        static FcFontSets and also converts its dependencies
        (e.g. everything
        you'd need to write to disk) to static objects. Note that you
        have to
        call Fc*PrepareSerialize first; this call will count the number of
        objects that actually needs to be allocated, so that we can avoid
        realloc. The Fc*Serialize calls then check the static pointers for
        nullness, and allocate the buffers if necessary. I've tested the
        execution of fc-list and fc-match after Fc*Serialize and they
        appear to
        work the same way.

 fc-lang/fc-lang.c       |  17 +-
 fontconfig/fcprivate.h  |   8 +-
 fontconfig/fontconfig.h |  50 ++-
 src/fccache.c           |  32 ++
 src/fccfg.c             | 135 ++++----
 src/fccharset.c         | 371 ++++++++++++++++-----
 src/fcdbg.c             |  26 +-
 src/fcfs.c              |  36 ++
 src/fcint.h             | 212 +++++++++++-
 src/fclang.c            | 164 ++++++---
 src/fclist.c            | 104 +++---
 src/fcmatch.c           |  69 ++--
 src/fcmatrix.c          |  71 +++-
 src/fcname.c            |  35 +-
 src/fcpat.c             | 866
 ++++++++++++++++++++++++++++++++++++++----------
 src/fcstr.c             | 219 ++++++++++--
 src/fcxml.c             |  13 +-
 17 files changed, 1902 insertions(+), 526 deletions(-)

commit f1a42f6b5f9bcd774d09002509b2872c04025c1b
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jun 17 03:01:43 2005 +0000

    Make FcOpNotContains use FcStrStr for strings so that it matches
    semantics
        for !FcOpContains.
    reviewed by: keithp

 ChangeLog   | 8 ++++++++
 src/fccfg.c | 4 +++-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit adc7abacbf0e2eae882d035f10117fb009b71bdd
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 20 16:21:39 2005 +0000

    Move fontconfig source package to libs as per override

 ChangeLog        | 6 ++++++
 debian/changelog | 2 ++
 debian/control   | 2 +-
 3 files changed, 9 insertions(+), 1 deletion(-)

commit a65a77aecfd2182589fd5fe1a1ec1ef1f250c795
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 20 15:56:51 2005 +0000

    The ka.orth file requires several characters which are not used
    anymore in
        modern Georgian and which are missing in the free Georgian
        TrueType
        fonts downloadable at:
    http://aiet.qartuli.net/docs/georgian_on_linux_en.php
    reviewed by: Mike Fabian Bug: 3352

 ChangeLog       | 11 +++++++++++
 fc-lang/ka.orth |  5 +++--
 2 files changed, 14 insertions(+), 2 deletions(-)

commit 87c887464a6fc20310998146b8558179ebe18923
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 27 19:08:08 2005 +0000

    Update date to real 2.3.2 release date. Fix change attributions

 ChangeLog        | 14 ++++++++++++++
 README           |  5 +++--
 debian/changelog |  2 +-
 3 files changed, 18 insertions(+), 3 deletions(-)

commit 5c1853cd4c9bd511f0ae9f644a2a30025116987e
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 27 16:22:46 2005 +0000

    Bump so revision for 2.3.2
    Fix a few minor leaks in error cases.

 fc-cache/fc-cache.c | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 1cb309adcb881409d669749bbca91056a0967ccf
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 23 04:32:23 2005 +0000

    Update for version 2.3.2

 ChangeLog               |  8 ++++++++
 README                  | 11 +++++++++--
 configure.in            |  2 +-
 debian/changelog        |  7 +++++++
 fontconfig/fontconfig.h |  2 +-
 5 files changed, 26 insertions(+), 4 deletions(-)

commit 716ac8b8033794e2557ad567005dfff4dd95f031
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 21 19:03:53 2005 +0000

    Don't force bitmap font enable in default configuration; allows
    users to
        override this in ~/.fonts.conf
    Updated translations
    Destroy font configuration on exit to help valgrind
    Use own transcoding routines in preference to iconv which appears
    to have
        leaks in some translators. Call iconv_close after using iconv
        (oops).
    Prefer unicode encoding of Euro char as some fonts mis-encode Euro
    in other
        ones.
    Must fetch bitmap glyphs to get width values to check for
        monospace/dual-width fonts.

 ChangeLog                  |  36 +++++++++++
 debian/fontconfig.postinst |   8 ++-
 debian/po/cs.po            | 154
 +++++++++++++++++++--------------------------
 debian/po/da.po            |  94 ++++++++++-----------------
 debian/po/de.po            |  71 ++++++---------------
 debian/po/es.po            |  77 +++++++----------------
 debian/po/fr.po            |  77 +++++++----------------
 debian/po/ja.po            | 150
 +++++++++----------------------------------
 debian/po/nl.po            |  71 ++++++---------------
 debian/po/pt.po            |  71 ++++++---------------
 debian/po/pt_BR.po         |  77 +++++++----------------
 debian/po/templates.pot    |  66 +++++--------------
 debian/po/tr.po            |  71 ++++++---------------
 debian/po/zh_CN.po         |  71 ++++++---------------
 fc-cache/fc-cache.c        |   1 +
 fonts.conf.in              |  37 +++++------
 src/fcfreetype.c           |  84 ++++++++++++++-----------
 17 files changed, 404 insertions(+), 812 deletions(-)

commit 2ff4f0760a700bf7c6e1ed4c5072a524b02243ca
Author: Ross Burton <ross@burtonini.com>
Date:   Wed Apr 13 09:11:52 2005 +0000

    Check that a pattern isn't already frozen in FcPatternFreeze

 ChangeLog   | 5 +++++
 src/fcpat.c | 3 +++
 2 files changed, 8 insertions(+)

commit ae7d0f35938693d250f09165fb6486b9e0f4b9bd
Author: Ross Burton <ross@burtonini.com>
Date:   Thu Mar 31 19:16:49 2005 +0000

    Put all FcPattern objects though FcObjectStaticName and do pointer
    trather
        than string compares

 ChangeLog     | 8 ++++++++
 src/fclist.c  | 5 +++--
 src/fcmatch.c | 2 +-
 src/fcpat.c   | 3 ++-
 4 files changed, 14 insertions(+), 4 deletions(-)

commit 156032744ee08a5d6a60e1bc1c2e0fc3702567d7
Author: Tor Lillqvist <tml@iki.fi>
Date:   Thu Mar 17 08:57:11 2005 +0000

    Add the .dll to the dll name.

 ChangeLog             | 4 ++++
 src/fontconfig.def.in | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 5f347d9cd50069a50174cc243acab64ee4e537a9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 10 22:06:20 2005 +0000

    Update to reflect configuration changes
    Fix Autohint vs Autohinter mistake
    Adopt changes from Josselin Mouette for configuration descriptions
    Update
        debian to version 2.3.1-2

 ChangeLog                   | 11 +++++++++++
 debian/README.Debian        | 19 ++++++++++---------
 debian/changelog            | 10 ++++++++++
 debian/fontconfig.postinst  |  2 +-
 debian/fontconfig.templates | 39 ++++++++-------------------------------
 5 files changed, 40 insertions(+), 41 deletions(-)

commit 8c74026071aae6ad70a96b81398498dcb28c0255
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 9 04:57:42 2005 +0000

    Update debian for 2.3.1

 ChangeLog        |  6 ++++++
 debian/changelog | 11 +++++++++++
 debian/rules     |  1 +
 3 files changed, 18 insertions(+)

commit 79da4fe91ff0cee974e1ec7003857fb47c0f55d5
Author: Tor Lillqvist <tml@iki.fi>
Date:   Wed Mar 9 00:47:11 2005 +0000

    Get the DLL from "bin" where modern libtools put it, not "lib".
    Check also drive letter prefix on Win32.

 ChangeLog         | 8 ++++++++
 fontconfig-zip.in | 2 +-
 src/fccfg.c       | 4 +++-
 3 files changed, 12 insertions(+), 2 deletions(-)

commit d49dde9f900777f8482290dbafc6acb52a2b9432
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 8 23:39:02 2005 +0000

    Update for 2.3.1

 ChangeLog               |  7 +++++++
 README                  | 12 ++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 4 files changed, 19 insertions(+), 4 deletions(-)

commit 76a8dfa3378fc1bd0397a95f2da56d5c6fb2540c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 5 23:50:55 2005 +0000

    Include space and remove numbers from valid script tags. This
    ensures that
        tags like 'lao ' work while rejecting those which have any digits.
        Eliminate a spurious debugging variable (len)

 ChangeLog        |  8 ++++++++
 src/fcfreetype.c | 20 ++++++++++++--------
 2 files changed, 20 insertions(+), 8 deletions(-)

commit 219f7818dacb5417ab9e481b1fc21a79511e5fe7
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 5 23:34:57 2005 +0000

    Rework GSUB/GPOS script parsing to survive broken fonts. Thanks
    for the
        broken font go to Manish Singh

 ChangeLog        |  7 +++++++
 src/fcfreetype.c | 64
 ++++++++++++++++++++++++++++++++++++++------------------
 2 files changed, 51 insertions(+), 20 deletions(-)

commit 97bde49a2b791de9ad66aed97ca07c22302da60d
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 5 20:58:39 2005 +0000

    Josselin Mouette:
    Include 2.3 release information in changelog Add Josselin Mouette
    as an
        Uploader Set hinting_type to low priority configuration option
    Manish Singh:
    yes_bitmaps.conf -> yes-bitmaps.conf
    Funda Wang:
    Johap -> Johab

 ChangeLog                   | 20 ++++++++++++++++++++
 debian/changelog            | 13 +++++++++++--
 debian/control              |  1 +
 debian/fontconfig.config    |  2 +-
 debian/fontconfig.postinst  |  2 +-
 debian/fontconfig.templates |  4 ++--
 debian/rules                |  4 ++--
 src/fcfreetype.c            |  2 +-
 8 files changed, 39 insertions(+), 9 deletions(-)

commit 683dc3c476f1ee514c252a05311efc7a97fbaee9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 3 06:20:57 2005 +0000

    Move debian-specific conf file examples upstream.
    Sub-pixel configuration examples must smash subpixel value as
    Xft always
        sets it from X.
    Change sub-pixel rendering debconf descriptions from Enable/Disable to
        Always/Never.

 ChangeLog                            | 22 ++++++++++++++++++++++
 Makefile.am                          |  3 ---
 conf.d/Makefile.am                   |  7 +++++--
 {debian => conf.d}/autohint.conf     |  0
 {debian => conf.d}/no-sub-pixel.conf |  3 ---
 conf.d/sub-pixel.conf                |  3 ---
 {debian => conf.d}/unhinted.conf     |  0
 debian/fontconfig.install            |  1 +
 debian/fontconfig.postinst           |  4 ++--
 debian/fontconfig.templates          | 11 +++++------
 10 files changed, 35 insertions(+), 19 deletions(-)

commit dc2e06ab0707f8e2ffd5fe5c1d2db38dd594b551
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 3 01:59:28 2005 +0000

    Ignore more build detritus
    Add debian package construction stuff.
    Update to newer versions of these tools
    Get library manuals to build again (we love automake).
    Update debian build system to switch maintainers and deal with 2.3
        functionality

 .cvsignore                        |   7 +
 ChangeLog                         |  53 +++
 Makefile.am                       |  50 ++-
 conf.d/.cvsignore                 |   2 +
 config/config.guess               | 846
 ++++++++++++++++++++------------------
 config/config.sub                 | 449 ++++++++++++++------
 debian/README.Debian              |  44 ++
 debian/autohint.conf              |   9 +
 debian/changelog                  | 661 +++++++++++++++++++++++++++++
 debian/compat                     |   1 +
 debian/control                    |  78 ++++
 debian/copyright                  |  29 ++
 debian/fontconfig-udeb.install    |   3 +
 debian/fontconfig.config          |  10 +
 debian/fontconfig.defoma          | 162 ++++++++
 debian/fontconfig.dirs            |   1 +
 debian/fontconfig.install         |   6 +
 debian/fontconfig.postinst        | 139 +++++++
 debian/fontconfig.postrm          |  26 ++
 debian/fontconfig.templates       |  51 +++
 debian/libfontconfig1-dev.install |   7 +
 debian/libfontconfig1.install     |   1 +
 debian/local.conf.md5sum          |  18 +
 debian/no-sub-pixel.conf          |  12 +
 debian/po/POTFILES.in             |   1 +
 debian/po/cs.po                   | 154 +++++++
 debian/po/da.po                   | 174 ++++++++
 debian/po/de.po                   | 157 +++++++
 debian/po/es.po                   | 198 +++++++++
 debian/po/fr.po                   | 194 +++++++++
 debian/po/ja.po                   | 180 ++++++++
 debian/po/nl.po                   | 158 +++++++
 debian/po/pt.po                   | 145 +++++++
 debian/po/pt_BR.po                | 183 +++++++++
 debian/po/templates.pot           | 120 ++++++
 debian/po/tr.po                   | 150 +++++++
 debian/po/zh_CN.po                | 148 +++++++
 debian/rules                      |  39 ++
 debian/unhinted.conf              |   9 +
 doc/.cvsignore                    |   1 +
 doc/Makefile.am                   |  13 +-
 41 files changed, 4171 insertions(+), 518 deletions(-)

commit 4afc00ca02bb3f49fe214463e0f194486f438b70
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 1 20:48:36 2005 +0000

    Update for 2.3.0

 ChangeLog               |  7 +++++++
 README                  | 14 ++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  4 ++--
 4 files changed, 22 insertions(+), 5 deletions(-)

commit 0c009d2b6df523bba7a10ad148287bed2df9ebd6
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 1 20:36:48 2005 +0000

    Generate and install PDF versions of the manuals
    Fix formatting
    Add missing exported functions, fix data types
    Add missing pattern elements.
    Add missing pattern elements. Document conf.d usage, clarify available
        orthography list. Fix some config file attributes. Complete
        list of
        constants.
    Mark FC_SOURCE deprecated.
    Don't set FC_SOURCE any longer.

 ChangeLog                 | 25 ++++++++++++++++
 doc/Makefile.am           | 18 +++++++++++-
 doc/fcpattern.fncs        |  3 +-
 doc/fcstring.fncs         | 40 +++++++++++++++++++++++--
 doc/fontconfig-devel.sgml | 10 ++++++-
 doc/fontconfig-user.sgml  | 74
 ++++++++++++++++++++++++++++++++++++++++-------
 fontconfig/fontconfig.h   |  2 +-
 src/fcfreetype.c          |  3 --
 8 files changed, 156 insertions(+), 19 deletions(-)

commit 414f720281b416736b92913f4bcbceac1a781cde
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Feb 28 18:56:15 2005 +0000

    Create prototype /etc/fonts/conf.d directory with a few sample
        configuration files. Deprecate use of local.conf for local
        customizations in favor of this directory based scheme which
        is more
        easily integrated into installation systems.
    Tag FC_EMBOLDEN as a boolean variable

 ChangeLog               | 18 ++++++++++++++++++
 Makefile.am             | 24 ++----------------------
 conf.d/Makefile.am      | 34 ++++++++++++++++++++++++++++++++++
 conf.d/README           |  8 ++++++++
 conf.d/no-bitmaps.conf  | 13 +++++++++++++
 conf.d/sub-pixel.conf   | 12 ++++++++++++
 conf.d/yes-bitmaps.conf | 13 +++++++++++++
 configure.in            |  1 +
 src/fcname.c            |  1 +
 9 files changed, 102 insertions(+), 22 deletions(-)

commit 47b49bf14b5cd433366a02374dfaf1c27a57cc91
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 10 23:00:51 2005 +0000

    Free patterns from fonts which are rejected by configuration
    (bug #2518)
    reviewed by: pborelli@katamail.com

 ChangeLog   | 8 ++++++++
 src/fcdir.c | 2 ++
 2 files changed, 10 insertions(+)

commit afca783626534477f07b03d173bbe9f51e03b53b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 29 00:42:37 2005 +0000

    Update for version 2.2.99

 ChangeLog               | 11 +++++++++--
 README                  | 16 ++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 4 files changed, 25 insertions(+), 6 deletions(-)

commit 845a0bf37a6f8f16fe40f3037fa727cc9c5569f3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jan 29 00:33:47 2005 +0000

    Add a few pointers

 ChangeLog | 5 +++++
 README    | 3 +++
 2 files changed, 8 insertions(+)

commit ca60d2b5c503cb58ed235cbdd82ac623cda307ff
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 28 23:55:14 2005 +0000

    Polite typechecking for test and edit expressions. Helps catch
    errors in
        the font configuration.

 ChangeLog    |  10 +++
 src/fcint.h  |  12 +--
 src/fcname.c |   2 +-
 src/fcxml.c  | 252
 ++++++++++++++++++++++++++++++++++++++++++++++-------------
 4 files changed, 211 insertions(+), 65 deletions(-)

commit 59e149e757795a7c0ec66c35b551a66e0da42098
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 16 01:41:24 2005 +0000

    Have --with-expat set EXPAT_CFLAGS (bug 2278)
    reviewed by: Keith Packard <keithp@keithp.com>

 ChangeLog    |  7 +++++++
 configure.in | 11 ++++++++++-
 2 files changed, 17 insertions(+), 1 deletion(-)

commit d8ae9c92197f1f2782b9decb276f6da756ce882d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 13 18:31:50 2005 +0000

    Add SEE ALSO section (bug 2085)
    Cross compiling fixes (bug 280)
    reviewed by: Keith Packard <keithp@keithp.com>

 ChangeLog                | 18 ++++++++++++++++++
 Makefile.am              | 17 ++++++++++++++++-
 configure.in             | 44
 ++++++++++++++++++++++++++++++++++++++++++++
 doc/Makefile.am          |  8 ++++++--
 doc/fontconfig-user.sgml |  5 +++++
 fc-case/Makefile.am      |  8 ++++++--
 fc-glyphname/Makefile.am |  8 ++++++--
 fc-lang/Makefile.am      |  8 ++++++--
 src/fontconfig.def.in    |  2 +-
 9 files changed, 108 insertions(+), 10 deletions(-)

commit 8759822e8fdaebcaaea82571d6b084003ca5751e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 13 18:10:42 2005 +0000

    Update blanks list (Closes bug 86)

 ChangeLog     |  5 +++++
 fonts.conf.in | 52 +++++++++++++++++++++++++++++++---------------------
 2 files changed, 36 insertions(+), 21 deletions(-)

commit fce87a189b2e89a07e271ff7f1e3dab0d4b5b919
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 4 21:54:50 2005 +0000

    Verify that every font pattern loaded from cache has both FC_FILE and
        FC_FAMILY entries. Attempt to fix bug #2219.

 ChangeLog     |  7 +++++++
 src/fccache.c | 10 +++++++++-
 2 files changed, 16 insertions(+), 1 deletion(-)

commit d53461812d46ffb2eaffb2c512e8740e8536e498
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 29 19:44:51 2004 +0000

    Update for version 2.2.98

 ChangeLog               |  7 +++++++
 README                  | 22 ++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 4 files changed, 29 insertions(+), 4 deletions(-)

commit 479f551f6df7fe78b5f3bedb40a4c0c4e10f2f50
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 29 19:37:14 2004 +0000

    Document ASCII limitations of Fc character conversion macros
    Fix off-by-one error in utf-8 case walking code. Add FcStrDowncase
    (useful
        for testing case conversion functions)

 ChangeLog               |  8 ++++++++
 fontconfig/fontconfig.h | 10 +++++++---
 src/fcstr.c             | 21 ++++++++++++++++++++-
 3 files changed, 35 insertions(+), 4 deletions(-)

commit 02748dd3b8830a60439340a768959231e669b55c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 29 10:07:10 2004 +0000

    Add territory database
    Reviewed by: Keith Packard
    Remove Han characters from Korean orthography

 .cvsignore           |     1 +
 ChangeLog            |    15 +
 fc-case/.cvsignore   |     6 +
 fc-lang/iso-3166.txt |   242 +
 fc-lang/ko.orth      | 18729
 +++++++------------------------------------------
 5 files changed, 2776 insertions(+), 16217 deletions(-)

commit 2ba729ed3bde6512aaab00b50442b86cb013f94e
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 29 09:57:49 2004 +0000

    Reorder utility programs to make sure fc-case is run before fc-lang as
        fc-lang uses fcstr.c which uses fccase.h
    Fix broken XML

 ChangeLog     |  8 ++++++++
 Makefile.am   |  2 +-
 fonts.conf.in | 10 +++++++---
 3 files changed, 16 insertions(+), 4 deletions(-)

commit 192296d852011f4a2abb6e9fd1ee741fa7f81673
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 29 09:15:17 2004 +0000

    Adopt some RedHat suggestions for standard font configuration.
    Add new helper program 'fc-case' to construct case folding tables from
        standard Unicode CaseFolding.txt file
    Re-implement case insensitive functions with Unicode aware versions
        (including full case folding mappings)

 ChangeLog               |  26 ++
 Makefile.am             |   2 +-
 configure.in            |   1 +
 fc-case/CaseFolding.txt | 924
 ++++++++++++++++++++++++++++++++++++++++++++++++
 fc-case/Makefile.am     |  52 +++
 fc-case/fc-case.c       | 363 +++++++++++++++++++
 fc-case/fccase.tmpl.h   |  25 ++
 fonts.conf.in           |  73 ++--
 src/fcint.h             |  34 ++
 src/fclist.c            |  16 +-
 src/fcstr.c             | 263 +++++++++++---
 11 files changed, 1685 insertions(+), 94 deletions(-)

commit 5cf8c5364f1b7a676f52b480fa55c571cadc6fda
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 14 00:12:25 2004 +0000

    I changed FcFontSetSort to respect the generic aliases better in
    the face
        of language matching.
    What I did was to ammend the strict sort order used by FcFontSort
    so that
        it 'satisfies' the language specified in the pattern by
        locating the
        best matching font supporting each pattern language and then
        ignores
        language in the remaining fonts for purposes of matching.
    So, when asking for 'sans:lang=en', you'll get an English font
    first, and
        then the remaining fonts sorted with respect to the 'sans'
        alias alone
        -- pushing Kochi fonts ahead of other English-supporting Han
        fonts.
    reviewed by: Owen Taylor <otaylor@redhat.com>

 ChangeLog     | 17 +++++++++++++
 src/fcmatch.c | 81
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 2 files changed, 96 insertions(+), 2 deletions(-)

commit 46a10637cde656967b60f1e028b24763022358bb
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 10 16:48:08 2004 +0000

    Configuration changes to request synthetic emboldening of fonts. The
    actual
        emboldening code will live in Xft.
    reviewed by: Keith Packard <keithp@keithp.com>

 ChangeLog               | 10 ++++++++++
 fontconfig/fontconfig.h |  1 +
 fonts.conf.in           | 20 ++++++++++++++++++++
 3 files changed, 31 insertions(+)

commit 9af19286b0dcdf7636749b9efb64a50650554f2d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Dec 9 19:36:30 2004 +0000

    Currently Russian (ru) requires 0406 and 0456 (І and і), but
    these were
        eliminated in Russian in 1918 in favor of 0418 and 0438 (И
        and и),
        and don't even appear in KOI8-R. (The hypothesis that they
        don't appear
        in KOI8-R due to their similarity with Latin I and i is
        eliminated by
        their presence in KOI8-U.) I have a couple of fonts with Russian
        support that don't have the letter.
    Therefore, 0406 and 0456 should be removed from or commented out
    of ru.orth
    reviewed by: Keith Packard <keithp@keithp.com>

 ChangeLog       | 16 ++++++++++++++++
 fc-lang/ru.orth |  4 ++--
 2 files changed, 18 insertions(+), 2 deletions(-)

commit 1c52c0f0600b4c61fb3b16d2d7b5fa35c3e1b7f0
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 7 01:36:26 2004 +0000

    Reviewed by: Keith Packard <keithp@keithp.com>
    memoize strings and share a single copy for all uses. Note that
    this could
        be improved further by using statically allocated blocks and
        gluing
        multiple strings together, but I'm basically lazy. In my
        environment
        with 800 font files, I get a savings of about 90KB.

 ChangeLog    | 15 +++++++++++++++
 src/fcinit.c |  5 +++--
 src/fcint.h  |  3 ++-
 src/fclist.c |  2 +-
 src/fcpat.c  | 42 +++++++++++++-----------------------------
 src/fcxml.c  |  6 ------
 6 files changed, 34 insertions(+), 39 deletions(-)

commit 46b51147d10db21a4d5992074bcdc9022f45856b
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 7 01:14:46 2004 +0000

    Change files from ISO-Latin-1 to UTF-8

 COPYING                         |   2 +-
 ChangeLog                       | 249
 ++++++++++++++++++++++++++++++++++++++++
 Makefile.am                     |   2 +-
 config/Makedefs.in              |   2 +-
 configure.in                    |   2 +-
 doc/edit-sgml.c                 |   2 +-
 doc/fcatomic.fncs               |   2 +-
 doc/fcblanks.fncs               |   2 +-
 doc/fccharset.fncs              |   2 +-
 doc/fcconfig.fncs               |   2 +-
 doc/fcconstant.fncs             |   2 +-
 doc/fcfile.fncs                 |   2 +-
 doc/fcfontset.fncs              |   2 +-
 doc/fcfreetype.fncs             |   2 +-
 doc/fcinit.fncs                 |   2 +-
 doc/fcmatrix.fncs               |   2 +-
 doc/fcobjectset.fncs            |   2 +-
 doc/fcobjecttype.fncs           |   2 +-
 doc/fcpattern.fncs              |   2 +-
 doc/fcstring.fncs               |   2 +-
 doc/fcstrset.fncs               |   2 +-
 doc/fcvalue.fncs                |   2 +-
 doc/fontconfig-devel.sgml       |   4 +-
 doc/fontconfig-user.sgml        |   2 +-
 doc/func.sgml                   |   2 +-
 doc/version.sgml.in             |   2 +-
 fc-cache/Makefile.am            |   2 +-
 fc-cache/fc-cache.c             |   2 +-
 fc-glyphname/Makefile.am        |   2 +-
 fc-glyphname/fc-glyphname.c     |   2 +-
 fc-glyphname/fcglyphname.tmpl.h |   2 +-
 fc-lang/Makefile.am             |   2 +-
 fc-lang/aa.orth                 |   2 +-
 fc-lang/ab.orth                 |   2 +-
 fc-lang/af.orth                 |   2 +-
 fc-lang/am.orth                 |   2 +-
 fc-lang/ar.orth                 |   2 +-
 fc-lang/ast.orth                |   2 +-
 fc-lang/ava.orth                |   2 +-
 fc-lang/ay.orth                 |   2 +-
 fc-lang/az.orth                 |   2 +-
 fc-lang/az_ir.orth              |   2 +-
 fc-lang/ba.orth                 |   2 +-
 fc-lang/bam.orth                |   2 +-
 fc-lang/be.orth                 |   2 +-
 fc-lang/bg.orth                 |   2 +-
 fc-lang/bh.orth                 |   2 +-
 fc-lang/bho.orth                |   2 +-
 fc-lang/bi.orth                 |   2 +-
 fc-lang/bin.orth                |   2 +-
 fc-lang/bn.orth                 |   2 +-
 fc-lang/bo.orth                 |   2 +-
 fc-lang/br.orth                 |   2 +-
 fc-lang/bs.orth                 |   2 +-
 fc-lang/bua.orth                |   2 +-
 fc-lang/ca.orth                 |   2 +-
 fc-lang/ce.orth                 |   2 +-
 fc-lang/ch.orth                 |   2 +-
 fc-lang/chm.orth                |   2 +-
 fc-lang/chr.orth                |   2 +-
 fc-lang/co.orth                 |   2 +-
 fc-lang/cs.orth                 |   2 +-
 fc-lang/cu.orth                 |   2 +-
 fc-lang/cv.orth                 |   2 +-
 fc-lang/cy.orth                 |   2 +-
 fc-lang/da.orth                 |   2 +-
 fc-lang/de.orth                 |   2 +-
 fc-lang/dz.orth                 |   2 +-
 fc-lang/el.orth                 |   2 +-
 fc-lang/en.orth                 |   2 +-
 fc-lang/eo.orth                 |   2 +-
 fc-lang/es.orth                 |   2 +-
 fc-lang/et.orth                 |   2 +-
 fc-lang/eu.orth                 |   4 +-
 fc-lang/fa.orth                 |   2 +-
 fc-lang/fc-lang.c               |   2 +-
 fc-lang/fc-lang.man             |   2 +-
 fc-lang/fclang.tmpl.h           |   2 +-
 fc-lang/fi.orth                 |   2 +-
 fc-lang/fj.orth                 |   2 +-
 fc-lang/fo.orth                 |   2 +-
 fc-lang/fr.orth                 |   2 +-
 fc-lang/ful.orth                |   2 +-
 fc-lang/fur.orth                |   2 +-
 fc-lang/fy.orth                 |   4 +-
 fc-lang/ga.orth                 |   2 +-
 fc-lang/gd.orth                 |   2 +-
 fc-lang/gez.orth                |   2 +-
 fc-lang/gl.orth                 |   2 +-
 fc-lang/gn.orth                 |   4 +-
 fc-lang/gu.orth                 |   2 +-
 fc-lang/gv.orth                 |   2 +-
 fc-lang/ha.orth                 |   2 +-
 fc-lang/haw.orth                |   2 +-
 fc-lang/he.orth                 |   2 +-
 fc-lang/hi.orth                 |   2 +-
 fc-lang/ho.orth                 |   2 +-
 fc-lang/hr.orth                 |   2 +-
 fc-lang/hu.orth                 |   2 +-
 fc-lang/hy.orth                 |   2 +-
 fc-lang/ia.orth                 |   2 +-
 fc-lang/ibo.orth                |   2 +-
 fc-lang/id.orth                 |   2 +-
 fc-lang/ie.orth                 |   2 +-
 fc-lang/ik.orth                 |   2 +-
 fc-lang/io.orth                 |   2 +-
 fc-lang/is.orth                 |   2 +-
 fc-lang/iso639-2                | 194 +++++++++++++++----------------
 fc-lang/it.orth                 |   2 +-
 fc-lang/iu.orth                 |   2 +-
 fc-lang/ja.orth                 |   2 +-
 fc-lang/ka.orth                 |   2 +-
 fc-lang/kaa.orth                |   2 +-
 fc-lang/ki.orth                 |   2 +-
 fc-lang/kk.orth                 |   2 +-
 fc-lang/kl.orth                 |   2 +-
 fc-lang/km.orth                 |   2 +-
 fc-lang/kn.orth                 |   2 +-
 fc-lang/ko.orth                 |   2 +-
 fc-lang/kok.orth                |   2 +-
 fc-lang/ks.orth                 |   2 +-
 fc-lang/ku.orth                 |   2 +-
 fc-lang/ku_ir.orth              |   2 +-
 fc-lang/kum.orth                |   2 +-
 fc-lang/kv.orth                 |   2 +-
 fc-lang/kw.orth                 |   2 +-
 fc-lang/ky.orth                 |   2 +-
 fc-lang/la.orth                 |   2 +-
 fc-lang/lb.orth                 |   2 +-
 fc-lang/lez.orth                |   2 +-
 fc-lang/lo.orth                 |   2 +-
 fc-lang/lt.orth                 |   2 +-
 fc-lang/lv.orth                 |   2 +-
 fc-lang/mg.orth                 |   2 +-
 fc-lang/mh.orth                 |   2 +-
 fc-lang/mi.orth                 |   2 +-
 fc-lang/mk.orth                 |   2 +-
 fc-lang/ml.orth                 |   2 +-
 fc-lang/mn.orth                 |   2 +-
 fc-lang/mo.orth                 |   2 +-
 fc-lang/mr.orth                 |   2 +-
 fc-lang/mt.orth                 |   2 +-
 fc-lang/my.orth                 |   2 +-
 fc-lang/nb.orth                 |   4 +-
 fc-lang/nds.orth                |   2 +-
 fc-lang/ne.orth                 |   2 +-
 fc-lang/nl.orth                 |   2 +-
 fc-lang/nn.orth                 |   2 +-
 fc-lang/no.orth                 |   4 +-
 fc-lang/ny.orth                 |   2 +-
 fc-lang/oc.orth                 |   2 +-
 fc-lang/om.orth                 |   2 +-
 fc-lang/or.orth                 |   2 +-
 fc-lang/os.orth                 |   2 +-
 fc-lang/pl.orth                 |   2 +-
 fc-lang/ps_af.orth              |   2 +-
 fc-lang/ps_pk.orth              |   2 +-
 fc-lang/pt.orth                 |   2 +-
 fc-lang/rm.orth                 |   2 +-
 fc-lang/ro.orth                 |   2 +-
 fc-lang/ru.orth                 |   2 +-
 fc-lang/sa.orth                 |   2 +-
 fc-lang/sah.orth                |   2 +-
 fc-lang/sco.orth                |   2 +-
 fc-lang/se.orth                 |   4 +-
 fc-lang/sel.orth                |   2 +-
 fc-lang/sh.orth                 |   2 +-
 fc-lang/si.orth                 |   2 +-
 fc-lang/sk.orth                 |   2 +-
 fc-lang/sl.orth                 |   2 +-
 fc-lang/sm.orth                 |   2 +-
 fc-lang/sma.orth                |   4 +-
 fc-lang/smj.orth                |   4 +-
 fc-lang/smn.orth                |   4 +-
 fc-lang/sms.orth                |   4 +-
 fc-lang/so.orth                 |   2 +-
 fc-lang/sq.orth                 |   2 +-
 fc-lang/sr.orth                 |   2 +-
 fc-lang/sv.orth                 |   2 +-
 fc-lang/sw.orth                 |   2 +-
 fc-lang/syr.orth                |   2 +-
 fc-lang/ta.orth                 |   2 +-
 fc-lang/te.orth                 |   2 +-
 fc-lang/tg.orth                 |   2 +-
 fc-lang/th.orth                 |   2 +-
 fc-lang/ti_er.orth              |   2 +-
 fc-lang/ti_et.orth              |   2 +-
 fc-lang/tig.orth                |   2 +-
 fc-lang/tk.orth                 |   2 +-
 fc-lang/tl.orth                 |   2 +-
 fc-lang/tn.orth                 |   2 +-
 fc-lang/to.orth                 |   2 +-
 fc-lang/tr.orth                 |   2 +-
 fc-lang/ts.orth                 |   2 +-
 fc-lang/tt.orth                 |   2 +-
 fc-lang/tw.orth                 |   2 +-
 fc-lang/tyv.orth                |   2 +-
 fc-lang/ug.orth                 |   2 +-
 fc-lang/uk.orth                 |   2 +-
 fc-lang/ur.orth                 |   2 +-
 fc-lang/uz.orth                 |   2 +-
 fc-lang/ven.orth                |   2 +-
 fc-lang/vi.orth                 |   2 +-
 fc-lang/vo.orth                 |   4 +-
 fc-lang/vot.orth                |   2 +-
 fc-lang/wa.orth                 |   2 +-
 fc-lang/wen.orth                |   2 +-
 fc-lang/wo.orth                 |   2 +-
 fc-lang/xh.orth                 |   2 +-
 fc-lang/yap.orth                |   2 +-
 fc-lang/yi.orth                 |   2 +-
 fc-lang/yo.orth                 |   2 +-
 fc-lang/zh_cn.orth              |   2 +-
 fc-lang/zh_hk.orth              |   2 +-
 fc-lang/zh_mo.orth              |   2 +-
 fc-lang/zh_sg.orth              |   2 +-
 fc-lang/zh_tw.orth              |   2 +-
 fc-lang/zu.orth                 |   2 +-
 fc-list/Makefile.am             |   2 +-
 fc-list/fc-list.c               |   2 +-
 fc-match/Makefile.am            |   2 +-
 fc-match/fc-match.1             |   2 +-
 fc-match/fc-match.c             |   2 +-
 fontconfig/fcfreetype.h         |   2 +-
 fontconfig/fcprivate.h          |   2 +-
 fontconfig/fontconfig.h         |   2 +-
 src/fcatomic.c                  |   2 +-
 src/fcblanks.c                  |   2 +-
 src/fccache.c                   |   2 +-
 src/fccfg.c                     |   2 +-
 src/fccharset.c                 |   2 +-
 src/fcdbg.c                     |   2 +-
 src/fcdefault.c                 |   2 +-
 src/fcdir.c                     |   2 +-
 src/fcfreetype.c                |   4 +-
 src/fcfs.c                      |   2 +-
 src/fcinit.c                    |   2 +-
 src/fcint.h                     |   2 +-
 src/fclang.c                    |   2 +-
 src/fclist.c                    |   2 +-
 src/fcmatch.c                   |   2 +-
 src/fcmatrix.c                  |   2 +-
 src/fcname.c                    |   2 +-
 src/fcpat.c                     |   2 +-
 src/fcstr.c                     |   2 +-
 src/fcxml.c                     |   2 +-
 246 files changed, 603 insertions(+), 354 deletions(-)

commit fc2cc873bb1a715844a1e6f885661bf433bdd7cf
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 5 07:44:08 2004 +0000

    Update links to new freedesktop.org locations
    Add uninstall-local to get rid of fonts.conf and local.conf if
    they match
        the distributed versions. Fixes 'make distcheck'

 ChangeLog   |  8 ++++++++
 INSTALL     |  4 ++--
 Makefile.am | 24 ++++++++++++++++++++++++
 3 files changed, 34 insertions(+), 2 deletions(-)

commit 308dc9c3ea0be2e0823e547f2c612760db7539a2
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 5 06:38:54 2004 +0000

    Updates for version 2.2.97

 ChangeLog               |  7 +++++++
 README                  | 30 ++++++++++++++++++++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 4 files changed, 37 insertions(+), 4 deletions(-)

commit 54560b013ff89f4d47b4b94f6ea9d1b2e91e20fd
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 5 06:19:46 2004 +0000

    Sleep for two seconds before exiting to make sure timestamps for
    future
        changes have distinct mod times in the file system. Bug #1982.
    Add Punjabi orthography. Bug #1671.
    reviewed by: Keith Packard <keithp@keithp.com>

 ChangeLog           | 13 ++++++++++++-
 fc-cache/fc-cache.c |  8 ++++++++
 fc-lang/pa.orth     | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 66 insertions(+), 1 deletion(-)

commit c5a0b541df8be0b66f4ecf531570242693aac930
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 5 05:49:20 2004 +0000

    Just remove the FC_FONTDATE -- it has locale issues and annoys redhat
        multi-arch installs. Now that all X fonts are included without
        prejudice, the chances of the date being at all interesting
        are rather
        limited. Bug #415.
    Add copyright and license

 ChangeLog       | 10 ++++++++++
 fonts.conf.in   |  2 +-
 src/Makefile.am | 23 +++++++++++++++++++++++
 3 files changed, 34 insertions(+), 1 deletion(-)

commit 2d9c79c049d084c82fdda9a71c5a65502ae94cee
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 5 05:03:52 2004 +0000

    Change default set of fonts to include all of /usr/X11R6/lib/X11/fonts
    (or
        wherever the X fonts are located).
    Document new <include>directory-name</include> semantics
    add <include ignore_missing="yes">conf.d</include>
    Add selectfont to ignore bitmap fonts, add comment for selectfont
    which
        accepts bitmap fonts.
    Allow <include> configuration elements to reference directories. Parse
    and
        load all files of the form [0-9]* in sorted order.

 ChangeLog                | 18 ++++++++++
 configure.in             | 23 ++++++-------
 doc/fontconfig-user.sgml | 17 +++++----
 fonts.conf.in            |  1 +
 local.conf               | 23 +++++++++++++
 src/fcdir.c              |  4 +--
 src/fcint.h              |  6 ++++
 src/fcxml.c              | 89
 ++++++++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 158 insertions(+), 23 deletions(-)

commit 38e528e77673f0395ab802cd1040947e307f0c6c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 5 04:14:17 2004 +0000

    Report command line for $srcdir/configure accurately. Bug #212.

 ChangeLog  | 8 +++++++-
 autogen.sh | 2 +-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit e4125ef950ada3413a542dc457a4d36c5495dcd7
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 5 04:11:11 2004 +0000

    Check for non-empty face->family_name and face->style_name before
    using
        those for the font. Empty names match everything. Bug #171.

 ChangeLog        |  7 +++++++
 src/fcfreetype.c | 12 +++++++-----
 2 files changed, 14 insertions(+), 5 deletions(-)

commit 537e3d23fab449be154da8d49817364479924a61
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Dec 5 00:26:06 2004 +0000

    Create FC_FONTFORMAT from FT_Get_X11_Font_Format function where
    available.
        This provides font file format information (BDF, Type 1, PCF,
        TrueType)
        for each font. Closes #109.

 ChangeLog               | 10 ++++++++++
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  1 +
 src/fcfreetype.c        | 14 ++++++++++++++
 src/fcname.c            |  1 +
 5 files changed, 27 insertions(+), 1 deletion(-)

commit dbf68dd5fe2f936af53891a240601c727bdcf09d
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 4 22:06:52 2004 +0000

    Fix typo.
    Add detection for font capabilities (bug #105)
    reviewed by: Keith Packard <keithp@keithp.com>

 ChangeLog                |  13 ++++
 doc/fontconfig-user.sgml |   1 +
 fontconfig/fontconfig.h  |   1 +
 src/fcfreetype.c         | 188
 +++++++++++++++++++++++++++++++++++++++++++++++
 src/fcname.c             |   1 +
 5 files changed, 204 insertions(+)

commit 4f27c1c0a383e891890ab27c74226957ed7067aa
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Dec 4 19:41:10 2004 +0000

    Move existing fonts.conf to fonts.conf.bak
    Add detection of iconv
    Document new selectfont elements
    Switch to UTF-8 in comment
    Add fullname, and family/style/fullname language entries
    Respect selectfont/*/glob
    Add support for selectfont
    Add multi-lingual family/style/fullname support
    Expose FcListPatternMatchAny (which selectfont/*/pattern uses)
    Add new FcPatternRemove/FcPatternAppend. FcObjectStaticName stores
    computed
        pattern element names which are required to be static.

 ChangeLog                 |   47 ++
 Makefile.am               |   13 +-
 configure.in              |    6 +-
 doc/fcpattern.fncs        |   11 +
 doc/fontconfig-devel.sgml |   13 +-
 doc/fontconfig-user.sgml  |   43 +-
 fc-lang/nb.orth           |    2 +-
 fontconfig/fontconfig.h   |    7 +
 fonts.dtd                 |   19 +
 src/fccache.c             |    2 +-
 src/fccfg.c               |   55 ++-
 src/fcdir.c               |    2 +-
 src/fcfreetype.c          | 1085
 +++++++++++++++++++++++++++++++++------------
 src/fcint.h               |   21 +
 src/fclist.c              |    6 +-
 src/fcname.c              |    4 +
 src/fcpat.c               |   73 +++
 src/fcxml.c               |  162 +++++++
 18 files changed, 1282 insertions(+), 289 deletions(-)

commit c641c77d6f1a0b378e800c9e3502ae446839a8af
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 9 14:31:18 2004 +0000

    Remove spurious / after $(DESTDIR)
    reviewed by: keithp

 ChangeLog   | 7 +++++++
 Makefile.am | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit b5f36ca0b54d30d790f84ce68ea43a1bd0e606e9
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 30 20:06:41 2004 +0000

    Update for 2.2.96

 ChangeLog               |  7 +++++++
 README                  | 12 ++++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 4 files changed, 19 insertions(+), 4 deletions(-)

commit 28f93bc4122337f59afad31e610ce17c3d2b00a2
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 30 18:41:52 2004 +0000

    Provided by: Lubos Lunak <l.lunak@suse.cz>
    However FcConfigUptoDate() doesn't seem to work. See the attached
    patch.
        First there's an obvious misplaced parenthesis making it return
        always
        false, and second, even this call fails to detect font changes
        (e.g.
        adding a new font to /usr/X11R6/lib/X11/fonts/truetype). The patch
        should fix that as well. The problem seems to be triggered by my
        fonts.conf specifying only /usr/X11R6/lib/X11/fonts , and
        therefore
        config->configDirs doesn't include subdirs, unlike
        config->fontDirs.

 ChangeLog   | 14 ++++++++++++++
 src/fccfg.c |  4 ++--
 2 files changed, 16 insertions(+), 2 deletions(-)

commit 3d1ea0e5d48e0dfa72080a3318e3c2157500da3d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 3 14:16:38 2004 +0000

    Remove comma at end of FcResult enum definition.

 ChangeLog               | 5 +++++
 fontconfig/fontconfig.h | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 087d899ccfab846c15ccd9197f3b79d7dd8dc5bb
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 29 20:07:46 2004 +0000

    Add steps to md5sum release

 ChangeLog | 5 +++++
 INSTALL   | 5 ++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit e867aa336c4b0d80702f01b1ff390ca8c81dd73a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 29 19:49:52 2004 +0000

    Add sh autogen.sh to INSTALL

 INSTALL | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit d81271eb21db058d0e816044874b3a8b88439e82
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 29 19:36:32 2004 +0000

    Update for 2.2.95

 ChangeLog               |  7 +++++++
 README                  | 11 +++++++++--
 configure.in            |  2 +-
 fontconfig/fontconfig.h |  2 +-
 4 files changed, 18 insertions(+), 4 deletions(-)

commit ec0c740e392e6e05ae0fa204ebe191cbe27073cf
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 29 19:32:41 2004 +0000

    Add FcResultOutOfMemory to provide an accurate error when
    FcFontSetMatch
        fails in this way
    Make #warning about lacking various FreeType features indicate which
        version those features appeared so users know how to fix the
        problem
        (Thanks to Anton Tropashko)

 ChangeLog               | 12 ++++++++++++
 fontconfig/fontconfig.h |  3 ++-
 src/fcfreetype.c        |  6 +++---
 src/fcmatch.c           |  3 +++
 4 files changed, 20 insertions(+), 4 deletions(-)

commit 55a69bd0aeb4cde4e87c1c7cd04a9f10a1f4cb1a
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 6 02:28:37 2004 +0000

    Replace MIN/MAX/ABS macros which happen to have come from FreeType
    with
        fontconfig-specific ones (FC_*)

 ChangeLog        | 6 ++++++
 src/fcfreetype.c | 7 +++++--
 2 files changed, 11 insertions(+), 2 deletions(-)

commit bd0ddac8f34dd6ef0a9385aacf3edc4c81023452
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 24 02:54:40 2004 +0000

    Extend release preparation instructions to include notification and
        distribution steps

 ChangeLog |  6 ++++++
 INSTALL   | 11 +++++++++--
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 626a70167d7805c20a157e945a1f380ae580661a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 24 01:09:36 2004 +0000

    Update to 2.2.94 (2.2.93 shipped with broken libtool bits)

 ChangeLog               | 7 +++++++
 README                  | 9 +++++++--
 configure.in            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 4 files changed, 16 insertions(+), 4 deletions(-)

commit 7969113f086176112fdc13347ea56ea52838117a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Apr 24 01:06:32 2004 +0000

    Ignore a few more autotool files

 .cvsignore | 4 ++++
 ChangeLog  | 5 +++++
 2 files changed, 9 insertions(+)

commit 6ae6acf3178d7dd10e2326f6833d25970e530f61
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 14 18:08:41 2004 +0000

    Add instructions for doing a release
    clean up .spec file; perhaps this will be useful to somebody...
    Update to 2.2.93
    Make 'scanopen' static so GCC doesn't whine about lacking prototype
    Add WARN_CFLAGS to pass -W flags for GCC systems
    Change various char types around to match across function calls. Fixed
    bug
        in using available_sizes[i].height which is in pixels, not 64ths
        of a
        pixel.

 ChangeLog                |  30 +++++++++++++
 INSTALL                  |  13 ++++++
 README                   |  27 +++++++++++-
 configure.in             |  14 +++++-
 fc-glyphname/Makefile.am |   2 +-
 fc-lang/Makefile.am      |   2 +-
 fc-lang/fc-lang.c        |   2 +-
 fc-list/Makefile.am      |   2 +-
 fc-match/Makefile.am     |   2 +-
 fontconfig.spec.in       |  42 +++++++++++++-----
 fontconfig/fontconfig.h  |   2 +-
 src/Makefile.am          |   1 +
 src/fcfreetype.c         | 109
 ++++++++++++++++++++++++-----------------------
 13 files changed, 176 insertions(+), 72 deletions(-)

commit 89e28590f3c85f302dcc5c611e7b9fa906e0ec07
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 6 23:44:11 2004 +0000

    Force FC_FOUNDRY and FC_WIDTH to always be set so that matches
    looking for
        explicit values prefer exact matches

 ChangeLog        |  6 ++++++
 src/fcfreetype.c | 18 ++++++++++--------
 2 files changed, 16 insertions(+), 8 deletions(-)

commit 02638f1ace0ad7e898317128c244dfd9c842d122
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 2 16:48:51 2004 +0000

    Supplied by: mfabian@suse.de (Mike FABIAN)
    Bug #260 fc-cache generates wrong spacing values for bitmap fonts
    Was using
        (strcmp (a,b)) instead of (!strcmp(a,b)).

 ChangeLog        | 8 ++++++++
 src/fcfreetype.c | 6 +++---
 2 files changed, 11 insertions(+), 3 deletions(-)

commit de66e750a5c5798dab5347675d6581183efa8105
Author: Manish Singh <yosh@gimp.org>
Date:   Sun Feb 22 02:21:37 2004 +0000

    Cast strlen to int for printf, so we're 64-bit clean.

 ChangeLog                   | 5 +++++
 fc-glyphname/fc-glyphname.c | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 208a720f009357449647a56d6fe95a5a346a6578
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 11 18:53:05 2004 +0000

    Ok, so I messed up the test for y_ppem. Let's see if I got it
    right this
        time.

 ChangeLog        |  7 +++++++
 configure.in     | 15 +++------------
 src/fcfreetype.c |  4 ++--
 3 files changed, 12 insertions(+), 14 deletions(-)

commit 4f38fa81062e5e2e151715a162c295b9a216568a
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 10 18:38:58 2004 +0000

    Pre-2.1.5 versions of FreeType didn't include y_ppem in the
    FT_Bitmap_Size
        record. Add a configure.in test for this and change the code
        accordingly (using height instead).

 ChangeLog        |  8 ++++++++
 configure.in     | 21 +++++++++++++++++++--
 src/fcfreetype.c |  4 ++++
 3 files changed, 31 insertions(+), 2 deletions(-)

commit b68b96464f6488dbc62c4dcd62ca7e2eed3141d2
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Feb 7 07:13:48 2004 +0000

    Add Low Saxon orthography (Kenneth Rohde Christiansen
    <kenneth@gnu.org>)
    Oops. Left 'newest.set' unset, which would miscompute the newest file
    Add FcGetPixelSize to extract correct pixel size from bdf/pcf font
        properties (which report the wrong value in current FreeType)
    Don't attempt to check for empty glyphs in non-scalable fonts;
    they have no
        outlines...

 ChangeLog        | 18 ++++++++++++++++++
 fc-lang/nds.orth | 40 ++++++++++++++++++++++++++++++++++++++++
 src/fccfg.c      |  3 +++
 src/fcfreetype.c | 36 ++++++++++++++++++++++++------------
 4 files changed, 85 insertions(+), 12 deletions(-)

commit f4c52909ab5321df608fe7af2da3edcab48818d9
Author: Tor Lillqvist <tml@iki.fi>
Date:   Sun Feb 1 19:32:36 2004 +0000

    fontconfig, at least as used by GIMP and/or PangoFT2 on Windows,
    crashes
        when trying to save the cache if config->cache is NULL, which
        happens
        if FcConfigHome() is NULL. Guard against that by using the
        temp folder
        in that case.

 ChangeLog   |  7 +++++++
 src/fccfg.c | 25 +++++++++++++++++++++++++
 2 files changed, 32 insertions(+)

commit d3481737be37255408025f4b3cf2c8b14a6b2ff7
Author: Roozbeh Pournader <roozbeh@farsiweb.info>
Date:   Sat Jan 3 18:27:29 2004 +0000

    Added orthographies for Iranian Azerbaijani and Kurdish, and Pashto
    (Afghan
        and Pakistani).
    Updated Urdu orthography with real data.

 ChangeLog          | 11 +++++++++++
 fc-lang/az_ir.orth | 32 ++++++++++++++++++++++++++++++++
 fc-lang/ku_ir.orth | 49 +++++++++++++++++++++++++++++++++++++++++++++++++
 fc-lang/ps_af.orth | 52
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 fc-lang/ps_pk.orth | 52
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 fc-lang/ur.orth    | 41 +++++++++++++++++++++++++++++++++++++----
 6 files changed, 233 insertions(+), 4 deletions(-)

commit f6d784313fa87d405b4b4165ee7b9248dd378df2
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Dec 12 17:07:55 2003 +0000

    Remove excessive whitespace (missed on previous commit)

 fc-cache/Makefile.am | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d098e4ebe7e3b87a66ddbe09bafe3582373a022c
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Dec 11 19:30:07 2003 +0000

    Move man_MANS into the 'if USEDOCBOOK' block.
    Move man_MANS into the 'if USEDOCBOOK' block. (all-local): Remove
    excessive
        whitespace.
    Add 'set -e' to abort when any program fails, (avoids printing of
    'now type
        make' after configure aborts).

 ChangeLog            | 12 ++++++++++++
 autogen.sh           |  2 ++
 fc-cache/Makefile.am |  6 +++---
 fc-list/Makefile.am  |  4 ++--
 4 files changed, 19 insertions(+), 5 deletions(-)

commit 408dd9c07a9b0b755f9338b4cbff9e4292fa391d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 18 07:53:04 2003 +0000

    Switch to FreeType 2.1.7 style includes. Bug #150.
    reviewed by: Keith Packard <keithp@keithp.com>

 ChangeLog               |  9 +++++++++
 doc/Makefile.am         |  1 +
 fontconfig/fcfreetype.h |  3 ++-
 src/fcfreetype.c        | 17 +++++++++--------
 4 files changed, 21 insertions(+), 9 deletions(-)

commit 8e8fcda45c07bb0934f30887282238a57cc619da
Author: Noah Levitt <nlevitt@gmail.com>
Date:   Sun Nov 16 19:08:04 2003 +0000

    Add some example usages.

 ChangeLog            |  4 ++++
 fc-list/fc-list.sgml | 23 +++++++++++++++++++++++
 2 files changed, 27 insertions(+)

commit 344a0e33618cd0e9f620b5fa55969602d775934c
Author: Roozbeh Pournader <roozbeh@farsiweb.info>
Date:   Mon Nov 10 17:34:36 2003 +0000

    Fixed a bug "FcStrtod" in handling some cases with two-byte decimal
        separators.

 ChangeLog   | 8 +++++++-
 src/fcxml.c | 7 +++++--
 2 files changed, 12 insertions(+), 3 deletions(-)

commit 27143fc9a2ac9b7dc87ab874251df356611b25e5
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 27 10:47:53 2003 +0000

    Update to version 2.2.92

 ChangeLog               | 6 ++++++
 configure.in            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 4cbc3ee8fe4a6266b2d107c7475a65de6bdd1068
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 27 10:44:13 2003 +0000

    Yet more cleanups to finish getting 'make distcheck' working This
    has been
        tested to ensure that it even works from a _build directory.

 ChangeLog                |  16 ++++++
 Makefile.am              |   1 +
 configure.in             |  10 ++++
 doc/Makefile.am          | 133
 +++++++++++++++--------------------------------
 fc-cache/Makefile.am     |   2 +-
 fc-glyphname/Makefile.am |   6 +--
 fc-lang/Makefile.am      |   5 +-
 fc-list/Makefile.am      |   2 +-
 fc-match/Makefile.am     |   2 +-
 test/Makefile.am         |   4 +-
 test/run-test.sh         |  28 ++++++----
 11 files changed, 98 insertions(+), 111 deletions(-)

commit 394b2bf04651d62194c7faa836899d33ca3ed017
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 27 06:30:29 2003 +0000

    Attempts to fix 'make distcheck' work. Things are progressing
    pretty well,
        but there are still failures long into the process dealing
        with docs
        (as always).
    The big changes here are mostly to make $(srcdir) != "." work
    correctly,
        fixing the docbook related sections and fc-lang were particularily
        tricky. Docbook refuses to load system entities from anywhere
        other
        than where the original .sgml file was located, so no luck
        looking in
        "." for the configure-generated version.sgml and confdir.sgml
        files.
    fc-lang needed help finding .orth files; added a -d option to set the
        directory as the least evil of many options.
    Now to go use a faster machine and try and wring out the last issues.

 ChangeLog                | 27 +++++++++++++++++++
 configure.in             |  2 +-
 doc/Makefile.am          | 68
 +++++++++++++++++++++++++++++++++++++++++-------
 fc-cache/Makefile.am     | 13 ++++-----
 fc-glyphname/Makefile.am | 11 +++++---
 fc-lang/Makefile.am      | 10 ++++---
 fc-lang/fc-lang.c        | 29 +++++++++++++++++++--
 fc-list/Makefile.am      | 10 ++++---
 fc-match/Makefile.am     |  2 +-
 9 files changed, 142 insertions(+), 30 deletions(-)

commit 3541556bd38d6b1a3fffe1a661edce2f8d60e06a
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Oct 26 16:52:28 2003 +0000

    Tag version 2.2.91

 ChangeLog               | 4 ++++
 configure.in            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 3 files changed, 6 insertions(+), 2 deletions(-)

commit e99043ac778280ed16ab69ca0844b634f7d20f30
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Oct 26 16:45:23 2003 +0000

    Include confdir.sgml.in in EXTRA_DIST

 ChangeLog       | 5 +++++
 doc/Makefile.am | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 75839218d18a7fad2f7e84cb995724763f7cae11
Author: Josselin Mouette <joss@debian.org>
Date:   Thu Oct 9 18:21:49 2003 +0000

    Replace fc-cache and fc-list manpages with more detailed, SGML
    versions.

 ChangeLog              |   7 ++
 fc-cache/.cvsignore    |   1 +
 fc-cache/Makefile.am   |  24 +++++-
 fc-cache/fc-cache.1    |  51 -------------
 fc-cache/fc-cache.sgml | 200
 +++++++++++++++++++++++++++++++++++++++++++++++++
 fc-list/.cvsignore     |   1 +
 fc-list/Makefile.am    |  24 +++++-
 fc-list/fc-list.1      |  37 ---------
 fc-list/fc-list.sgml   | 165 ++++++++++++++++++++++++++++++++++++++++
 9 files changed, 420 insertions(+), 90 deletions(-)

commit f077d662c001468eb2aa1261549accd9ff3de401
Author: Owen Taylor <otaylor@redhat.com>
Date:   Tue Sep 23 20:12:20 2003 +0000

    Add a FC_HINT_STYLE key for patterns, with possible values
        HINT_NONE/HINT_SLIGHT/HINT_MEDIUM/HINT_FULL. (Bug #117)

 ChangeLog               | 7 +++++++
 fontconfig/fontconfig.h | 7 +++++++
 src/fcdefault.c         | 5 +++++
 src/fcname.c            | 6 ++++++
 4 files changed, 25 insertions(+)

commit 44f59f71688d557b75a94e2a8786ec5ae80308ae
Author: Owen Taylor <otaylor@redhat.com>
Date:   Tue Sep 23 20:06:40 2003 +0000

    Remove Georgian capitals, they aren't used for normal writing. (Bug
    #116)

 ChangeLog       | 5 +++++
 fc-lang/ka.orth | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit a05d257fb3b2cf37c6c633029b308a76fe61b9c2
Author: Noah Levitt <nlevitt@gmail.com>
Date:   Sat Sep 6 19:40:41 2003 +0000

    Add new spacing value FC_DUAL (dual-width, as some CJK fonts). (bug
    #111)
    When checking for monospace and dual-width fonts, allow roughly a 3%
        variance in the advances.

 ChangeLog                 | 13 +++++++++++
 doc/fontconfig-devel.sgml |  4 ++--
 doc/fontconfig-user.sgml  |  3 ++-
 fontconfig/fontconfig.h   |  1 +
 src/fcfreetype.c          | 55
 +++++++++++++++++++++++++++++++++++++----------
 src/fcname.c              |  1 +
 6 files changed, 63 insertions(+), 14 deletions(-)

commit 3ef32bcdc4662fbc10bc5217ea7849cd31480d73
Author: Manish Singh <yosh@gimp.org>
Date:   Mon Sep 1 05:11:17 2003 +0000

    FcConfigAppFontClear: Support passing NULL to use default config.

 ChangeLog   | 5 +++++
 src/fccfg.c | 7 +++++++
 2 files changed, 12 insertions(+)

commit 34cd0514a215d65af6822eba2c2f0cd04eb0065f
Author: Carl Worth <cworth@cworth.org>
Date:   Fri Aug 15 19:45:20 2003 +0000

    Added new FcFini function for cleaning up all memory. Fixed a
    few memory
        leaks. fc-list now calls FcFini, (and is now leak-free according
        to
        valgrind)

 ChangeLog                   |  44 +++++++++++
 doc/Makefile.am             |   8 +-
 doc/edit-sgml.c             | 187
 +++++++++++++++++++++++++++++++-------------
 doc/fcinit.fncs             |  11 +++
 fc-glyphname/fc-glyphname.c |  35 +++++++--
 fc-list/fc-list.c           |   4 +
 fc-match/fc-match.c         |   2 +-
 fontconfig/fontconfig.h     |   3 +
 src/fccfg.c                 |   6 ++
 src/fccharset.c             |  64 +++++++++++++--
 src/fcinit.c                |  13 +++
 src/fcint.h                 |   6 ++
 src/fcpat.c                 |  84 +++++++++++++++++++-
 src/fcxml.c                 |   4 +
 src/fontconfig.def.in       |   1 +
 15 files changed, 398 insertions(+), 74 deletions(-)

commit 18906a876aa13550b1a10550ceeef6df0c4473ec
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 12 02:06:20 2003 +0000

    Bug 103 -- FcObjectSetBuild must be terminated by (char *) 0 as
    varargs are
        untyped

 fc-list/fc-list.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 116e13b4431b051b8196db201c22cd67b30922e9
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jul 20 17:14:47 2003 +0000

    Wrap fcfreetype.h with _FCFUNCPROTOBEGIN/_FCFUNCPROTOEND

 fontconfig/fcfreetype.h | 4 ++++
 1 file changed, 4 insertions(+)

commit 74a623e02efc23a39fb35e8d338858877b8f89e7
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jul 20 16:06:18 2003 +0000

    Implement new semantics for Contains and LISTING:
    LISTING requires that the font Contain all of the pattern values,
    where
        Contain is redefined for strings to mean precise matching (so that
        Courier 10 Pitch doesn't list Courier fonts)
    "Contains" for lang means both langs have the same language and
    either the
        same country or one is missing the country

 src/fccfg.c  | 79
 +++++++++++++++++++++++++++++++++---------------------------
 src/fcdbg.c  |  3 +++
 src/fcint.h  |  3 ++-
 src/fclang.c | 18 ++++++++------
 src/fclist.c | 38 +++++++++++++++++++++--------
 src/fcxml.c  |  1 +
 6 files changed, 89 insertions(+), 53 deletions(-)

commit 26da2bb42f91360ecdee9006ff0f8a7ef0609a59
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 9 17:04:17 2003 +0000

    Was miscomputing end of string position for FcStrtod in locales with
        multibyte separators

 src/fcxml.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 656c69d6a8a1e6a82cfdd599c657f8fc2717af8d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 26 08:19:11 2003 +0000

    Add autoconf checks for FT_Has_PS_Glyph_Names

 configure.in     | 3 ++-
 src/fcfreetype.c | 6 ++++++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit ee1debfdd9bae347e8bec29c0cbd668640a2aadf
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 26 00:39:04 2003 +0000

    Allow config->cache to be null (as it is when $HOME is not set)

 src/fccfg.c | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 79621aa5c786cdd4d14b43b58888979ef0d2a4c6
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 25 23:21:03 2003 +0000

    Lean on autoconf to find useful FreeType functions (bug 95)

 configure.in     |  7 +++++--
 src/fcfreetype.c | 46 +++++++++++++++++-----------------------------
 2 files changed, 22 insertions(+), 31 deletions(-)

commit 2b45ef3a8a164648647eba1265db6a3d10ea7bad
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 17 18:28:20 2003 +0000

    Bug 75: dont build docs unless docbook is available. Dont install docs
        unless they are pre-built or buildable

 Makefile.am     |  3 ++-
 configure.in    | 26 +++++++++++++++++++++-----
 doc/Makefile.am |  2 +-
 3 files changed, 24 insertions(+), 7 deletions(-)

commit e5871b5c5bdb09b2e5bb0d79ed03f22a27956a90
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 17 17:31:16 2003 +0000

    Add FreeFont entries, fix whitespace in fonts.conf.in (bug 93, from
        vvas@hal.csd.auth.gr (Vasilis Vasaitis))

 fonts.conf.in | 22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit 231051f41669095db4a2c5680a0945fb1ff45a2d
Author: Tor Lillqvist <tml@iki.fi>
Date:   Sun Jun 15 22:57:21 2003 +0000

    Remove CRs from the out file before comparing (needed on Windows).

 ChangeLog        | 3 +++
 test/run-test.sh | 1 +
 2 files changed, 4 insertions(+)

commit 92af858f2a7dcc972bf482397ac75d7e0ca38dd9
Author: Tor Lillqvist <tml@iki.fi>
Date:   Sun Jun 15 22:45:12 2003 +0000

    Trivial braino.

 src/fccfg.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c3941ba9c064d41f248c6a00f06423f3c50c685d
Author: Tor Lillqvist <tml@iki.fi>
Date:   Sun Jun 15 22:35:52 2003 +0000

    Fix cut&paste error.

 ChangeLog         | 4 ++++
 fontconfig-zip.in | 3 ++-
 src/Makefile.am   | 2 +-
 3 files changed, 7 insertions(+), 2 deletions(-)

commit e5206dbcb34457ef69a993ad6b4cc8c3da53e1aa
Author: Tor Lillqvist <tml@iki.fi>
Date:   Fri Jun 13 23:04:35 2003 +0000

    Check also for DLL_EXPORT as indication of being built as a DLL
    on Win32.

 ChangeLog   | 3 +++
 src/fccfg.c | 6 +++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit ee1d81259ec5b0b91cf19ea72abec29f5561217b
Author: Tor Lillqvist <tml@iki.fi>
Date:   Fri Jun 13 22:43:28 2003 +0000

    Add share/doc directory. Add Fc*.3 man pages.
    Set FC_DEFAULT_FONTS on Win32 to the WINDOWSFONTDIR token.
    Move the LIBRARY and VERSION lines to the end, not to confuse libtool,
        which expects the EXPORTS line to be the first. Add
        FcConfigEnableHome.

 ChangeLog             | 12 ++++++++++++
 configure.in          | 12 +++++++++---
 fontconfig-zip.in     |  4 +++-
 src/fontconfig.def.in |  5 +++--
 4 files changed, 27 insertions(+), 6 deletions(-)

commit 4ae7f71c89cd69d5273f82f03aadcb0c78b16c8d
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 9 19:21:06 2003 +0000

    Update to version 2.2.90

 ChangeLog               | 4 ++++
 configure.in            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 3 files changed, 6 insertions(+), 2 deletions(-)

commit 8edb970e93f2dafc4fcd821df6240e807aa2ef8a
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 9 19:15:00 2003 +0000

    Add a bunch of ChangeLog entries

 ChangeLog | 79
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 78 insertions(+), 1 deletion(-)

commit 440e7054857a9a6382243f33498b2384f246379d
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 9 18:49:19 2003 +0000

    Add fc-match program to demonstrate font matching from the command
    line

 Makefile.am         | 2 +-
 configure.in        | 1 +
 fc-match/.cvsignore | 5 +++++
 3 files changed, 7 insertions(+), 1 deletion(-)

commit 947afeb566e738de3980c8c8751358ecfebdba25
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 9 17:31:03 2003 +0000

    Optimization in FcLangSetIndex was broken, occasionally returning
    a pointer
        to the wrong location on miss

 src/fclang.c | 21 +++++++--------------
 1 file changed, 7 insertions(+), 14 deletions(-)

commit 8bc4bc134aac8889125afd292e66c0bb9864d8d4
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 9 16:53:31 2003 +0000

    Add fc-match program

 fc-match/Makefile.am |  32 +++++++++
 fc-match/fc-match.1  |  39 +++++++++++
 fc-match/fc-match.c  | 188
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 259 insertions(+)

commit 6d3a90a41c63d479e3a109790a4ac466ee992478
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 31 21:07:01 2003 +0000

    (Bug 85) add support for culmus fonts

 fonts.conf.in | 39 +++++----------------------------------
 1 file changed, 5 insertions(+), 34 deletions(-)

commit 86b1243193a1cbab3286ee97d2543bfc841a575a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 31 14:58:41 2003 +0000

    (Bug 87) Automake 1.4 doesn't do man_MAN1 correctly (Bug 88) Fix
    usage info
        on non-long option systems (Tim Mooney)

 ChangeLog                             |  4 ++++
 fc-cache/Makefile.am                  |  4 ++--
 fc-cache/{fc-cache.man => fc-cache.1} |  8 +++++++-
 fc-cache/fc-cache.c                   | 19 ++++++++++++++++---
 fc-list/Makefile.am                   |  4 ++--
 fc-list/{fc-list.man => fc-list.1}    |  3 ++-
 fc-list/fc-list.c                     | 11 +++++++++++
 7 files changed, 44 insertions(+), 9 deletions(-)

commit d4d1e8bc604c98d647d70f9188744b95deba8723
Author: James Su <suzhe@turbolinux.com.cn>
Date:   Wed May 28 01:34:38 2003 +0000

    Fix "contains" op for strings and langsets.

 fontconfig/fontconfig.h |   6 +++
 src/fccfg.c             |  16 +++++---
 src/fcstr.c             | 103
 ++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 119 insertions(+), 6 deletions(-)

commit 53183e66e564c03401237f6fea873733ef326890
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 17 02:17:19 2003 +0000

    Fix build error with BDF prop local. Free langset after query

 src/fcfreetype.c | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit f777f1b35dc13da485ce488ad1d3b84f0c173cd1
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 16 16:37:16 2003 +0000

    oops. Left the psfontinfo.weight matching code commented out while
    testing
        other stuff...

 src/fcfreetype.c | 2 --
 1 file changed, 2 deletions(-)

commit ecb7c180d068f718c02e80f4282b00c4505a5eb5
Author: Juliusz Chroboczek <Juliusz.Chroboczek@pps.jussieu.fr>
Date:   Wed May 14 20:23:24 2003 +0000

    Extract spacing from XLFD atom

 src/fcfreetype.c | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 0b7a0da20b24321ef60aee99cd9071a50d78015b
Author: Keith Packard <keithp@keithp.com>
Date:   Mon May 12 20:48:59 2003 +0000

    Use FcIsWidth to share code
    Set FT_LOAD_IGNORE_GLOBAL_ADVANCE_WIDTH when scanning fonts to avoid
        misclassifying some Han fonts as monospaced.

 src/fcfreetype.c | 27 ++++++---------------------
 1 file changed, 6 insertions(+), 21 deletions(-)

commit 65d1441df89b898dd74ac1f0fba69c83441dba92
Author: Juliusz Chroboczek <Juliusz.Chroboczek@pps.jussieu.fr>
Date:   Mon May 12 09:11:10 2003 +0000

    Reinstate SETWIDTH_NAME parsing for legacy fonts, disappeared in 1.30.

 src/fcfreetype.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 0f362ad520e61e096c887f9374a485c3df32655a
Author: Juliusz Chroboczek <Juliusz.Chroboczek@pps.jussieu.fr>
Date:   Mon May 12 09:04:24 2003 +0000

    Generate FC_SIZE and FC_DPI for legacy bitmap fonts

 src/fcfreetype.c | 41 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit d47c9d6efec6c3c086efc187c68d79ca0c077dfa
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 7 16:13:24 2003 +0000

    Add filename-based accept/reject to ammend available fonts.
    change FT_ENCODING_ADOBE_CUSTOM to ft_encoding_adobe_custom for older
        FreeType releases.

 src/fccache.c    | 18 ++++++-----
 src/fccfg.c      | 96
 +++++++++++++++++++++++++++++++++++++++++++++++++++++---
 src/fcdir.c      | 60 ++++++++++++++++++++++++++---------
 src/fcfreetype.c |  2 +-
 src/fcint.h      | 40 +++++++++++++++++++++--
 src/fcxml.c      | 46 ++++++++++++++++++++++++++-
 6 files changed, 232 insertions(+), 30 deletions(-)

commit f98ecf63395fc62a6ee2a24741e09fb5940be3aa
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 6 14:26:34 2003 +0000

    Remove 0b82 and Tamil numbers from tamil orthography (Jungshik Shin
        <jshin@mailaps.org>)

 fc-lang/ta.orth | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 8ef6a58cb071396630cf05ec857f8c90524752f9
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 22:58:29 2003 +0000

    Add more .cvsignore entries

 .cvsignore     | 1 +
 src/.cvsignore | 1 +
 2 files changed, 2 insertions(+)

commit 3018151753821434135c0c17873764f3283fcc50
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 22:57:00 2003 +0000

    Add more .cvsignore entries

 .cvsignore | 5 +++++
 1 file changed, 5 insertions(+)

commit 7769c3213dc832f7643660d6aab5fade96cd57c3
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 22:53:49 2003 +0000

    Handle Adobe glyph names for fonts which include ADOBE_CUSTOM
    encodings

 Makefile.am      |   2 +-
 configure.in     |   1 +
 src/fcfreetype.c | 160
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/fcint.h      |  10 ++++
 4 files changed, 170 insertions(+), 3 deletions(-)

commit 83321a017a9586aa4f3ace022a91f69122c08ed8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 22:51:36 2003 +0000

    Add .cvsignore in new fc-glyphname dir

 fc-glyphname/.cvsignore | 6 ++++++
 1 file changed, 6 insertions(+)

commit 721d496d7864ff587f51637f578f4b35d501d091
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 22:50:17 2003 +0000

    Add fc-glyphname to compute hash tables for Adobe glyph name to UCS4
        conversion functions

 fc-glyphname/Makefile.am        |   42 +
 fc-glyphname/fc-glyphname.c     |  287 +++
 fc-glyphname/fcglyphname.tmpl.h |   25 +
 fc-glyphname/glyphlist.txt      | 4291
 +++++++++++++++++++++++++++++++++++++++
 fc-glyphname/zapfdingbats.txt   |  212 ++
 5 files changed, 4857 insertions(+)

commit 11fec41c0e4211ca4cdcd0b63fb8ef8257e2bd0c
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 2 01:11:53 2003 +0000

    Grub through style to find weight/slant/width values when other
    techniques
        fail

 src/fcfreetype.c | 228
 +++++++++++++++++++++++++++++++++++++------------------
 src/fcint.h      |   6 ++
 src/fcstr.c      |  74 ++++++++++++++++++
 3 files changed, 233 insertions(+), 75 deletions(-)

commit 1f71c4d878a74a42b6bf2e6137b32487fcb18b8d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 2 01:11:09 2003 +0000

    Add book constant for book weight

 src/fcname.c | 1 +
 1 file changed, 1 insertion(+)

commit ad293de0041230d530c5b3d2be56690db49e4510
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 2 01:09:57 2003 +0000

    Add FC_WEIGHT_BOOK as weight 75

 fontconfig/fontconfig.h | 1 +
 1 file changed, 1 insertion(+)

commit a6a66da0adfc6c7899b61eb6531d14f794d25d94
Author: Noah Levitt <nlevitt@gmail.com>
Date:   Thu May 1 16:20:27 2003 +0000

    Fix expat function check.

 configure.in | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 700a41281a1712db29cc3b34aa293e9a4680c5c3
Author: Noah Levitt <nlevitt@gmail.com>
Date:   Thu May 1 16:15:28 2003 +0000

    Check for an expat function that won't be there if expat is too old.

 configure.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3760a63825f931b7d5ef44b991c83f597b50f1a4
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 1 14:31:04 2003 +0000

    Add demi and book postscript weight names. Allow spaces in postscript
    and X
        matching

 src/fcfreetype.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 1af9b7b4d945b1f15ea5c2d9a20cfecef4f3e199
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 30 15:17:42 2003 +0000

    Typo in bitstream foundry name

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 70ee88099eac5cb5f75b392dc38ce16852f3b0bd
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 24 17:31:03 2003 +0000

    Debug output for unknown ps weight names. ignore italic_angle for
    PS fonts
        as FreeType already checks that

 src/fcfreetype.c | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit f45d39b1fda93c949f4625a9fcee0c482b5cacd7
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 24 15:29:33 2003 +0000

    FcFontList broken when presented a charset - was comparing inclusion
    in the
        wrong direction

 src/fccfg.c     |  8 ++++----
 src/fccharset.c | 15 +++++++++++++++
 2 files changed, 19 insertions(+), 4 deletions(-)

commit 7d5c134a0a74b97438f3cdcc18ba44661d7253bf
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 23 04:45:39 2003 +0000

    Oops. Missing newline in .cvsignore

 doc/.cvsignore | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c87b4293fe27398d9c6500189a1f72741afdff3
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 23 04:09:28 2003 +0000

    Fix docs to close sgml tags

 ChangeLog                 | 8 ++++++++
 doc/fcpattern.fncs        | 1 +
 doc/fontconfig-devel.sgml | 1 +
 doc/func.sgml             | 1 +
 4 files changed, 11 insertions(+)

commit c92926bf653425fff0291f1070cc7205e91810a0
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 23 04:06:18 2003 +0000

    Add confdir.sgml to .cvsignore

 doc/.cvsignore | 1 +
 1 file changed, 1 insertion(+)

commit f946755cdb0b0db08debc9f0ee1c2d4f62b484a1
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 23 04:05:58 2003 +0000

    Use CONFDIR instead of SYSCONFDIR/fonts in manual. Use awk to strip
        trailing newline instead of leaving CVS file without a newline
        (which
        will break at some point)

 doc/Makefile.am     | 3 ++-
 doc/confdir.sgml.in | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 8b290c54761ee020b0bc197c7ea06366e73be66c
Author: Noah Levitt <nlevitt@gmail.com>
Date:   Wed Apr 23 00:40:24 2003 +0000

    Got rid of the newline at the end of the file. It's yucky but,
    I'm not sure
        how else to get rid of the newline in the output.

 doc/confdir.sgml.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4b4f42ab58714fda3214fcb4f3c9e566ebd25100
Author: Noah Levitt <nlevitt@gmail.com>
Date:   Wed Apr 23 00:08:03 2003 +0000

    Getting closer to fixing /etc/fonts hard-coding.

 configure.in        |  1 -
 doc/Makefile.am     |  4 ++++
 doc/confdir.sgml.in | 25 +++++++++++++++++++++++++
 3 files changed, 29 insertions(+), 1 deletion(-)

commit 27de1f430a3d95c64bc989ae1c7bf1198d059b4c
Author: Noah Levitt <nlevitt@gmail.com>
Date:   Tue Apr 22 23:34:50 2003 +0000

    Testing syncmail yet again.

 .cvsignore               |  2 +-
 configure.in             |  1 +
 doc/Makefile.am          | 12 ++++++------
 doc/fontconfig-user.sgml |  9 +++++----
 4 files changed, 13 insertions(+), 11 deletions(-)

commit 993ffcdd0cb1ab956a456243241ae96eb2b398d1
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 22 16:53:18 2003 +0000

    Fix autogen.sh to work with newer automakes

 autogen.sh | 45 +++++++++++++++++++++++++++++++++++----------
 1 file changed, 35 insertions(+), 10 deletions(-)

commit 5f84b65a26073141e02152d3e5889fb7cfe459a2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 22 06:27:27 2003 +0000

    Handle pattern elements moving during multiple edits

 src/fccfg.c | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 781f10486df22a422b92114ad438d4d8e74c9b93
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Apr 21 16:12:22 2003 +0000

    Update to version 2.2.0

 configure.in            | 2 +-
 fontconfig/fontconfig.h | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 8eb4a52ed8ec96efb784a9cab5a21ba20b27733a
Author: Noah Levitt <nlevitt@gmail.com>
Date:   Mon Apr 21 06:17:23 2003 +0000

    Fixed variable name mistake.

 configure.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 965f77940cbe9743f0f57f8333c49708d3f3dd8c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Apr 20 04:44:09 2003 +0000

    From James Su -- only part of page 0xff is Latin

 src/fcfreetype.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 29d961a28e231302683577328ed4724319805a7f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 18 15:56:05 2003 +0000

    Guard calls to FT_Get_BDF_Property to avoid freetype jumping
    through null
        pointer

 src/fcfreetype.c | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 3a30abdb84ff973be86d4f75ee2fd54099f32ef1
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 17 21:50:24 2003 +0000

    Pass FONTCONFIG_PATH in arguments to get expanded

 src/Makefile.am | 1 +
 src/fccfg.c     | 4 ----
 2 files changed, 1 insertion(+), 4 deletions(-)

commit 2b2f2a714a6aa5a3fe451f44f85afc67ac921e36
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 17 21:29:12 2003 +0000

    BDF properties not available until FreeType 2.1.4

 src/fcfreetype.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 12d49d3cf48a145189af5e27d88bdf4858d5c2b6
Author: Colin Walters <walters@verbum.org>
Date:   Thu Apr 17 17:43:04 2003 +0000

    Remove some unused variables, and initialize some other ones so
    gcc doesn't
        warn us.

 ChangeLog       | 5 +++++
 doc/edit-sgml.c | 1 +
 src/fclang.c    | 6 ++----
 3 files changed, 8 insertions(+), 4 deletions(-)

commit 996580dce5cd74dfdfe18c9f20e0a27817e5ed1b
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Apr 17 15:47:34 2003 +0000

    Solaris porting fixes

 configure.in      | 4 ++--
 fc-lang/fc-lang.c | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit b1e98ed99ead0a4c34ebf2554ea6076bebf621a4
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 16 22:04:42 2003 +0000

    Add Vera support to default configuration

 fonts.conf.in | 50 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit e2925d7dc2877fba2112eb3de9853f3e889362c3
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 16 21:50:51 2003 +0000

    bump version to 2.1.94

 configure.in            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ab06f005f66e12b46a5f1274eafa992be20a1f72
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 16 18:49:28 2003 +0000

    add some changelog entries

 ChangeLog | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 0e7a434783b28e9e954d3136195af7ba622c459d
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 16 18:08:47 2003 +0000

    Search through the BDF properties for width and foundry information

 src/fcfreetype.c | 76
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 75 insertions(+), 1 deletion(-)

commit 2e2121f910dd84b0731985570d93cd31ae2edb61
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 16 16:19:38 2003 +0000

    Move foundry detection data into fcfreetype.c (which is getting rather
        large at this point)

 src/Makefile.am  |   2 +-
 src/data.h       |  77 ------------------------
 src/fcfreetype.c | 177
 ++++++++++++++++++++++++++++++++++++++++++-------------
 3 files changed, 137 insertions(+), 119 deletions(-)

commit 4515cf329ea6f5f4ddbfdee3bc275ba7b768330c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 16 16:18:27 2003 +0000

    bool was misdeclared in DTD

 fonts.dtd | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3f7653c2badeb426f938bafe1a82c2917b7ea125
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 15 23:38:06 2003 +0000

    Fix unary operator parsing. Add floor, ceil, trunc and round unary
        operators

 fontconfig/fontconfig.h |   2 +
 fonts.dtd               |   6 ++-
 src/Makefile.am         |   2 +-
 src/fccfg.c             |  71 ++++++++++++++++++++++++++++++++
 src/fcdbg.c             |  20 +++++++++
 src/fcint.h             |   3 +-
 src/fcxml.c             | 107
 ++++++++++++++++++++++++++++++++++++++----------
 7 files changed, 187 insertions(+), 24 deletions(-)

commit 52253696cd2779bd9040457fbd157bbe75895ed6
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 15 17:01:39 2003 +0000

    Clean up ps font weight matching and check for NULL

 src/fcfreetype.c | 59
 +++++++++++++++++++++++++++++---------------------------
 1 file changed, 31 insertions(+), 28 deletions(-)

commit 2ae95e77f7d50d65ca414a5d5a1065aa9f2581ed
Author: Juliusz Chroboczek <Juliusz.Chroboczek@pps.jussieu.fr>
Date:   Fri Apr 11 23:45:59 2003 +0000

    Implemented foundry generation for Type 1 and TrueType

 src/data.h       | 77
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcfreetype.c | 73
 +++++++++++++++++++++++++++++++++++++++++++++++++----
 2 files changed, 145 insertions(+), 5 deletions(-)

commit 0a557ec372a7dddede4edec3ac77caf328fd12f5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 11 23:00:51 2003 +0000

    update version number to 2.1.93

 configure.in            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7f31f3781597e035b8432e0ce1c2894835b4988a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 11 22:53:53 2003 +0000

    Run fc-cache from local dir instead of install dir to help LFS
    installs (I
        hope)

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9f2bcb3e41f30dde64a288a4741ff169f8848dad
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 11 22:24:23 2003 +0000

    Switch to locale-independent string compare function

 src/fcfreetype.c | 28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit d6ea834746a7b2758ea5b89467c0e64446840ca4
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 11 22:17:11 2003 +0000

    Bug #46, #47 fontconfig should retrieve type 1 font information from
        FontInfo dictionary Patch provided by g2@magestudios.net (Gerard
        Escalante)

 src/fcfreetype.c | 44 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 44 insertions(+)

commit cc30f9ca548661d0d9eb07216d261457db58ca02
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 8 05:00:25 2003 +0000

    remove -u option to docbook2man which was trashing the .html file

 doc/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c8caabdf008f4673bb1d5543ef1e49b02a5c2e9
Author: Colin Walters <walters@verbum.org>
Date:   Tue Apr 8 03:58:57 2003 +0000

    *** empty log message ***

 ChangeLog | 5 +++++
 1 file changed, 5 insertions(+)

commit 15b49a7fbeafa69e0cc02d691a5794f9d3da4b69
Author: Colin Walters <walters@verbum.org>
Date:   Tue Apr 8 03:58:08 2003 +0000

    Fix dummy makefile target names when MS_LIB_AVAILABLE isn't set.

 src/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ef82cce1d5d6c6a700db4bb2218f47db85bf548d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 4 20:17:40 2003 +0000

    update copyright years

 COPYING       |  2 +-
 fonts.conf.in | 15 ++-------------
 local.conf    |  9 +++++++++
 3 files changed, 12 insertions(+), 14 deletions(-)

commit 08b5b70dcf04ce61fb505487b774a3731b04e5c1
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 4 20:16:33 2003 +0000

    Move sample subpixel configuration to local.conf

 config/Makedefs.in | 4 ++--
 config/install.sh  | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 848d32bd3f141f0c14abfec38d4cf27eedd1f0a5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 28 17:08:35 2003 +0000

    Set spacing to mono if every encoded glyph is the same width

 fontconfig/fcfreetype.h |  3 +++
 src/fcfreetype.c        | 46
 +++++++++++++++++++++++++++++++++++++++++-----
 2 files changed, 44 insertions(+), 5 deletions(-)

commit 7dbeec17388af7d41312cd201bb25306ba1e4bc6
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 24 05:03:20 2003 +0000

    Wrong pattern for matching font file names. Fix submitted by
        hjchoe@hancom.com (Choe Hwanjin)

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c8582ff72ade8522d545d117641e4afac61382a0
Author: Tor Lillqvist <tml@iki.fi>
Date:   Sat Mar 22 21:28:13 2003 +0000

    Changes for Windows:
    Add a fontconfig-zip(.in) script, used to build a binary distribution.

 fontconfig-zip.in | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit daeed6e048a413a94754fd79f62307ca9be80a43
Author: Tor Lillqvist <tml@iki.fi>
Date:   Sat Mar 22 21:25:34 2003 +0000

    Changes for Windows:
    On Windows with gcc (a.k.a. mingw) build as a DLL.
    We don't want to hardcode the fonts.conf file location in the DLL,
    so we
        look up the DLL location at run-time in a DllMain() function. The
        fonts.conf location is deduced from that.
    The colon can't be used as path separator on Windows, semicolon
    is used
        instead. File path components can be separated with either
        slash or
        backslash. Absolute paths can also begin with a drive letter.
    Add internal function FcStrLastSlash that strrchr's the last slash, or
        backslash on Windows.
    There is no link() on Windows. For atomicity checks, mkdir a lock
    directory
        instead.
    In addition to HOME, also look for USERPROFILE.
    Recognize the special font directory token WINDOWSFONTDIR, to use the
        system's font directory.
    Remove the fontconfig-def.cpp that was obsolete. Add
    fontconfig.def(.in),
        without internal functions.
    Add a fontconfig-zip(.in) script, used to build a binary distribution.

 ChangeLog              |  32 ++++++++++
 Makefile.am            |   3 +-
 configure.in           |  28 +++++++-
 fc-lang/fc-lang.man    |   6 +-
 src/Makefile.am        |  55 +++++++++++++++-
 src/fcatomic.c         |  23 ++++++-
 src/fccache.c          |  21 +++++-
 src/fccfg.c            |  90 ++++++++++++++++++++++++--
 src/fcint.h            |   9 +++
 src/fcstr.c            |  23 ++++++-
 src/fcxml.c            |  30 +++++++++
 src/fontconfig-def.cpp | 170
 -------------------------------------------------
 src/fontconfig.def.in  | 161
 ++++++++++++++++++++++++++++++++++++++++++++++
 13 files changed, 464 insertions(+), 187 deletions(-)

commit cc9dd09816f717fc678d097a69f793dca1b1eef0
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 22 01:55:00 2003 +0000

    switch // comment

 src/fclang.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ddde1797a900b818b96fc0818d9df0efacb5ac69
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 20 02:01:01 2003 +0000

    strtod under some locales requires digits before the decimal

 doc/fontconfig-user.sgml | 8 ++++++--
 fonts.conf.in            | 2 +-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit f4007a672834df25f0f9b6a918c135d2b79a3784
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 20 02:00:15 2003 +0000

    Avoid crashing on empty test/edit lists

 src/fccfg.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 3fbd50e48679c15c24400aaa78c6cd266317a784
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 20 01:59:28 2003 +0000

    bogus libtoolize --version | libtoolize --version

 autogen.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1b16ef20c9c7dd5c3e861a392e886cbe6c046306
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 18 08:03:42 2003 +0000

    FcCharSetIsSubset errored on fonts with subsets in early blocks
    and extra
        blocks not present in the second argument

 src/fccharset.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3910f3221b5276523ff1e6fea10aecabfa427f0a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 14 00:16:56 2003 +0000

    Fix configure arguments (bug 45)

 configure.in | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 81fa16c3366a701255f4e52cdfd716dd06253748
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 12 22:16:43 2003 +0000

    add font widths and extend weight from OS/2 table

 fontconfig/fontconfig.h | 44 ++++++++++++++++++++++++++++------------
 src/fcdefault.c         |  3 +++
 src/fcfreetype.c        | 54
 ++++++++++++++++++++++++++++++++++++++++++++-----
 src/fcmatch.c           | 29 +++++++++++++++++---------
 src/fcname.c            | 18 +++++++++++++++++
 5 files changed, 120 insertions(+), 28 deletions(-)

commit a8386abc916c6ce4b0fa0ca3f9f68aa0232d4824
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 12 22:15:39 2003 +0000

    Global cache time checking was using wrong file name and computing
    wrong
        count of fonts per file

 src/fccache.c | 10 +++++-----
 src/fcdir.c   |  8 ++++++--
 src/fcint.h   |  2 +-
 3 files changed, 12 insertions(+), 8 deletions(-)

commit 89b61da31f88713074fdb396604cd3d8fe7e5ded
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 10 06:56:32 2003 +0000

    Ship manual

 fc-list/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit dbe9a11ea4a1ff2b044f3e24a3ef9de27370a033
Author: Mike A. Harris <mharris@redhat.com>
Date:   Sat Mar 8 01:03:32 2003 +0000

    Updated RPM specfile for 2.1.92 and fixed remaining known spec
    file issues

 ChangeLog          |  8 ++++++++
 fontconfig.spec.in | 19 +++++++++++++++++--
 2 files changed, 25 insertions(+), 2 deletions(-)

commit 6348213702153f1097c648ae575bcc89dbb259dc
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 21:04:52 2003 +0000

    Bump version to 2.1.92

 configure.in            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit dcd1f27185958b000f12e0390970c925f4386598
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 20:51:17 2003 +0000

    add version.sgml to .cvsignore

 doc/.cvsignore | 1 +
 1 file changed, 1 insertion(+)

commit ae2c2943648313b41f2d032b72618d11ffdd1772
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 20:50:44 2003 +0000

    Add version number to user doc

 doc/fontconfig-user.sgml | 27 +++++++++++++++++----------
 doc/func.sgml            |  1 +
 2 files changed, 18 insertions(+), 10 deletions(-)

commit fddb839bba56f5d0ac9e2bd71323d2cc488155b8
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 20:45:43 2003 +0000

    Add version number to documentation

 configure.in              |  1 +
 doc/fontconfig-devel.sgml | 13 +++----------
 doc/func.sgml             |  4 ++++
 doc/version.sgml.in       | 24 ++++++++++++++++++++++++
 4 files changed, 32 insertions(+), 10 deletions(-)

commit 4484582ebaaaea4982248a6141d87d488ef322bd
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 20:45:20 2003 +0000

    wasnt rebuilding most of the docs

 doc/Makefile.am | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 8cfb37394cb80cc7b11133090c99dc1ce31f2695
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 20:04:13 2003 +0000

    distribute man page

 fc-cache/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit ea3ebacfb8c729fd6fbfb55d27bd3ef43cd4afec
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 20:03:53 2003 +0000

    note that default mandir is usually wrong

 INSTALL | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bdc0fd54344cd161f1507aa53f3d676569d63f08
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 20:03:23 2003 +0000

    get manuals to install with automake-1.4

 doc/Makefile.am | 44 +++++++++++++++++++++-----------------------
 1 file changed, 21 insertions(+), 23 deletions(-)

commit 164301051d714b39e2a5b5d72cab2ca7ecb9e57a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 19:41:34 2003 +0000

    Create fontconfig-user.html

 doc/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 251c36c1b311515aae0fff1ab9d80e2843e3f426
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 19:39:57 2003 +0000

    Add more to .cvsignore

 doc/.cvsignore | 9 +++++++++
 1 file changed, 9 insertions(+)

commit b219ac6b99672506965f3c2168e2af1cd58d28e7
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 19:37:16 2003 +0000

    Make documentation build

 doc/Makefile.am          | 172
 +++++++++++++++++++++++++++--------------------
 doc/edit-sgml.c          |   2 +-
 doc/fontconfig-user.sgml |   2 +-
 3 files changed, 102 insertions(+), 74 deletions(-)

commit 39381776a4c0cf4077a31f3a493cbd37420cec71
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 19:01:41 2003 +0000

    Finish reformatting developer documentation

 doc/Makefile.am           |  16 +-
 doc/edit-sgml.c           |  17 +-
 doc/fcatomic.fncs         |  93 +++++++++
 doc/fcconfig.fncs         | 153 ++++++++-------
 doc/fcfile.fncs           |  78 ++++++++
 doc/fcfreetype.fncs       |  69 +++++++
 doc/fcinit.fncs           |  78 ++++++++
 doc/fcstring.fncs         | 150 +++++++++++++++
 doc/fcstrset.fncs         | 104 ++++++++++
 doc/fontconfig-devel.sgml | 475
 +++++++++++-----------------------------------
 10 files changed, 795 insertions(+), 438 deletions(-)

commit 90bdcf6051472443690294e04df1ea1f5d0d1d19
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 08:52:27 2003 +0000

    Add copyright

 doc/func.sgml | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit 2df0c66230fb86a784414b5db803d32d1a083b3a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 08:51:14 2003 +0000

    Use <parameter> tags. Add copyrights

 doc/fcconfig.fncs     | 46 +++++++++++++++++++++++-----------------------
 doc/fcconstant.fncs   | 10 +++++-----
 doc/fcobjecttype.fncs |  6 +++---
 doc/fcpattern.fncs    | 14 +++++++-------
 doc/fcvalue.fncs      |  4 ++--
 5 files changed, 40 insertions(+), 40 deletions(-)

commit bfc2dc3ac4b1eb5f0f9f0dfae7abac7e77e28061
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 08:44:32 2003 +0000

    Add lots more function documentation

 doc/Makefile.am           |  16 ++-
 doc/fcblanks.fncs         |  58 +++++++++
 doc/fccharset.fncs        |  23 ++++
 doc/fcconfig.fncs         | 279
 +++++++++++++++++++++++++++++++++++++++++++
 doc/fcconstant.fncs       |  58 +++++++++
 doc/fcfontset.fncs        |  49 ++++++++
 doc/fcmatrix.fncs         |  23 ++++
 doc/fcobjectset.fncs      |  61 ++++++++++
 doc/fcobjecttype.fncs     |  48 ++++++++
 doc/fcpattern.fncs        |  23 ++++
 doc/fcvalue.fncs          |  23 ++++
 doc/fontconfig-devel.sgml | 292
 +++-------------------------------------------
 12 files changed, 677 insertions(+), 276 deletions(-)

commit 22671e25510e77af1a8f2b569314ba2de1c93353
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 07:12:51 2003 +0000

    Rework documentation to build man pages for each function

 doc/Makefile.am           |   84 ++-
 doc/fccharset.fncs        |  144 +++++
 doc/fcmatrix.fncs         |  100 ++++
 doc/fcpattern.fncs        |  287 ++++++++++
 doc/fcvalue.fncs          |   17 +
 doc/fontconfig-devel.sgml | 1355
 ++++++++++++++++++---------------------------
 doc/fontconfig-user.sgml  |  396 ++++++-------
 doc/func.sgml             |   61 ++
 8 files changed, 1411 insertions(+), 1033 deletions(-)

commit 5e1f56b567c0226da9ab650ee4809e16be2ae8eb
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 7 06:17:36 2003 +0000

    Add func doc creation program edit-sgml

 doc/edit-sgml.c | 426
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 426 insertions(+)

commit c92abf78e12502e1d93281e2d4b1404226a6c6b9
Author: Mike A. Harris <mharris@redhat.com>
Date:   Wed Mar 5 10:09:57 2003 +0000

    Update Changelog

 ChangeLog | 7 +++++++
 1 file changed, 7 insertions(+)

commit a5ae222c2a5f578dff011f11dadb78ecf0734cbb
Author: Mike A. Harris <mharris@redhat.com>
Date:   Wed Mar 5 10:08:08 2003 +0000

    Added back the configure macro options --disable-docs because
    otherwise
        fontconfig installs docs into /usr/share/doc/fontconfig (with no
        version number) unconditionally, causing RPM to fail the build
        due to
        _unpackaged_files_terminate_build. We pick up the pregenerated
        docs
        with %doc already.

 fontconfig.spec.in | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit b06766e439ce49f2d50aba7ab812fa0ebb6549e1
Author: Mike A. Harris <mharris@redhat.com>
Date:   Wed Mar 5 09:28:08 2003 +0000

    Updated rpm specfile changelog and Changelog to reflect today's
    changes

 ChangeLog          | 13 ++++++++++++-
 fontconfig.spec.in |  9 ++++++++-
 2 files changed, 20 insertions(+), 2 deletions(-)

commit fc87206f77a4c1b11c990a6ea4b0d3d4cd5208df
Author: Mike A. Harris <mharris@redhat.com>
Date:   Wed Mar 5 09:16:37 2003 +0000

    Reordered %files lists to be a bit tidier. Made -devel package own the
        %{_includedir}/fontconfig directory

 fontconfig.spec.in | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit c674c89bf919fa7f357319a7ce825ba5369ff737
Author: Mike A. Harris <mharris@redhat.com>
Date:   Wed Mar 5 09:14:06 2003 +0000

    Put %post script in {}'s for tidyness, and change the call to
    fc-cache to
        use %{_bindir}/fc-cache

 fontconfig.spec.in | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 5283328a6006420cb3382c0dbef55f715996b91c
Author: Mike A. Harris <mharris@redhat.com>
Date:   Wed Mar 5 09:10:14 2003 +0000

    Changed BuildRequires: lines to use %{_bindir} macro instead of
    hard coded
        /usr/bin

 fontconfig.spec.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 674c09dfbfc3d6d3a014ac018995530159fc157f
Author: Mike A. Harris <mharris@redhat.com>
Date:   Wed Mar 5 09:08:41 2003 +0000

    Replace commented out %define at top of specfile with a comment
    preceding
        the freetype2 define, since rpm expands macros in comments. Also
        remove
        -j flag from make, as _smp_mflags expands to -jN already.

 fontconfig.spec.in | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d30f481c4d182db3873fc9caf0e191da3c4955ef
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 07:45:37 2003 +0000

    switch vesion to version

 fontconfig.spec.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d93fb00e8dd757fbdaafd4dd36509c33b7827eb5
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 06:09:36 2003 +0000

    optimize string compares even more

 src/fcstr.c | 19 +++----------------
 1 file changed, 3 insertions(+), 16 deletions(-)

commit dc1de232a694c9c431604e701e8f617978a00e0a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 06:09:14 2003 +0000

    Use VERSION in fontconfig.pc.in

 fontconfig.pc.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 83e42969fcd183d99b279cf1e15b6126ce2428eb
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 05:57:11 2003 +0000

    No longer using config directory

 configure.in | 2 --
 1 file changed, 2 deletions(-)

commit 94421e4097d84b50fc2da285b57fb00da3592796
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 05:53:10 2003 +0000

    use FcToLower instead of tolower

 src/fcname.c | 12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 55ef7dac64d9202217c6f42e53ddf1549c2da385
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 05:52:51 2003 +0000

    Add FcLangSetPrint

 src/fcdbg.c | 29 ++++++++++++++++++-----------
 1 file changed, 18 insertions(+), 11 deletions(-)

commit 793e946c2f90b5617ec39c64679630b4e2f2d3ad
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 05:52:31 2003 +0000

    AddFcLangSetContains for font listing, add first-letter table for
    language
        lookups, change RCS tag

 src/fccfg.c  |   8 +--
 src/fcint.h  |   7 +-
 src/fclang.c | 231
 ++++++++++++++++++++++++++++++++++++++++++++++++++++-------
 src/fclist.c |   6 +-
 4 files changed, 219 insertions(+), 33 deletions(-)

commit 4bd4418ab5e7450e1c1fd3cd136098f1bf37a80c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 05:51:27 2003 +0000

    Change RCS tag

 fc-cache/fc-cache.c    | 4 ++--
 fc-cache/fc-cache.man  | 4 ++--
 fc-list/fc-list.c      | 4 ++--
 fc-list/fc-list.man    | 4 ++--
 src/fcatomic.c         | 4 ++--
 src/fcblanks.c         | 4 ++--
 src/fccache.c          | 4 ++--
 src/fccharset.c        | 4 ++--
 src/fcdefault.c        | 4 ++--
 src/fcdir.c            | 4 ++--
 src/fcfreetype.c       | 4 ++--
 src/fcfs.c             | 4 ++--
 src/fcinit.c           | 4 ++--
 src/fcmatch.c          | 4 ++--
 src/fcmatrix.c         | 2 +-
 src/fcpat.c            | 4 ++--
 src/fcstr.c            | 4 ++--
 src/fcxml.c            | 4 ++--
 src/fontconfig-def.cpp | 2 +-
 19 files changed, 36 insertions(+), 36 deletions(-)

commit 0eadb052fb31ad99d77d1997108d316c64d939b8
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 05:48:53 2003 +0000

    Add letter ranges to speed lang lookups, change CVS tag

 fc-lang/fc-lang.c     | 38 ++++++++++++++++++++++++++++++++++++--
 fc-lang/fc-lang.man   |  4 ++--
 fc-lang/fclang.tmpl.h |  4 ++--
 3 files changed, 40 insertions(+), 6 deletions(-)

commit 4c2967f6267b01022c4f3651dcc0072a225f4b01
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 05:48:15 2003 +0000

    Change RCS tag, add FcLangSetContains

 fontconfig/fcfreetype.h |  4 ++--
 fontconfig/fcprivate.h  |  4 ++--
 fontconfig/fontconfig.h | 11 ++++++++---
 3 files changed, 12 insertions(+), 7 deletions(-)

commit 0b5c5dd1bed55e32c551c85bce87b511236111b6
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 5 04:26:06 2003 +0000

    Switch RCS tag label

 fc-lang/aa.orth    | 4 ++--
 fc-lang/ab.orth    | 4 ++--
 fc-lang/af.orth    | 4 ++--
 fc-lang/am.orth    | 4 ++--
 fc-lang/ar.orth    | 4 ++--
 fc-lang/ast.orth   | 4 ++--
 fc-lang/ava.orth   | 4 ++--
 fc-lang/ay.orth    | 4 ++--
 fc-lang/az.orth    | 4 ++--
 fc-lang/ba.orth    | 4 ++--
 fc-lang/bam.orth   | 4 ++--
 fc-lang/be.orth    | 4 ++--
 fc-lang/bg.orth    | 4 ++--
 fc-lang/bh.orth    | 4 ++--
 fc-lang/bho.orth   | 4 ++--
 fc-lang/bi.orth    | 4 ++--
 fc-lang/bin.orth   | 4 ++--
 fc-lang/bn.orth    | 4 ++--
 fc-lang/bo.orth    | 4 ++--
 fc-lang/br.orth    | 4 ++--
 fc-lang/bs.orth    | 4 ++--
 fc-lang/bua.orth   | 4 ++--
 fc-lang/ca.orth    | 4 ++--
 fc-lang/ce.orth    | 4 ++--
 fc-lang/ch.orth    | 4 ++--
 fc-lang/chm.orth   | 4 ++--
 fc-lang/chr.orth   | 4 ++--
 fc-lang/co.orth    | 4 ++--
 fc-lang/cs.orth    | 4 ++--
 fc-lang/cu.orth    | 4 ++--
 fc-lang/cv.orth    | 4 ++--
 fc-lang/cy.orth    | 4 ++--
 fc-lang/da.orth    | 4 ++--
 fc-lang/de.orth    | 4 ++--
 fc-lang/dz.orth    | 4 ++--
 fc-lang/el.orth    | 4 ++--
 fc-lang/en.orth    | 4 ++--
 fc-lang/eo.orth    | 4 ++--
 fc-lang/es.orth    | 4 ++--
 fc-lang/et.orth    | 4 ++--
 fc-lang/eu.orth    | 4 ++--
 fc-lang/fa.orth    | 4 ++--
 fc-lang/fi.orth    | 4 ++--
 fc-lang/fj.orth    | 4 ++--
 fc-lang/fo.orth    | 4 ++--
 fc-lang/fr.orth    | 4 ++--
 fc-lang/ful.orth   | 4 ++--
 fc-lang/fur.orth   | 4 ++--
 fc-lang/fy.orth    | 4 ++--
 fc-lang/ga.orth    | 4 ++--
 fc-lang/gd.orth    | 4 ++--
 fc-lang/gez.orth   | 4 ++--
 fc-lang/gl.orth    | 4 ++--
 fc-lang/gn.orth    | 4 ++--
 fc-lang/gu.orth    | 4 ++--
 fc-lang/gv.orth    | 4 ++--
 fc-lang/ha.orth    | 4 ++--
 fc-lang/haw.orth   | 4 ++--
 fc-lang/he.orth    | 4 ++--
 fc-lang/hi.orth    | 4 ++--
 fc-lang/ho.orth    | 4 ++--
 fc-lang/hr.orth    | 4 ++--
 fc-lang/hu.orth    | 4 ++--
 fc-lang/hy.orth    | 4 ++--
 fc-lang/ia.orth    | 4 ++--
 fc-lang/ibo.orth   | 4 ++--
 fc-lang/id.orth    | 4 ++--
 fc-lang/ie.orth    | 4 ++--
 fc-lang/ik.orth    | 4 ++--
 fc-lang/io.orth    | 4 ++--
 fc-lang/is.orth    | 4 ++--
 fc-lang/it.orth    | 4 ++--
 fc-lang/iu.orth    | 4 ++--
 fc-lang/ja.orth    | 4 ++--
 fc-lang/ka.orth    | 4 ++--
 fc-lang/kaa.orth   | 4 ++--
 fc-lang/ki.orth    | 4 ++--
 fc-lang/kk.orth    | 4 ++--
 fc-lang/kl.orth    | 4 ++--
 fc-lang/km.orth    | 4 ++--
 fc-lang/kn.orth    | 4 ++--
 fc-lang/ko.orth    | 4 ++--
 fc-lang/kok.orth   | 4 ++--
 fc-lang/ks.orth    | 4 ++--
 fc-lang/ku.orth    | 4 ++--
 fc-lang/kum.orth   | 4 ++--
 fc-lang/kv.orth    | 4 ++--
 fc-lang/kw.orth    | 4 ++--
 fc-lang/ky.orth    | 4 ++--
 fc-lang/la.orth    | 4 ++--
 fc-lang/lb.orth    | 4 ++--
 fc-lang/lez.orth   | 4 ++--
 fc-lang/lo.orth    | 4 ++--
 fc-lang/lt.orth    | 4 ++--
 fc-lang/lv.orth    | 4 ++--
 fc-lang/mg.orth    | 4 ++--
 fc-lang/mh.orth    | 4 ++--
 fc-lang/mi.orth    | 4 ++--
 fc-lang/mk.orth    | 4 ++--
 fc-lang/ml.orth    | 4 ++--
 fc-lang/mn.orth    | 4 ++--
 fc-lang/mo.orth    | 4 ++--
 fc-lang/mr.orth    | 4 ++--
 fc-lang/mt.orth    | 4 ++--
 fc-lang/my.orth    | 4 ++--
 fc-lang/nb.orth    | 4 ++--
 fc-lang/ne.orth    | 4 ++--
 fc-lang/nl.orth    | 4 ++--
 fc-lang/nn.orth    | 4 ++--
 fc-lang/no.orth    | 4 ++--
 fc-lang/ny.orth    | 4 ++--
 fc-lang/oc.orth    | 4 ++--
 fc-lang/om.orth    | 4 ++--
 fc-lang/or.orth    | 4 ++--
 fc-lang/os.orth    | 4 ++--
 fc-lang/pl.orth    | 4 ++--
 fc-lang/pt.orth    | 4 ++--
 fc-lang/rm.orth    | 4 ++--
 fc-lang/ro.orth    | 4 ++--
 fc-lang/ru.orth    | 4 ++--
 fc-lang/sa.orth    | 4 ++--
 fc-lang/sah.orth   | 4 ++--
 fc-lang/sco.orth   | 4 ++--
 fc-lang/se.orth    | 4 ++--
 fc-lang/sel.orth   | 4 ++--
 fc-lang/sh.orth    | 4 ++--
 fc-lang/si.orth    | 4 ++--
 fc-lang/sk.orth    | 4 ++--
 fc-lang/sl.orth    | 4 ++--
 fc-lang/sm.orth    | 4 ++--
 fc-lang/sma.orth   | 4 ++--
 fc-lang/smj.orth   | 4 ++--
 fc-lang/smn.orth   | 4 ++--
 fc-lang/sms.orth   | 4 ++--
 fc-lang/so.orth    | 4 ++--
 fc-lang/sq.orth    | 4 ++--
 fc-lang/sr.orth    | 4 ++--
 fc-lang/sv.orth    | 4 ++--
 fc-lang/sw.orth    | 4 ++--
 fc-lang/syr.orth   | 4 ++--
 fc-lang/ta.orth    | 4 ++--
 fc-lang/te.orth    | 4 ++--
 fc-lang/tg.orth    | 4 ++--
 fc-lang/th.orth    | 4 ++--
 fc-lang/ti_er.orth | 4 ++--
 fc-lang/ti_et.orth | 4 ++--
 fc-lang/tig.orth   | 4 ++--
 fc-lang/tk.orth    | 4 ++--
 fc-lang/tl.orth    | 4 ++--
 fc-lang/tn.orth    | 4 ++--
 fc-lang/to.orth    | 4 ++--
 fc-lang/tr.orth    | 4 ++--
 fc-lang/ts.orth    | 4 ++--
 fc-lang/tt.orth    | 4 ++--
 fc-lang/tw.orth    | 4 ++--
 fc-lang/tyv.orth   | 4 ++--
 fc-lang/ug.orth    | 4 ++--
 fc-lang/uk.orth    | 4 ++--
 fc-lang/ur.orth    | 4 ++--
 fc-lang/uz.orth    | 4 ++--
 fc-lang/ven.orth   | 4 ++--
 fc-lang/vi.orth    | 4 ++--
 fc-lang/vo.orth    | 4 ++--
 fc-lang/vot.orth   | 4 ++--
 fc-lang/wa.orth    | 4 ++--
 fc-lang/wen.orth   | 4 ++--
 fc-lang/wo.orth    | 4 ++--
 fc-lang/xh.orth    | 4 ++--
 fc-lang/yap.orth   | 4 ++--
 fc-lang/yi.orth    | 4 ++--
 fc-lang/yo.orth    | 4 ++--
 fc-lang/zh_cn.orth | 4 ++--
 fc-lang/zh_hk.orth | 4 ++--
 fc-lang/zh_mo.orth | 4 ++--
 fc-lang/zh_sg.orth | 4 ++--
 fc-lang/zh_tw.orth | 4 ++--
 fc-lang/zu.orth    | 4 ++--
 177 files changed, 354 insertions(+), 354 deletions(-)

commit 7b94ae21fc4c2514b5f14942e432252a2acc33ab
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 4 00:19:09 2003 +0000

    Add .cvsignore

 doc/.cvsignore | 4 ++++
 1 file changed, 4 insertions(+)

commit af82b48c2b8c2037020d928aced582dedd06d8d9
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 4 00:14:58 2003 +0000

    Allow multiple directories in --with-add-fonts, by default add only
        scalable fonts from X directory

 configure.in | 48 ++++++++++++++++++++++++++++++++----------------
 1 file changed, 32 insertions(+), 16 deletions(-)

commit bb7743ae7e218ecef31f3023b281939b02967552
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 3 05:47:14 2003 +0000

    Update version to 2.1.91

 configure.in            | 2 +-
 fontconfig/fontconfig.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 22dc6fc6dbae50d6ee2db17a88b5c6e4b3ac30be
Author: Owen Taylor <otaylor@redhat.com>
Date:   Mon Mar 3 01:13:11 2003 +0000

    Sun Mar 2 14:16:17 2003 Owen Taylor <otaylor@redhat.com>
    fontconfig.spec.in: Improvements from Red Hat spec file.
    {fc-lang,fc-cache,fc-list}/Makefile.am: Add man pages.
    docs/*.sgml: SGML fixes.

 ChangeLog                 |   8 ++
 doc/fontconfig-devel.sgml | 237
 +++++++++++++++++++++++-----------------------
 doc/fontconfig-user.sgml  |   8 +-
 fc-cache/Makefile.am      |   2 +
 fc-lang/Makefile.am       |   2 +
 fc-list/Makefile.am       |   2 +
 fontconfig.spec.in        |  86 +++++++++--------
 7 files changed, 191 insertions(+), 154 deletions(-)

commit ee170116da7cbd6e03a4de61c455d717183f46d7
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 2 19:13:00 2003 +0000

    Ignore dist files

 .cvsignore | 1 +
 1 file changed, 1 insertion(+)

commit ff3f1f98ed240a4cde511cace7acd09d40548656
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 2 19:12:23 2003 +0000

    Switch back to -version-info for fontconfig as its at minor 0. Add
        --system-only to fc-cache. Fix FC_VERSION to match product version
        rather than .so version

 Makefile.am             |    1 -
 configure.in            |   23 +-
 fc-cache/fc-cache.c     |    8 +
 fc-lang/fc-lang.c       |    6 +
 fontconfig/fontconfig.h |   16 +-
 ltmain.sh               | 6192
 -----------------------------------------------
 src/Makefile.am         |    2 +-
 src/fccfg.c             |   25 +-
 src/fcint.h             |    3 +
 src/fcstr.c             |    8 +-
 src/fcxml.c             |   14 +-
 11 files changed, 79 insertions(+), 6219 deletions(-)

commit bf0093b72487bd463b9c7700902cd8765534c9c1
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 2 08:46:04 2003 +0000

    oops -- X fonts referenced from the wrong place

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ad9b233c98d4da08178503f6db9a43708e2a7df0
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 2 08:00:24 2003 +0000

    Make default confdir point to sysconfdir

 configure.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 181f614a96ec1e06c2b9cd9fcbfc304622d6fd18
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 2 07:36:08 2003 +0000

    Add ltmain.sh to the package

 Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 8fc10a72ad856216b87daa91a1d52fde70af35dc
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 2 07:28:24 2003 +0000

    make dist works now. Update to 2.1.90 in preparation for eventual 2.2
        release

 COPYING             |    4 +-
 ChangeLog           |   20 +
 INSTALL             |   11 +-
 Makefile.am         |    3 +-
 README              |    6 +-
 configure.in        |   11 +-
 fc-lang/Makefile.am |    2 +
 src/Makefile.am     |    2 +
 src/fcknownsets.h   | 1895
 ---------------------------------------------------
 test/Makefile.am    |    3 +
 10 files changed, 42 insertions(+), 1915 deletions(-)

commit 4b06670ac92b8b9d2f1ba7036fdfaed5e55ff533
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 1 05:55:48 2003 +0000

    Add .cvsignore

 test/.cvsignore | 2 ++
 1 file changed, 2 insertions(+)

commit 44d903783dd0b9b671be9e829c5b9e4e78c681c0
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 1 05:55:17 2003 +0000

    Add simple tests

 Makefile.am        |   2 +-
 configure.in       |   1 +
 test/4x6.pcf       | Bin 0 -> 70952 bytes
 test/8x16.pcf      | Bin 0 -> 21320 bytes
 test/Makefile.am   |   4 +++
 test/fonts.conf.in |   4 +++
 test/out.expected  |   8 +++++
 test/run-test.sh   |  85
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 103 insertions(+), 1 deletion(-)

commit 9238fc061d2f89590d578bff69fd3e8fc4b72e2c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 1 05:21:02 2003 +0000

    Add --disable-docs flag

 configure.in    | 16 ++++++++++++++++
 doc/Makefile.am | 21 ++++++++++++++++-----
 src/Makefile.am |  4 ----
 3 files changed, 32 insertions(+), 9 deletions(-)

commit 0da305f7f85ae0dddc411df53ef077709558d369
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 1 03:06:37 2003 +0000

    Switch to docbook and split documentation into pieces

 Makefile.am      |    2 +-
 configure.in     |   15 +
 doc/Makefile.am  |   35 ++
 src/fontconfig.3 | 1466
 ------------------------------------------------------
 4 files changed, 51 insertions(+), 1467 deletions(-)

commit 584ac89a017d30fb337de3d4c038ae2a5b51b3d1
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 1 02:23:52 2003 +0000

    Reformat documentation into sgml for docbook, split into user/devel
    guides

 doc/fontconfig-devel.sgml | 1257
 +++++++++++++++++++++++++++++++++++++++++++++
 doc/fontconfig-user.sgml  |  559 ++++++++++++++++++++
 doc/fontconfig.tex        |   55 --
 3 files changed, 1816 insertions(+), 55 deletions(-)

commit df43986cdcb38f6462d63618a115618cd9a964bb
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 27 08:12:13 2003 +0000

    Disable globaladvance for batang fonts

 fonts.conf.in | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit cc168fa6688066baad43d1de577a39c11102947a
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 27 08:08:09 2003 +0000

    Disable globaladvance for gulim fonts

 fonts.conf.in | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 148656ed8b3755f0634be14ae60996a1ad493836
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 27 07:04:59 2003 +0000

    Stop setting FC_SPACING from font hints. Theyre always wrong

 src/fcfreetype.c | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 662b879681f2961b446341638c7bec048edd612a
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 27 07:04:31 2003 +0000

    Avoid crashing with null expressions in debug code

 src/fcdbg.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2d39321f1e70a8a1a2a68244b25ca0c7e8c0df3c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 26 19:13:17 2003 +0000

    Allow double or integer for numeric values in matching

 src/fcdbg.c   |  4 ++--
 src/fcmatch.c | 34 ++++++++++++++++++++++++++--------
 2 files changed, 28 insertions(+), 10 deletions(-)

commit f2aacf1ed9cd34f3d29e0de3ee322ea51a82e40c
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Feb 24 17:52:44 2003 +0000

    Add remaining .cvsignore files

 fc-cache/.cvsignore   | 5 +++++
 fc-lang/.cvsignore    | 6 ++++++
 fc-list/.cvsignore    | 5 +++++
 fontconfig/.cvsignore | 2 ++
 src/.cvsignore        | 6 ++++++
 5 files changed, 24 insertions(+)

commit 8530b30b0bbb1831ab80cda61c104714b66a9da4
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Feb 24 17:50:29 2003 +0000

    Add .cvsignore file

 .cvsignore | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 20fa60c9ae5923487c80ef0449e869a30a8ddc19
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Feb 24 17:18:50 2003 +0000

    Switch to automake

 Makefile.am                                   |   49 +
 Makefile.in                                   |   91 -
 autogen.sh                                    |   89 +
 config.h.in                                   |  138 -
 configure.in                                  |  425 +-
 cvscompile.sh                                 |   11 -
 fc-cache/Makefile.am                          |   28 +
 fc-cache/Makefile.in                          |   53 -
 fontconfig/Makefile.in => fc-lang/Makefile.am |   23 +-
 fc-list/Makefile.am                           |   28 +
 fc-list/Makefile.in                           |   54 -
 findfonts                                     |    4 -
 fontconfig.spec.in                            |   74 +
 fontconfig/Makefile.am                        |    8 +
 fontconfig/fontconfig.h                       |    3 +-
 fonts.conf.in                                 |   12 +-
 local.conf                                    |    5 +
 local.def                                     |   70 -
 ltmain.sh                                     | 6192
 +++++++++++++++++++++++++
 setfontdirs                                   |   36 -
 src/Makefile.am                               |   38 +
 src/Makefile.in                               |  120 -
 src/{fontconfig.man => fontconfig.3}          |    0
 23 files changed, 6721 insertions(+), 830 deletions(-)

commit 46d003c34ef95db33ecb794d23f711161d4d4ae3
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Feb 24 16:51:29 2003 +0000

    Dont attempt to use cache if NULL

 src/fcdir.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e54692ac1e3b1e498154cae9e4db68f1d1b06ecf
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Feb 17 17:35:28 2003 +0000

    Remove broken fontconfig-config script

 Makefile.in          |  9 -----
 configure.in         |  3 +-
 fontconfig-config.in | 94
 ----------------------------------------------------
 3 files changed, 1 insertion(+), 105 deletions(-)

commit c4ab52dcb5d016d18fc73a8577daeb6938fb9e84
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 13 16:42:38 2003 +0000

    Track dirs containing fonts.cache files referenced from ~/.fonts.cache
    file

 src/fccache.c | 45 ++++++++++++++++++++++++++++++++++++++-------
 src/fcdir.c   |  3 +++
 src/fcint.h   |  4 ++++
 3 files changed, 45 insertions(+), 7 deletions(-)

commit 565a919e80bf2d801078cbd83eee8caf9c057519
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 12 20:35:32 2003 +0000

    Have fc-cache skip directories without write access

 fc-cache/fc-cache.c | 26 +++++++++++++++++++-------
 1 file changed, 19 insertions(+), 7 deletions(-)

commit b7a2e1e27b35154ea3b782f1f61bd2ef83cb27b2
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 12 18:23:03 2003 +0000

    Add prefer_outline hacks to replace bitmap fonts with equivalent
    outlines

 fonts.conf.in | 28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit dda7794f1be86fa270410e63ce96104843ded66f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 12 18:22:12 2003 +0000

    Add "same" binding for edits to inherit binding from matched element

 fonts.dtd   |  2 +-
 src/fccfg.c | 10 +++++++++-
 src/fcint.h |  2 +-
 src/fcxml.c |  2 ++
 4 files changed, 13 insertions(+), 3 deletions(-)

commit 602e6b1f265b17cc1059a01ac98f0877fb7d1db8
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 12 18:21:21 2003 +0000

    Output langsets and all bindings in debug messages

 src/fcdbg.c | 21 +++++++++++++++++++--
 1 file changed, 19 insertions(+), 2 deletions(-)

commit b2b6903259c742c75738d49fa37ea0b167ef87cb
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 12 18:20:04 2003 +0000

    Make FcStrCmpIgnoreCase a bit faster

 src/fcstr.c | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit c8d5753c0fca4e4b2ab01d49b9a0b464b9b54cb4
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 12 18:19:33 2003 +0000

    Dont cache directorys until theyve been scanned. Avoids losing subdir
        contents. Also fixed cache hashing function (was returning
        constant).
        Lots of comments

 src/fccache.c | 38 ++++++++++++++++++++++++++++++++------
 src/fcdir.c   | 11 +++++++++--
 2 files changed, 41 insertions(+), 8 deletions(-)

commit d2b5cc7e12cb3941080c8db07ba53ce975a914b2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 7 00:15:09 2003 +0000

    fontconfig is no longer affiliated with xfree86

 src/fontconfig.man | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 302e07f11ee7fa1bc95c89357c956359c04dc63e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 7 00:14:31 2003 +0000

    Emphasize that fonts.conf isnt the right place for local configuration

 fonts.conf.in | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 1b6b3b658c9ff6b8e45e54fdaea1812eb0b930d9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 7 00:13:55 2003 +0000

    Remove Imakefile

 Imakefile | 90
 ---------------------------------------------------------------
 1 file changed, 90 deletions(-)

commit 9e1af99b17be1d9cde3b4517e0e6071e64fb4b64
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 7 00:13:37 2003 +0000

    Build fc-lang, install local.conf

 Makefile.in | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit dda27aa9ee057d213956f18041bedb4648c6c302
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 6 19:30:32 2003 +0000

    Avoid crash when $HOME is not set

 src/fcstr.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 48092073dd7b633441daba6297cff8c4588fe58d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 6 19:28:23 2003 +0000

    Update greek orthography from vvas@hal.csd.auth.gr (Vasilis Vasaitis)

 fc-lang/el.orth | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 9db8fbeccf14e1be2e305c3dd8d83991ce8a1055
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 6 19:25:53 2003 +0000

    add shared library support for Tru64 UNIX and IRIX (bug #14)

 configure.in | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit ca4339b8bbd4138bb3cf54a7ad7c3b33db7035de
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 6 19:22:43 2003 +0000

    Fix inconsistent const usage in FcConfigCompareValue

 src/fccfg.c | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit c647f6f1e42f70077e1e0c957ff5cd7905d88b86
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 6 17:46:06 2003 +0000

    Build fclang.h before building library This required compiling
    the charset
        funcs into fc-lang, which was done by refactoring code in
        fccharset.c
        and fcfreetype.c a bit
    Updated ethiopic orthographies
    Remove imake support
    Install empty local.conf file if none is present

 fc-cache/Imakefile              |   22 -
 fc-lang/Imakefile               |   56 -
 fc-lang/am.orth                 |   10 +-
 fc-lang/fc-lang.c               |   21 +-
 fc-lang/fclang.h                | 4006
 ---------------------------------------
 fc-lang/gez.orth                |   55 +-
 fc-lang/ti_er.orth              |   56 +
 fc-lang/{ti.orth => ti_et.orth} |   11 +-
 fc-lang/tig.orth                |   52 +
 fc-list/Imakefile               |   17 -
 fontconfig/Imakefile            |    8 -
 src/Imakefile                   |   48 -
 src/fccharset.c                 |  769 +-------
 src/fcfreetype.c                |  768 ++++++++
 src/fcint.h                     |   19 +-
 15 files changed, 950 insertions(+), 4968 deletions(-)

commit 3d72cadda1f3398238ad9a5c52e31a9c710ccb5f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 28 21:28:20 2003 +0000

    Bug #4 The last entry for the terminator should not be 0xfffa,
    but 0xfffb.

 fonts.conf.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4d3520610ec82a80601a1590861dc9505e2813b4
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 28 20:56:18 2003 +0000

    Bug #2 If a sub-make fails, then the build will still happily
    continue. I
        will attach a patch I have been using in the Debian package for a
        while.

 Makefile.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c0b3aa22cf1338f96bc0c0b55956136a6102a61
Author: David Dawes <dawes@xfree86.org>
Date:   Tue Jan 7 02:07:47 2003 +0000

    703. Eliminate locale-dependent behaviour in fontconfig's setfontdirs
        script (#A.1483, Markus Kuhn).

 setfontdirs | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 72a762196f356837ef615ee2a079e8b801a6f592
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Fri Jan 3 18:54:11 2003 +0000

    On Darwin add Mac font directories to fonts.conf.

 Imakefile | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 432913ead584d164ed2830958ca5a3846394f5e6
Author: David Dawes <dawes@xfree86.org>
Date:   Sat Dec 21 02:31:53 2002 +0000

    677. Fix a segfault in fontconfig (#A.1450, Keith Packard).

 src/fccfg.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 1e341fdfc38527d8614e2fe744237f473f3febee
Author: David Dawes <dawes@xfree86.org>
Date:   Tue Dec 17 03:26:36 2002 +0000

    Test for "ed" and "ex" -- part of update for LynxOS/PowerPC build
    fixes
        (Stuart Lissaman).

 setfontdirs | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 234397b42976f027df7acc41aae80ec43692d557
Author: David Dawes <dawes@xfree86.org>
Date:   Sat Dec 14 02:03:59 2002 +0000

    633. Perform country-independent matching for Chinese languages in
        fontconfig (#A.1406, Keith Packard).

 fc-lang/fc-lang.c | 76
 ++++++++++++++++++++++++++++++++++++++++++++++++++-----
 fc-lang/fclang.h  | 10 +++++++-
 src/fclang.c      | 15 +++++++----
 3 files changed, 89 insertions(+), 12 deletions(-)

commit 45fb31aa9113b597878fc19d1463c078663540d9
Author: David Dawes <dawes@xfree86.org>
Date:   Sat Dec 14 01:59:38 2002 +0000

    632. Finish off the UTF-16 APIs in Xft, and fix the UTF-16 conversion
    code
        in fontconfig (#A.1411, Keith Packard, Jungshik Shin).

 src/fcstr.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dbc56f0b3f3383a61b0f5d282ed7ae732ae3856e
Author: Egbert Eich <eich@suse.de>
Date:   Wed Dec 4 10:28:03 2002 +0000

    574. Make RENDER optional for Xvfb. When RENDER is enabled add
    depth 32
        pixmap format to list of supported pixmaps (Egbert Eich).
    573. Fix va_args glitches for xterm/libfontconfig: 0 == (void*)0
    isn't true
        for all platforms (Egbert Eich).
    572. Fix lbxproxy to also build on platforms that don't have
    snprintf()
        (Egbert Eich).
    571. Fix va_args glitches in mkfontscale: arg stack isn't preserved
    after
        calling va_arg on all platforms (Egbert Eich).
    570. Fixed x11perf aa benchmarks to support non-default
    visuals/colormaps
        (Egbert Eich).

 fontconfig/fcprivate.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7657345c1031eacedd734ddbc62a29de776672f4
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 22 02:12:16 2002 +0000

    In debugging output, mark weakly bound values with (w)

 src/fcdbg.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 02c3d2e9eabcecdcc46bc166afc511b22f3ddbae
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 21 16:53:00 2002 +0000

    Use unique local Imake define for fonts.conf dir (#5482, Mike
    A. Harris)

 Imakefile | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 61afb67cd23d021b5b3806f6974e19a77a2ac4ef
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Nov 15 09:29:35 2002 +0000

    483. Fix fontconfig to obey NothingOutsideProjectRoot, so that the
        directory /usr/share/fonts is ignored in this case (#A.1325,
        Joe Moss).

 Imakefile | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 65fb1c65837edd07fb89d303155b10a38e00ecd7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 21 17:03:47 2002 +0000

    Elide historic cyrillic letters from several orthographies as they are
        unnecessary for modern documents and ill supported by fonts

 fc-lang/bua.orth |  6 +++---
 fc-lang/fclang.h | 14 +++++++-------
 fc-lang/kaa.orth |  6 +++---
 fc-lang/ky.orth  |  6 +++---
 fc-lang/ru.orth  | 10 +++++++---
 fc-lang/sah.orth |  6 +++---
 fc-lang/tk.orth  |  6 +++---
 fc-lang/tt.orth  |  6 +++---
 fc-lang/tyv.orth |  6 +++---
 9 files changed, 35 insertions(+), 31 deletions(-)

commit bff801144b226f5f3ddf4188f181ed3f629fdcab
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 11 17:53:03 2002 +0000

    Add a bunch more consts to Xft and fontconfig apis

 fontconfig/fcfreetype.h |  2 +-
 fontconfig/fontconfig.h | 20 ++++++++++----------
 src/fcpat.c             | 20 ++++++++++----------
 3 files changed, 21 insertions(+), 21 deletions(-)

commit 0ce819b6096ae852a1979fa6ebb3e29260848007
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Oct 3 22:06:27 2002 +0000

    Change comments a bit in fonts.conf.in

 fonts.conf.in | 7 +++++++
 1 file changed, 7 insertions(+)

commit 0d5af2ef2d9785efc29c909bc11f483069192c95
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 2 16:15:54 2002 +0000

    English orthography included 0xd. instead of 0xe. for several
    codepoints.
        Oops

 fc-lang/en.orth  | 8 ++++----
 fc-lang/fclang.h | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 1852d490352fdc05891b778a8769000816b907b0
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 2 07:11:30 2002 +0000

    Add FC_RGBA_UNKNOWN

 fontconfig/fontconfig.h | 5 +++--
 src/fcname.c            | 5 +++--
 src/fontconfig.man      | 4 +++-
 3 files changed, 9 insertions(+), 5 deletions(-)

commit 2d79b58621845f7d8efd6f052dcd8f4f1a4e03c3
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 26 00:30:30 2002 +0000

    Fix alignment issue on sparc

 src/fcpat.c | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit a342e87dc3d4211a29525654ff6b41d088bdce71
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 26 00:17:28 2002 +0000

    Add fontversion field

 fontconfig/fontconfig.h |  3 ++-
 src/fcdefault.c         |  6 +++++-
 src/fcfreetype.c        | 18 +++++++++++++++++-
 src/fcmatch.c           | 15 ++++++++++++---
 src/fcname.c            |  3 ++-
 5 files changed, 38 insertions(+), 7 deletions(-)

commit e712133ca7b6d9f055e7db2a7a3abf3034927e16
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 26 00:16:23 2002 +0000

    Was losing local cached dirs in global cache list

 src/fccache.c | 17 ++++++++---------
 src/fcdir.c   |  4 +++-
 src/fcint.h   | 10 ++++++----
 3 files changed, 17 insertions(+), 14 deletions(-)

commit ce50587c2b71390c6de35c7e13a8fc23a062eda0
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 26 00:13:39 2002 +0000

    Add a few more permissable blank glyphs

 fonts.conf.in | 6 ++++++
 1 file changed, 6 insertions(+)

commit d1bec8c66d729fe67992a0212b3dffa18879e88f
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Wed Sep 18 17:11:46 2002 +0000

    Pacify gcc 3.2

 fc-cache/fc-cache.c | 3 ++-
 src/fclist.c        | 4 ++--
 src/fcpat.c         | 4 ++--
 3 files changed, 6 insertions(+), 5 deletions(-)

commit 05336fd8bed5a5f3a6e1cbddb18a9bd9a4d2ebc7
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Thu Sep 12 20:56:03 2002 +0000

    Fix structure alignment and array wlk bugs

 src/fcpat.c | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 9cc935765e6f74a1712b04b6cbcfc5e77d1d38e1
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 7 19:43:41 2002 +0000

    Add a bunch more blank glyphs, plus label existing blanks with
    official
        unicode names

 fonts.conf.in | 66
 +++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 37 insertions(+), 29 deletions(-)

commit 10bac9b53f6b2494f05ff1c7c9ee0e3b0bd05c73
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 7 17:30:18 2002 +0000

    Found a few more blank glyphs to add

 fonts.conf.in | 4 ++++
 1 file changed, 4 insertions(+)

commit f9ad97b0d4be53164970ca0a8ff605670a60587c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 7 16:50:16 2002 +0000

    Add more blank glyphs to default config

 fonts.conf.in | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit c2022f999e0492d530925b0112ffd34ce146a8e3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 31 22:27:08 2002 +0000

    Update ChangeLog with a few notes

 ChangeLog | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 9dac3c594574f67f80d70ad3cdad42c551285ee8
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 31 22:17:32 2002 +0000

    More complete memory tracking. Install always overwrites header files

 fontconfig/Makefile.in | 17 ++++-------------
 src/fcatomic.c         |  8 +++++++-
 src/fcblanks.c         |  8 ++++++++
 src/fccache.c          | 37 +++++++++++++++++++++++++++----------
 src/fccfg.c            |  6 ++++--
 src/fccharset.c        | 10 +++++++---
 src/fcdir.c            |  3 ++-
 src/fcfreetype.c       |  8 +++++---
 src/fcinit.c           | 48
 ++++++++++++++++++++++++++++++------------------
 src/fcint.h            | 16 ++++++++++++++--
 src/fcmatch.c          |  3 ++-
 src/fcname.c           |  7 ++++++-
 src/fcpat.c            |  3 ++-
 src/fcstr.c            |  5 +++++
 src/fcxml.c            | 33 ++++++++++++++++++++++++++++-----
 15 files changed, 151 insertions(+), 61 deletions(-)

commit cb30af720468a7e89abdf65bbf62b8942d3d8c13
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 30 01:28:17 2002 +0000

    Update latin and cyrillic orthographies by comparing those found at
        evertype.com with those from eki.ee

 fc-lang/ab.orth  |    7 +-
 fc-lang/az.orth  |   65 ++-
 fc-lang/ba.orth  |   43 +-
 fc-lang/be.orth  |   20 +-
 fc-lang/bg.orth  |   21 +-
 fc-lang/br.orth  |   33 +-
 fc-lang/ca.orth  |   50 +-
 fc-lang/cs.orth  |   67 ++-
 fc-lang/da.orth  |   83 ++-
 fc-lang/de.orth  |   33 +-
 fc-lang/es.orth  |   42 +-
 fc-lang/et.orth  |   35 +-
 fc-lang/eu.orth  |   26 +-
 fc-lang/fclang.h | 1602
 ++++++++++++++++++++++++++----------------------------
 fc-lang/fi.orth  |   40 +-
 fc-lang/fo.orth  |   57 +-
 fc-lang/fy.orth  |   24 +-
 fc-lang/ga.orth  |   78 ++-
 fc-lang/gd.orth  |   23 +-
 fc-lang/gl.orth  |    7 +-
 fc-lang/hr.orth  |   33 +-
 fc-lang/hu.orth  |   13 +-
 fc-lang/is.orth  |   31 +-
 fc-lang/it.orth  |   24 +-
 fc-lang/kk.orth  |   15 +-
 fc-lang/kl.orth  |   35 +-
 fc-lang/lt.orth  |   11 +-
 fc-lang/lv.orth  |    7 +-
 fc-lang/mt.orth  |   50 +-
 fc-lang/nl.orth  |   27 +-
 fc-lang/no.orth  |   49 +-
 fc-lang/oc.orth  |   37 +-
 fc-lang/pl.orth  |   16 +-
 fc-lang/pt.orth  |   40 +-
 fc-lang/rm.orth  |   13 +-
 fc-lang/ro.orth  |    6 +-
 fc-lang/sk.orth  |   31 +-
 fc-lang/sl.orth  |   82 ++-
 fc-lang/sq.orth  |    7 +-
 fc-lang/sr.orth  |   25 +-
 fc-lang/sv.orth  |   76 ++-
 fc-lang/tr.orth  |   34 +-
 fc-lang/uk.orth  |   20 +-
 fc-lang/vot.orth |    5 +-
 44 files changed, 1799 insertions(+), 1244 deletions(-)

commit 2458a6d8d8bbd9b0b6b999c2aa035816c0d825fa
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 26 23:34:31 2002 +0000

    FcLangSetHasLang was not actually checking the language set itself

 ChangeLog    | 4 ++++
 src/fclang.c | 7 ++++---
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 5d6788ac7e35b9afb24de4f1e90d43715e50f64f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 26 20:52:59 2002 +0000

    Update ChangeLog, fix some bugs in the man page

 ChangeLog          |  3 +++
 src/fontconfig.man | 68
 +++++++++++++++++++++++++++++-------------------------
 2 files changed, 39 insertions(+), 32 deletions(-)

commit f21f40f347afa81d1fcd4ae604bd3f164a3b2e90
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 26 19:57:40 2002 +0000

    Append version number to cache file names

 fontconfig/fontconfig.h | 18 +++++++++++++++---
 src/fcdir.c             |  6 +++---
 src/fcint.h             |  2 +-
 src/fontconfig.man      |  5 +++--
 4 files changed, 22 insertions(+), 9 deletions(-)

commit 0f9a306e710b3c03cd82b8234ae840558d4b886f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 24 20:08:53 2002 +0000

    Add const to a bunch of string APIs

 fontconfig/fontconfig.h | 32 ++++++++++++++++----------------
 src/fcstr.c             | 46
 +++++++++++++++++++++++-----------------------
 2 files changed, 39 insertions(+), 39 deletions(-)

commit 47d4f9501fe21603feb5f3f233ea3bc6ec15f494
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 22 18:53:22 2002 +0000

    Add contains/not_contains, fix LangSet equal operator to use
    FcLangEqual

 ChangeLog    | 13 +++++++++++++
 fonts.dtd    |  6 ++++--
 src/fccfg.c  | 28 +++++++++++++++++++++-------
 src/fcdbg.c  |  9 ++++++---
 src/fcint.h  |  4 ++--
 src/fclang.c |  1 +
 src/fclist.c |  8 ++++----
 src/fcxml.c  | 19 ++++++++++++++++---
 8 files changed, 67 insertions(+), 21 deletions(-)

commit d8d7395877238acbc9cd4709e3b4e76f8ca978cb
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 22 07:36:45 2002 +0000

    Reimplement FC_LANG as FcTypeLang, freeze patterns, other cleanup

 ChangeLog               |  22 +-
 fc-lang/fc-lang.c       |  24 ++-
 fc-lang/fclang.h        | 556
 ++++++++++++++++++++++++------------------------
 fontconfig/fcprivate.h  |   5 +-
 fontconfig/fontconfig.h |  46 +++-
 src/fccache.c           |  16 +-
 src/fccfg.c             |  22 +-
 src/fccharset.c         |  80 ++++---
 src/fcdbg.c             |   5 +-
 src/fcfreetype.c        |  11 +-
 src/fcinit.c            |  14 +-
 src/fcint.h             |  35 +--
 src/fclang.c            | 431 ++++++++++++++++++++++++++++++++-----
 src/fclist.c            |   4 +-
 src/fcmatch.c           |  31 ++-
 src/fcname.c            |  29 ++-
 src/fcpat.c             | 301 +++++++++++++++++++++++++-
 src/fcstr.c             |  14 +-
 18 files changed, 1235 insertions(+), 411 deletions(-)

commit f4fe447f49171d4b0ad69c8efcbadc555f211efa
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 20 23:17:03 2002 +0000

    Memory leak in XML parsing of matrices (thanks Owen)

 src/fcxml.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fa244f3d8807415247c8aeb77145502b1cb9ace8
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 19 19:32:05 2002 +0000

    Various config changes plus a couple of optimizations from Owen

 ChangeLog               |  19 ++++++++
 config.h.in             |   9 ----
 config/Makedefs.in      |  25 +++++------
 configure.in            | 117
 ++++++++----------------------------------------
 fc-cache/Imakefile      |   2 +-
 fc-lang/Imakefile       |   4 +-
 fc-lang/ja.orth         |   4 +-
 fc-lang/ko.orth         |   5 ++-
 fc-lang/zh_cn.orth      |   5 ++-
 fc-lang/zh_sg.orth      |   4 +-
 fc-list/Imakefile       |   2 +-
 fontconfig/fcprivate.h  |   4 +-
 fontconfig/fontconfig.h |  18 ++++----
 fonts.conf.in           |  12 +++++
 src/Imakefile           |   2 +-
 src/fccache.c           |  69 +++++++++++++++++-----------
 src/fccfg.c             |  33 ++++++--------
 src/fcdbg.c             |   7 +--
 src/fclist.c            |   4 +-
 src/fcmatch.c           |   5 +--
 src/fcname.c            |   4 +-
 src/fcpat.c             |  43 +-----------------
 src/fcxml.c             |  17 +------
 src/fontconfig.man      |  22 ++++-----
 24 files changed, 159 insertions(+), 277 deletions(-)

commit 5d43e799197d2758102b699f9bc12b3c116a9b80
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 13 02:06:22 2002 +0000

    Make missing font directory messages only displayed when verbose

 fc-cache/fc-cache.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit eafc0e51af7ecb6ea7d33b59932212bdfd1d67ab
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 12 22:20:11 2002 +0000

    Clean up French orthography, update 639-1 list of supported languages

 fc-lang/fclang.h |   2 +-
 fc-lang/fr.orth  |  59 +++++++++++++++------------
 fc-lang/iso639-1 | 122
 +++++++++++++++++++++++++++----------------------------
 3 files changed, 95 insertions(+), 88 deletions(-)

commit 938bc63358c09b9fd3709e8f914870f906361594
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 11 18:11:04 2002 +0000

    Fix weird first/not-first lameness in font matches, replacing
    with target
        qualifiers on test elements. Update library manual page.

 fontconfig/fcprivate.h  |   5 +-
 fontconfig/fontconfig.h |  23 +++-
 fonts.conf.in           |   9 +-
 fonts.dtd               |   4 +
 src/fccfg.c             | 142 ++++++++-------------
 src/fcdbg.c             |  29 +++--
 src/fcint.h             |  19 ++-
 src/fclist.c            |   4 +-
 src/fcmatch.c           |  19 +--
 src/fcname.c            |   4 +-
 src/fcpat.c             |  43 ++++++-
 src/fcxml.c             |  33 ++++-
 src/fontconfig.man      | 332
 ++++++++++++++++++++++++++++++++++++++++++++----
 13 files changed, 510 insertions(+), 156 deletions(-)

commit 80a7d664395d62cc335ac93b9918efebca00c117
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 11 15:09:33 2002 +0000

    Help message said -v was for --force

 fc-cache/fc-cache.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8c8f72665a4d2eb7d56499dd8a876a9a2af8b153
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 8 00:10:51 2002 +0000

    Add Afar, Amharic, Aymara, Bini, Dzongkha, Fijian, Hiri Motu,
    Interlingua,
        Interlingue, Ido, Kikuyu, Burmese, Oromo, Somali, Swahili,
        Tigrinya,
        Tsonga, Twi, Uighur, Urdu, Xhosa and Zulu orthographies

 fc-lang/Imakefile |   42 +-
 fc-lang/aa.orth   |   40 ++
 fc-lang/am.orth   |   28 +
 fc-lang/ay.orth   |   37 ++
 fc-lang/bin.orth  |   55 ++
 fc-lang/dz.orth   |   28 +
 fc-lang/fclang.h  | 1752
 +++++++++++++++++++++++++++++------------------------
 fc-lang/fj.orth   |   34 ++
 fc-lang/ho.orth   |   33 +
 fc-lang/ia.orth   |   29 +
 fc-lang/ie.orth   |   29 +
 fc-lang/io.orth   |   29 +
 fc-lang/iso639-2  |   48 +-
 fc-lang/ki.orth   |   33 +
 fc-lang/my.orth   |   37 ++
 fc-lang/om.orth   |   29 +
 fc-lang/so.orth   |   29 +
 fc-lang/sw.orth   |   29 +
 fc-lang/ti.orth   |   28 +
 fc-lang/ts.orth   |   29 +
 fc-lang/tw.orth   |   50 ++
 fc-lang/ug.orth   |   29 +
 fc-lang/ur.orth   |   29 +
 fc-lang/xh.orth   |   29 +
 fc-lang/zu.orth   |   29 +
 25 files changed, 1718 insertions(+), 846 deletions(-)

commit 0d91b3c5ee667c4ea997b99f69d73076a3d84d42
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Aug 7 17:34:15 2002 +0000

    Add Asturian, Old Church Slavonic, Friulian, Manx Gaelic, Cornish,
    Scots,
        Syriac and Votic orthographies

 fc-lang/Imakefile |   39 +-
 fc-lang/ast.orth  |   47 ++
 fc-lang/cu.orth   |   42 ++
 fc-lang/fclang.h  | 1776
 ++++++++++++++++++++++++++++-------------------------
 fc-lang/fur.orth  |   39 ++
 fc-lang/fy.orth   |   26 +-
 fc-lang/gv.orth   |   31 +
 fc-lang/iso639-2  |   20 +-
 fc-lang/kw.orth   |   35 ++
 fc-lang/sco.orth  |   32 +
 fc-lang/syr.orth  |   29 +
 fc-lang/to.orth   |    4 +-
 fc-lang/vot.orth  |   37 ++
 13 files changed, 1300 insertions(+), 857 deletions(-)

commit bd724c85969f7c24cf17b8780217c5a428555ea4
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Aug 7 01:45:59 2002 +0000

    Short circuit FcPatternEqual when both args point at the same pattern

 src/fcpat.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 0e344dec0b124c38e6193cc4208e06662acd32f1
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 6 19:54:10 2002 +0000

    Update fontconfig manual to match current bits

 src/fontconfig.man | 100
 ++++++++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 83 insertions(+), 17 deletions(-)

commit bb356b68ab0981dd9ec21ed8176dc80ad0580805
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 6 19:00:43 2002 +0000

    Uninitialized member of cache structure could lead to non-updated
    cache
        files

 src/fccache.c | 1 +
 1 file changed, 1 insertion(+)

commit 4534f30d2175966409af158c0a9efee678937bfd
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 6 18:59:59 2002 +0000

    Fix Imakefile to make fclang.h writable

 fc-lang/Imakefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eb2a2f838fa358bfbac69ebca4d716b70f4d294c
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 6 18:59:43 2002 +0000

    Add Latin-1 characters needed by Welsh

 fc-lang/cy.orth  |   17 +-
 fc-lang/fclang.h | 1430
 +++++++++++++++++++++++++++---------------------------
 2 files changed, 733 insertions(+), 714 deletions(-)

commit a6531d8cbafd79f26d06b086cceccb461e661f4a
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 1 16:17:33 2002 +0000

    Always install fonts.conf and fonts.dtd, moving any existing
    fonts.conf to
        fonts.conf.bak. Add ~/.fonts to default font directories and
        add some
        useful comments to fonts.conf

 Imakefile     | 17 +++++++++++++++--
 fonts.conf.in | 12 ++++++++++++
 setfontdirs   |  2 ++
 3 files changed, 29 insertions(+), 2 deletions(-)

commit aefb2c41c85f1b615e922c636bc7ac1eeb9e535c
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 1 15:57:26 2002 +0000

    Fix autoconf build BSD install and sysconfdir problems

 ChangeLog              | 17 +++++++++++++++++
 Makefile.in            | 10 +++++-----
 config.h.in            |  3 +++
 config/Makedefs.in     |  5 +++--
 configure.in           | 14 +++++++++++++-
 fc-cache/Makefile.in   |  4 ++--
 fc-list/Makefile.in    |  4 ++--
 fontconfig/Makefile.in |  8 ++++----
 src/Makefile.in        |  2 +-
 9 files changed, 50 insertions(+), 17 deletions(-)

commit c2e9d0240b52adf9f0efd42a8be600f652086c32
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Thu Aug 1 01:35:02 2002 +0000

    Warning fix

 fontconfig/fontconfig.h | 5 ++++-
 src/fcint.h             | 5 +----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 6fff2cda0ad09dfc84df2a70e95258b9dd28160b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 31 01:36:37 2002 +0000

    Add binding property to edit element

 fonts.conf.in | 12 +++++++++---
 fonts.dtd     |  3 ++-
 src/fccfg.c   |  8 ++++----
 src/fcint.h   |  3 ++-
 src/fcxml.c   | 35 ++++++++++++++++++++++++++++-------
 5 files changed, 45 insertions(+), 16 deletions(-)

commit 327a7fd491f17f23e37e260f8d74397e2ef933aa
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jul 28 10:50:59 2002 +0000

    Rewrite global cache handling code in fontconfig to eliminate per-file
        syscalls

 fontconfig/fontconfig.h |   5 +-
 src/fccache.c           | 968
 +++++++++++++++++++++++++++++++-----------------
 src/fccfg.c             |  23 +-
 src/fcdir.c             | 183 +++++----
 src/fcint.h             | 126 +++++--
 src/fcmatrix.c          |   9 +-
 6 files changed, 830 insertions(+), 484 deletions(-)

commit 23cd70c4ef2b5c959959275d9d7f282029ae69f5
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 27 23:13:28 2002 +0000

    Add ngai tahu specific chars to maori orthography

 fc-lang/Imakefile |   1 +
 fc-lang/fclang.h  | 802
 +++++++++++++++++++++++++++---------------------------
 fc-lang/mi.orth   |   1 +
 3 files changed, 405 insertions(+), 399 deletions(-)

commit 1a9ae91a1693df1bfe93f34747584b0ff5dce014
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 17 17:51:52 2002 +0000

    Add fclang.c to Makefile.in

 src/Makefile.in | 2 ++
 1 file changed, 2 insertions(+)

commit 6864f6279297a59ff509e5454fdebb77ac64e530
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 13 20:33:05 2002 +0000

    Trim ja orthography of a couple codepoints not found in kochi fonts

 fc-lang/fclang.h | 4 ++--
 fc-lang/ja.orth  | 6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 1a0ee1e7c1b5872b1f46c7cdd8d8504150022189
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 13 19:10:03 2002 +0000

    Fix typo in geez (ethiopic) orthography

 fc-lang/fclang.h | 2 +-
 fc-lang/gez.orth | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 69937bd9416eb3fbefd55b9fa6445d0fe4b4f7f3
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 13 05:43:25 2002 +0000

    Add some Utf16 support, extract font family and style names from
    name table
        for sfnt fonts

 fontconfig/fontconfig.h |  23 +++-
 src/fccharset.c         |  40 ++++--
 src/fcfreetype.c        | 342
 ++++++++++++++++++++++++++++++++++++++++++++++--
 src/fcint.h             |  11 ++
 src/fcstr.c             |  99 +++++++++++++-
 5 files changed, 495 insertions(+), 20 deletions(-)

commit c80d2ac4866d4c534a8693d611ed85b84c11d009
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 12 21:06:03 2002 +0000

    Clean up some coverage files; a few accidentally included PUA
    values and
        punctuation. Add debugging stuff to dump out missing codepoints
        during
        cache building when missing only a few

 fc-lang/bg.orth  |   13 +-
 fc-lang/bi.orth  |   10 +-
 fc-lang/bo.orth  |   17 +-
 fc-lang/el.orth  |   20 +-
 fc-lang/fclang.h | 1630
 ++++++++++++++++++++++++++----------------------------
 fc-lang/ga.orth  |    4 +-
 fc-lang/gn.orth  |    4 +-
 fc-lang/hy.orth  |    6 +-
 fc-lang/km.orth  |    6 +-
 fc-lang/ko.orth  |  128 ++---
 fc-lang/lb.orth  |   10 +-
 fc-lang/mg.orth  |    6 +-
 fc-lang/mh.orth  |   14 +-
 fc-lang/mk.orth  |   12 +-
 fc-lang/mn.orth  |   14 +-
 fc-lang/mo.orth  |    4 +-
 fc-lang/ro.orth  |    4 +-
 fc-lang/si.orth  |    8 +-
 fc-lang/tl.orth  |   11 +-
 fc-lang/yo.orth  |   80 +--
 src/fclang.c     |   33 +-
 21 files changed, 1017 insertions(+), 1017 deletions(-)

commit b4a2c1f012c9c05cd14e43544570371ba2ca1134
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 12 19:19:16 2002 +0000

    Add a bunch more languages that use the Latin alphabet

 fc-lang/Imakefile |   35 +-
 fc-lang/af.orth   |   46 ++
 fc-lang/bam.orth  |   37 ++
 fc-lang/bi.orth   |   39 ++
 fc-lang/bs.orth   |   39 ++
 fc-lang/ch.orth   |   35 +
 fc-lang/cy.orth   |   48 ++
 fc-lang/fclang.h  | 1900
 +++++++++++++++++++++++++++++++++--------------------
 fc-lang/ful.orth  |   38 ++
 fc-lang/gn.orth   |   48 ++
 fc-lang/ha.orth   |   36 +
 fc-lang/haw.orth  |   35 +
 fc-lang/ibo.orth  |   35 +
 fc-lang/id.orth   |   31 +
 fc-lang/iso639-2  |   64 +-
 fc-lang/lb.orth   |   60 ++
 fc-lang/mg.orth   |   35 +
 fc-lang/mh.orth   |   45 ++
 fc-lang/mi.orth   |   34 +
 fc-lang/ny.orth   |   30 +
 fc-lang/se.orth   |   37 ++
 fc-lang/sm.orth   |   30 +
 fc-lang/sma.orth  |   37 ++
 fc-lang/smj.orth  |   37 ++
 fc-lang/smn.orth  |   40 ++
 fc-lang/sms.orth  |   48 ++
 fc-lang/tn.orth   |   33 +
 fc-lang/to.orth   |   30 +
 fc-lang/ven.orth  |   34 +
 fc-lang/vi.orth   |   58 ++
 fc-lang/wen.orth  |   42 ++
 fc-lang/wo.orth   |   42 ++
 fc-lang/yap.orth  |   35 +
 fc-lang/yo.orth   |   86 +++
 src/fcxml.c       |   12 +-
 35 files changed, 2522 insertions(+), 749 deletions(-)

commit 3f03d0c2ac9ec2050abf56b4ce48fff987b55ac0
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 12 09:13:32 2002 +0000

    Add nynorsk and bokml, remove double angle quotes from other languages

 fc-lang/Imakefile |  31 +-
 fc-lang/ab.orth   |   6 +-
 fc-lang/ba.orth   |   6 +-
 fc-lang/be.orth   |   6 +-
 fc-lang/br.orth   |   8 +-
 fc-lang/da.orth   |   6 +-
 fc-lang/de.orth   |   6 +-
 fc-lang/fclang.h  | 854
 +++++++++++++++++++++++++++---------------------------
 fc-lang/fr.orth   |  10 +-
 fc-lang/gl.orth   |  10 +-
 fc-lang/iso639-2  |   4 +-
 fc-lang/kk.orth   |   6 +-
 fc-lang/kl.orth   |   6 +-
 fc-lang/nb.orth   |  25 ++
 fc-lang/nn.orth   |  43 +++
 fc-lang/no.orth   |   6 +-
 fc-lang/ru.orth   |   6 +-
 fc-lang/uk.orth   |   6 +-
 18 files changed, 565 insertions(+), 480 deletions(-)

commit c2b971c89819281be41584720d20648fe5d1627f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 12 07:58:16 2002 +0000

    Missed adding kumyk

 fc-lang/Imakefile | 19 +++++------
 fc-lang/fclang.h  | 74 +++++++++++++++++++++---------------------
 fc-lang/iso639-2  |  2 +-
 fc-lang/kum.orth  | 96
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 145 insertions(+), 46 deletions(-)

commit f749c49cb4ebe181de145440246d3110f7052f24
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 12 07:52:16 2002 +0000

    Add devanagari and cyrillic languages. Add Geez

 fc-lang/Imakefile |   36 +-
 fc-lang/ava.orth  |   97 ++++
 fc-lang/bh.orth   |   25 +
 fc-lang/bho.orth  |   25 +
 fc-lang/bua.orth  |  102 ++++
 fc-lang/ce.orth   |   97 ++++
 fc-lang/chm.orth  |  109 ++++
 fc-lang/cv.orth   |  109 ++++
 fc-lang/fclang.h  | 1612
 +++++++++++++++++++++++++++++++----------------------
 fc-lang/gez.orth  |   57 ++
 fc-lang/hi.orth   |   35 ++
 fc-lang/ik.orth   |  100 ++++
 fc-lang/iso639-2  |   54 +-
 fc-lang/iu.orth   |   77 +++
 fc-lang/kaa.orth  |  110 ++++
 fc-lang/kok.orth  |   25 +
 fc-lang/ks.orth   |   25 +
 fc-lang/ku.orth   |   94 ++++
 fc-lang/kv.orth   |  101 ++++
 fc-lang/ky.orth   |  102 ++++
 fc-lang/lez.orth  |   97 ++++
 fc-lang/mr.orth   |   25 +
 fc-lang/ne.orth   |   25 +
 fc-lang/os.orth   |   96 ++++
 fc-lang/sa.orth   |   25 +
 fc-lang/sah.orth  |  108 ++++
 fc-lang/sel.orth  |   96 ++++
 fc-lang/tg.orth   |  108 ++++
 fc-lang/tk.orth   |  106 ++++
 fc-lang/tt.orth   |  108 ++++
 fc-lang/tyv.orth  |  102 ++++
 fc-lang/uz.orth   |   98 ++++
 32 files changed, 3278 insertions(+), 708 deletions(-)

commit 2ce525423688d32b80587741d97a82209e52378c
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 11 02:47:50 2002 +0000

    Remove old FC_LANG constants now that fontconfig uses RFC 3066
    based names

 fontconfig/fontconfig.h | 42 +-----------------------------------------
 1 file changed, 1 insertion(+), 41 deletions(-)

commit 1bae57ddc82cc151bb7f0b6f2e75cc860a2b0608
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 10 21:57:23 2002 +0000

    Use presentation forms for arabic matching, fix comment labeling
    persian
        general forms

 fc-lang/ar.orth  | 114
 +++++++++++++++++++++++++++++++------------------------
 fc-lang/fa.orth  |   4 +-
 fc-lang/fclang.h |   4 +-
 3 files changed, 69 insertions(+), 53 deletions(-)

commit e709ddfa10410f6e042a36fcf7d0cd1a40f84fad
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 9 22:08:14 2002 +0000

    Use locale data set FC_LANG by default. Reorder FcPattern and
    FcValueList
        to match Xft1.

 src/fcdefault.c | 53
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcint.h     |  4 ++--
 2 files changed, 55 insertions(+), 2 deletions(-)

commit 2fcac34973eb9d62280ab7392566a35cb9ceac3d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 9 02:28:29 2002 +0000

    Trim ideographic punctuation and Suzhou numerals from zh-tw
    orthography.
        Had accidentally swapped codePageRange bits for traditional and
        simplified chinese. Add persian (fa) and HKSCS (zh-hk). Fix
        possible
        bug in charset walking

 fc-lang/Imakefile  |   18 +-
 fc-lang/fa.orth    |   53 ++
 fc-lang/fclang.h   | 1554 ++++++++++++++++++++++--------------
 fc-lang/iso639-2   |    4 +-
 fc-lang/zh_hk.orth | 2240
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 fc-lang/zh_tw.orth |   33 +-
 src/fccharset.c    |    4 +-
 src/fcfreetype.c   |    6 +-
 8 files changed, 3292 insertions(+), 620 deletions(-)

commit e50b9ae71134a23820e8f50589649e629a6143ba
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 8 07:31:53 2002 +0000

    Update iso639-2 language coverage info, fix Georgian orthography to
        eliminate Mingrelian and Svan glyphs, use coverage for inclusion
        and
        OS/2 for Han exclusion, restructure fclang.c to use fclang.h from
        fc-lang dir

 fc-lang/Imakefile     |    8 +-
 fc-lang/fclang.h      | 2624
 ++++++++++++++++++++++++++++++++++++++++++++++++
 fc-lang/fclang.tmpl.c |  130 ---
 fc-lang/fclang.tmpl.h |   25 +
 fc-lang/iso639-2      |   30 +-
 fc-lang/ka.orth       |    5 +-
 fc-lang/zh_mo.orth    |   27 +
 fc-lang/zh_sg.orth    |   27 +
 src/fcfreetype.c      |  238 +----
 src/fcint.h           |    9 +-
 src/fclang.c          | 2632
 +------------------------------------------------
 11 files changed, 2794 insertions(+), 2961 deletions(-)

commit d6dabf368677babec02d8f64ba0598270e28b501
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jul 7 19:30:53 2002 +0000

    Add walloon, update fclang.c to include recent language additions

 fc-lang/Imakefile |    4 +-
 fc-lang/wa.orth   |   47 ++
 src/fclang.c      | 1252
 ++++++++++++++++++++++++++++++-----------------------
 3 files changed, 757 insertions(+), 546 deletions(-)

commit 2903c146aa990cddd56926cef4a2e2f2bcb70e06
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jul 7 19:18:51 2002 +0000

    Share more duplicate charset data

 fc-lang/Imakefile | 19 ++++++++++---------
 fc-lang/bn.orth   | 41 +++++++++++++++++++++++++++++++++++++++++
 fc-lang/bo.orth   | 30 ++++++++++++++++++++++++++++++
 fc-lang/fc-lang.c | 28 ++++++++++++++++++++++++++--
 fc-lang/gu.orth   | 41 +++++++++++++++++++++++++++++++++++++++++
 fc-lang/iso639-2  | 26 +++++++++++++-------------
 fc-lang/km.orth   | 29 +++++++++++++++++++++++++++++
 fc-lang/kn.orth   | 40 ++++++++++++++++++++++++++++++++++++++++
 fc-lang/lo.orth   | 45 +++++++++++++++++++++++++++++++++++++++++++++
 fc-lang/ml.orth   | 38 ++++++++++++++++++++++++++++++++++++++
 fc-lang/mn.orth   | 31 +++++++++++++++++++++++++++++++
 fc-lang/or.orth   | 41 +++++++++++++++++++++++++++++++++++++++++
 fc-lang/si.orth   | 38 ++++++++++++++++++++++++++++++++++++++
 fc-lang/ta.orth   | 43 +++++++++++++++++++++++++++++++++++++++++++
 fc-lang/te.orth   | 39 +++++++++++++++++++++++++++++++++++++++
 fc-lang/tl.orth   | 29 +++++++++++++++++++++++++++++
 16 files changed, 534 insertions(+), 24 deletions(-)

commit 3de8881ec96e2ce5f9d871ad46371e301b107dab
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jul 7 00:00:43 2002 +0000

    Add fclang.c to CVS; easier than attempting to build it on the fly

 src/fclang.c | 2561
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 2561 insertions(+)

commit 6446b1511df528082d2ac9ff31617013b311aa09
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 6 23:59:19 2002 +0000

    Remove at and grave from latin languages, add copyright, license
    and RCS
        header

 fc-lang/Imakefile  |  2 ++
 fc-lang/ab.orth    | 23 +++++++++++++++++++++++
 fc-lang/ar.orth    | 23 +++++++++++++++++++++++
 fc-lang/az.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/ba.orth    | 23 +++++++++++++++++++++++
 fc-lang/be.orth    | 23 +++++++++++++++++++++++
 fc-lang/bg.orth    | 23 +++++++++++++++++++++++
 fc-lang/br.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/ca.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/chr.orth   | 23 +++++++++++++++++++++++
 fc-lang/co.orth    | 23 +++++++++++++++++++++++
 fc-lang/cs.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/da.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/de.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/el.orth    | 23 +++++++++++++++++++++++
 fc-lang/en.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/eo.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/es.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/et.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/eu.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/fi.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/fo.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/fr.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/fy.orth    | 23 +++++++++++++++++++++++
 fc-lang/ga.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/gd.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/gl.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/he.orth    | 23 +++++++++++++++++++++++
 fc-lang/hr.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/hu.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/hy.orth    | 23 +++++++++++++++++++++++
 fc-lang/is.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/it.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/ja.orth    | 23 +++++++++++++++++++++++
 fc-lang/ka.orth    | 23 +++++++++++++++++++++++
 fc-lang/kk.orth    | 23 +++++++++++++++++++++++
 fc-lang/kl.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/ko.orth    | 23 +++++++++++++++++++++++
 fc-lang/la.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/lt.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/lv.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/mk.orth    | 23 +++++++++++++++++++++++
 fc-lang/mo.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/mt.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/nl.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/no.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/oc.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/pl.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/pt.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/rm.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/ro.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/ru.orth    | 23 +++++++++++++++++++++++
 fc-lang/sh.orth    | 23 +++++++++++++++++++++++
 fc-lang/sk.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/sl.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/sq.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/sr.orth    | 23 +++++++++++++++++++++++
 fc-lang/sv.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/th.orth    | 23 +++++++++++++++++++++++
 fc-lang/tr.orth    | 27 +++++++++++++++++++++++++--
 fc-lang/uk.orth    | 23 +++++++++++++++++++++++
 fc-lang/vo.orth    | 23 +++++++++++++++++++++++
 fc-lang/yi.orth    | 23 +++++++++++++++++++++++
 fc-lang/zh_cn.orth | 23 +++++++++++++++++++++++
 fc-lang/zh_tw.orth | 23 +++++++++++++++++++++++
 65 files changed, 1552 insertions(+), 78 deletions(-)

commit 82f4243f220dda5f6d4759e3b9c182b537cf0219
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 6 23:47:44 2002 +0000

    Switch to RFC 3066 based lang names

 fontconfig/fontconfig.h |   5 +-
 src/Imakefile           |   8 +-
 src/fccharset.c         |   8 +-
 src/fcfreetype.c        | 406
 ++++++++++++++++++++++++------------------------
 src/fcint.h             |  28 ++++
 src/fcmatch.c           |  43 ++++-
 src/fcpat.c             |  22 ++-
 src/fcstr.c             |  25 ++-
 8 files changed, 330 insertions(+), 215 deletions(-)

commit 899e352656f04323b9467555faf9152c69a741ab
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 6 23:46:58 2002 +0000

    Add a few more common font families to the default configuration

 fonts.conf.in | 7 +++++++
 1 file changed, 7 insertions(+)

commit 364a581d91eac73a5b1810d9c5100b6eb690219f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 6 23:22:03 2002 +0000

    Add coverage documentation files

 fc-lang/iso639-1 | 139 ++++++++++++++++
 fc-lang/iso639-2 | 473
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 612 insertions(+)

commit c1382a3d998d098d3b86c922820558849c777c45
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 6 23:21:37 2002 +0000

    Add fc-lang program to generate language coverage tables

 fc-lang/Imakefile     |    44 +
 fc-lang/ab.orth       |    17 +
 fc-lang/ar.orth       |    49 +
 fc-lang/az.orth       |    26 +
 fc-lang/ba.orth       |    16 +
 fc-lang/be.orth       |    11 +
 fc-lang/bg.orth       |    12 +
 fc-lang/br.orth       |    17 +
 fc-lang/ca.orth       |    23 +
 fc-lang/chr.orth      |     2 +
 fc-lang/co.orth       |     2 +
 fc-lang/cs.orth       |    27 +
 fc-lang/da.orth       |    27 +
 fc-lang/de.orth       |    17 +
 fc-lang/el.orth       |    26 +
 fc-lang/en.orth       |    17 +
 fc-lang/eo.orth       |     9 +
 fc-lang/es.orth       |    19 +
 fc-lang/et.orth       |    15 +
 fc-lang/eu.orth       |     8 +
 fc-lang/fc-lang.c     |   295 +
 fc-lang/fc-lang.man   |    41 +
 fc-lang/fclang.tmpl.c |   130 +
 fc-lang/fi.orth       |    15 +
 fc-lang/fo.orth       |    25 +
 fc-lang/fr.orth       |    28 +
 fc-lang/fy.orth       |     2 +
 fc-lang/ga.orth       |    29 +
 fc-lang/gd.orth       |    15 +
 fc-lang/gl.orth       |    22 +
 fc-lang/he.orth       |     2 +
 fc-lang/hr.orth       |    21 +
 fc-lang/hu.orth       |    19 +
 fc-lang/hy.orth       |     5 +
 fc-lang/is.orth       |    26 +
 fc-lang/it.orth       |    14 +
 fc-lang/ja.orth       |  6540 +++++++++++++++++++
 fc-lang/ka.orth       |     9 +
 fc-lang/kk.orth       |    15 +
 fc-lang/kl.orth       |    23 +
 fc-lang/ko.orth       | 16217
 ++++++++++++++++++++++++++++++++++++++++++++++++
 fc-lang/la.orth       |     8 +
 fc-lang/lt.orth       |    13 +
 fc-lang/lv.orth       |    16 +
 fc-lang/mk.orth       |    15 +
 fc-lang/mo.orth       |    14 +
 fc-lang/mt.orth       |    18 +
 fc-lang/nl.orth       |    15 +
 fc-lang/no.orth       |    18 +
 fc-lang/oc.orth       |    15 +
 fc-lang/pl.orth       |    10 +
 fc-lang/pt.orth       |    19 +
 fc-lang/rm.orth       |    15 +
 fc-lang/ro.orth       |    11 +
 fc-lang/ru.orth       |    11 +
 fc-lang/sh.orth       |     2 +
 fc-lang/sk.orth       |    29 +
 fc-lang/sl.orth       |    21 +
 fc-lang/sq.orth       |     7 +
 fc-lang/sr.orth       |    11 +
 fc-lang/sv.orth       |    21 +
 fc-lang/th.orth       |     3 +
 fc-lang/tr.orth       |    12 +
 fc-lang/uk.orth       |    12 +
 fc-lang/vo.orth       |    13 +
 fc-lang/yi.orth       |     2 +
 fc-lang/zh_cn.orth    |  6766 ++++++++++++++++++++
 fc-lang/zh_tw.orth    | 13079 ++++++++++++++++++++++++++++++++++++++
 68 files changed, 44053 insertions(+)

commit 084407063d0069b16b24e1fd8be818af12e36741
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 3 23:15:32 2002 +0000

    Object list to FcObjectSetBuild wasnt terminated with 0

 fc-list/fc-list.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f9dc31e81cd27be1bcb72706ac667889840f60bb
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Mon Jul 1 12:39:23 2002 +0000

    Indent line

 fc-list/Imakefile | 2 ++
 1 file changed, 2 insertions(+)

commit 8ea04b7956bd148607ae4179584dd0c8aa60b41d
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Mon Jul 1 12:38:27 2002 +0000

    Ident line

 fc-cache/Imakefile | 2 ++
 1 file changed, 2 insertions(+)

commit ad07dcf486fe476ffccaa0d91df3836bfa4f4bd8
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 1 05:11:20 2002 +0000

    Make fc-cache avoid reading the whole world full of fonts

 fc-cache/fc-cache.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit e6099fe9799e79a467698f7e0ddb693fae5d7d2f
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 30 23:45:40 2002 +0000

    Make fc-list more useful

 fc-list/fc-list.c | 20 ++++++++++++++++----
 1 file changed, 16 insertions(+), 4 deletions(-)

commit bdcdaceda4154ea6aaed224d3bf62a578a1f6986
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 30 23:45:17 2002 +0000

    Add FC_LANG_UNKNOWN (needed by auto lang-detecting fcfreetype.c)

 fontconfig/fontconfig.h | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4c0036053a36678747adfd06777cef39752ca9a4
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jun 29 20:31:02 2002 +0000

    Add strong/weak pattern value binding, add known charsets for
    automatic
        lang computation

 src/fccfg.c       |    3 +-
 src/fccharset.c   |   40 +-
 src/fcfreetype.c  |  235 ++++++-
 src/fcint.h       |   15 +-
 src/fcknownsets.h | 1895
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcmatch.c     |  112 ++--
 src/fcname.c      |    7 +-
 src/fcpat.c       |    3 +-
 8 files changed, 2222 insertions(+), 88 deletions(-)

commit 5c7fb8274ce9c2c561cbcf73b9ee98003f516a9b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 26 22:56:51 2002 +0000

    Construct empty constant charsets correctly (using null pointers)

 src/fccharset.c | 18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit c552f59ba27ab1a526238f6ff4d15a2b9a975a7f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 26 22:14:08 2002 +0000

    Permit empty charsets in fonts.cache files

 src/fcname.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 223c028949c1ef316c93bea17278f58150c777ee
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 26 16:11:29 2002 +0000

    Steal idea for locale-insensitive strtod from glib

 src/fcxml.c | 59
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 57 insertions(+), 2 deletions(-)

commit 4aded3e0ddca84b1fb0ce11541eb19b155472e83
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jun 21 07:01:11 2002 +0000

    Oops. Made a mistake when adding config file names to monitor list

 src/fcxml.c | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 4645eedfcc7e36751503bf023a0d1db2a993ad52
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jun 21 06:14:45 2002 +0000

    Fix automatic file time checking, transcoding table searches. Actually
    add
        config files used to config structure so they can be time
        checked as
        well

 src/fccfg.c     | 31 ++++++++++++++-----------------
 src/fccharset.c | 11 +++--------
 src/fcxml.c     |  5 ++++-
 3 files changed, 21 insertions(+), 26 deletions(-)

commit 8c96d1fc1005fda794ab30349eb91132fb8f341e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 20 03:43:09 2002 +0000

    Accidentally falling through several case blocks

 src/fccfg.c | 3 ++-
 src/fcdbg.c | 6 +++---
 2 files changed, 5 insertions(+), 4 deletions(-)

commit c689ec2291d52a3c9ab998c9a25c0c9c78991921
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 19 21:32:51 2002 +0000

    Add slanting for fonts without oblique/italic varient. Fix matching
    code to
        make this work

 fonts.conf.in | 28 ++++++++++++++++++++++++++++
 src/fcmatch.c |  4 ++--
 2 files changed, 30 insertions(+), 2 deletions(-)

commit 0c35c0facb1f05a21f702636a291eb6ee3dea3a2
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 19 20:55:19 2002 +0000

    Make fc-cache more tolerant of missing font directories

 fc-cache/fc-cache.c | 28 ++++++++++++++++++++++++++--
 1 file changed, 26 insertions(+), 2 deletions(-)

commit 6f6563edb5eb0fc22b338101b82bd8b7db438e3a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 19 20:08:22 2002 +0000

    Add ref counting to font config patterns so that FcFontSort return
    values
        are persistant

 fontconfig/fontconfig.h |  5 ++++-
 fonts.dtd               |  5 ++++-
 src/fccache.c           | 11 +++++++++--
 src/fccfg.c             |  4 ++++
 src/fcdbg.c             |  8 +++++++-
 src/fcdir.c             |  5 +++--
 src/fcint.h             |  9 +++++----
 src/fclist.c            |  2 +-
 src/fcmatch.c           | 21 +++++++++++++++++++--
 src/fcname.c            |  3 ++-
 src/fcpat.c             | 12 +++++++++++-
 src/fcxml.c             |  4 ++++
 12 files changed, 73 insertions(+), 16 deletions(-)

commit 06a48f20739580338e69547c9896c539abf000dd
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 19 06:31:46 2002 +0000

    Add a few aliases suggested by Owen and Mike

 fonts.conf.in | 19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit f534109f5aa44ffeb43acbe06b409e6a15239ac9
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 18 22:23:05 2002 +0000

    Add a few more families to fonts.conf, make FC_ANTIALIAS less
    important for
        matching, fix family->generic mapping

 src/fccfg.c   |  7 ++++---
 src/fcmatch.c | 22 +++++++++++-----------
 2 files changed, 15 insertions(+), 14 deletions(-)

commit 2623c1ebeec46c56cc8e1d1e3e8ddf4a44931f8d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 18 16:47:33 2002 +0000

    Fix compiler warning

 src/fcxml.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5b1bfa5d82aeb67056a38e93e22f69c4bfe4ce5b
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 18 16:47:12 2002 +0000

    Fix incorrect size in memmove call in FcObjectSetAdd that crashed
        FcFontSetList calls

 src/fclist.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c0d42979ad06db34b5b4aad7052716797dc2f6a6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jun 8 18:46:35 2002 +0000

    Fix fontconfig.pc generation in Imakefile

 Imakefile | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d0f07b8d582499fdc6fa0ca6c5e2ef3727baddae
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jun 8 17:32:05 2002 +0000

    Add FcPatternHash, clean up a few valgrind issues

 fontconfig/fontconfig.h |  3 ++
 src/fccfg.c             |  2 +-
 src/fcmatch.c           | 11 ++++---
 src/fcpat.c             | 78
 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcxml.c             | 13 ++++++++-
 5 files changed, 101 insertions(+), 6 deletions(-)

commit 8a39040e2a1308602aabe1aa4a8608f94830534e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jun 7 17:55:41 2002 +0000

    Make autoconf use correct options to build solaris shared libraries

 configure.in | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit b5b6d7f85dba271e69b8008b3c56f13c74ec9dac
Author: David Dawes <dawes@xfree86.org>
Date:   Tue Jun 4 21:55:42 2002 +0000

    171. Fix LIBXML2LIBDIR name clash in lib/Imakefile (#5180, ISHIKAWA
        Mutsumi).
    170. Avoid a problem with setfontdirs when run in some locales (#5179,
        ISHIKAWA Mutsumi).
    169. A little tuning for XtAppPeekEvent() (#5178, Dan McNichol).

 setfontdirs | 5 +++++
 1 file changed, 5 insertions(+)

commit e9be9cd10a24b75480a26be834041d312d8217b4
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 3 08:31:15 2002 +0000

    Add FcPatternEqualSubset for Pango, clean up some internal FcPattern
        interfaces

 fontconfig/fontconfig.h |   7 ++-
 src/fccfg.c             |  12 ++--
 src/fcint.h             |   7 ++-
 src/fclist.c            |  72 ++++++++++++++--------
 src/fcmatch.c           |   6 +-
 src/fcname.c            |   8 +--
 src/fcpat.c             | 161
 +++++++++++++++++++++++++++++-------------------
 7 files changed, 166 insertions(+), 107 deletions(-)

commit 88c747e20612ffcae326313f8d624b36c1235993
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 2 21:07:57 2002 +0000

    Eliminate some compiler warnings, avoid seg fault when matching
    missing
        values

 src/fccfg.c   | 4 ++--
 src/fcdbg.c   | 5 ++++-
 src/fclist.c  | 4 +++-
 src/fcmatch.c | 4 ++--
 src/fcname.c  | 4 +++-
 5 files changed, 14 insertions(+), 7 deletions(-)

commit 2a41214a25ec902ac79d0b16cc0bab4461b91e6b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 2 20:52:06 2002 +0000

    Add aspect ratio support to Xft and fontconfig

 fontconfig/fontconfig.h | 3 ++-
 src/fcname.c            | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 8ec077f22b2f9fd693abfda7d405ac572594be99
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 2 19:51:36 2002 +0000

    Expression parsing in fonts.conf file mis-freed elements. Constant
    identity
        matrix was accidentally freed. Add ability to comare FTFace
        pattern
        elements (not that its all that useful)

 src/fccfg.c | 18 +++++++++++++++---
 src/fcxml.c |  5 +++--
 2 files changed, 18 insertions(+), 5 deletions(-)

commit be0948508ce4ebbb6e576b9dd31531efef6834e1
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 31 23:21:25 2002 +0000

    Add support for user-provided freetype faces to Xft

 fontconfig/fcfreetype.h |  8 +++++++-
 fontconfig/fcprivate.h  |  4 +++-
 fontconfig/fontconfig.h |  7 +++++--
 src/fccharset.c         |  5 +----
 src/fcfreetype.c        |  1 -
 src/fcint.h             |  3 ++-
 src/fcpat.c             | 29 ++++++++++++++++++++++++++++-
 7 files changed, 46 insertions(+), 11 deletions(-)

commit bff617fa560e9f0a1f79ffb4fff8e9ed6a81013e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 31 06:52:47 2002 +0000

    Fix Xft2 to build right library version on old systems with xmkmf. Fix
        fc-cache location for xmkmf out-of-tree build on old systems

 local.def | 2 ++
 1 file changed, 2 insertions(+)

commit fbb405f3b5f25353babee1e813eb86d53912503f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 31 06:38:43 2002 +0000

    Fix up support for building Xft1, Xrender and fontconfig out of
    the tree

 fc-list/Imakefile |  5 +++++
 local.def         | 14 ++++++++++++++
 2 files changed, 19 insertions(+)

commit 20ac65ab003c9b280e3fbd06215c5e3af16bea1f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 31 04:42:42 2002 +0000

    Change FcCharSet datastructure, add FcFontSort API

 fontconfig/fontconfig.h |   9 +-
 src/fccharset.c         | 772
 ++++++++++++++++++++++++++----------------------
 src/fcint.h             |  27 +-
 src/fcmatch.c           |  26 +-
 4 files changed, 451 insertions(+), 383 deletions(-)

commit bc9469baadc6b5f9a920a476e460113bab518208
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 29 22:07:33 2002 +0000

    Optimize after profiling. Fix FcStrCmp to return correct sign

 src/fccharset.c | 103 ++++++++++++++++++++++++++++++----------
 src/fcint.h     |   1 +
 src/fcmatch.c   | 143
 +++++++++++++++++++++++++++++++++++++++++---------------
 src/fcname.c    |   4 +-
 src/fcpat.c     |  13 +++---
 src/fcstr.c     |   6 +--
 6 files changed, 197 insertions(+), 73 deletions(-)

commit 1412a69926307b2736745737c7c66172ebc56724
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 29 08:21:33 2002 +0000

    Apply some obvious fixes to FcFontSetSort from Owen. Speed up
    FcCharSet
        primitives and FcFontSetSort

 fontconfig/fontconfig.h |   8 +-
 src/fccfg.c             |  10 +--
 src/fccharset.c         | 197
 +++++++++++++++++++++++++++++++++++++++++++++---
 src/fcint.h             |   3 +-
 src/fcmatch.c           |  23 ++++--
 5 files changed, 219 insertions(+), 22 deletions(-)

commit 78417a2c74f95a66e3738cf525f9d699e13c654a
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 28 03:50:23 2002 +0000

    Use explicit cd for non-gmake systems

 Makefile.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fcd247431f6251d430d20ceaaff6a39f6d87ec4c
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat May 25 13:52:37 2002 +0000

    $< in a non-implicit rule is a GNU-makeism. It's not supported by
    BSD make.

 Imakefile | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ed2547b8585652a4a6f71e2bc24148e26ef6d0c8
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 24 06:25:52 2002 +0000

    Clean up autoconf install to obey DESTDIR

 Makefile.in            | 67
 ++++++++++++++++++++++++++++++++++----------------
 fc-cache/Makefile.in   | 23 ++++++++++-------
 fc-list/Makefile.in    | 22 +++++++++++------
 fontconfig/Makefile.in | 24 +++++++++---------
 src/Makefile.in        | 48 +++++++++++++++++++++++++-----------
 5 files changed, 119 insertions(+), 65 deletions(-)

commit 36732012151a91527f3ad7ad05569f40a0ca3cd9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 24 05:20:02 2002 +0000

    Change charset enumeration functions to more sensible API

 fontconfig/fontconfig.h | 13 ++++++++++++-
 src/fccharset.c         | 46
 +++++++++++++++++++++++++++++++++-------------
 2 files changed, 45 insertions(+), 14 deletions(-)

commit c9f55ecb0672c98cb75b0b3b746dea515b27f7e6
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 24 05:19:30 2002 +0000

    A few autoconf build fixes

 Makefile.in          | 12 ++++++++----
 configure.in         |  4 ++--
 fontconfig-config.in | 10 +++++-----
 3 files changed, 15 insertions(+), 11 deletions(-)

commit 48db40f692a31c39a96961c8733bfeaad416a5c0
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 23 23:00:46 2002 +0000

    A few random fontconfig build fixes

 config/config-subst     | 12 +++++++-----
 fontconfig/fontconfig.h |  7 +++++--
 src/fcinit.c            |  8 +++++++-
 3 files changed, 19 insertions(+), 8 deletions(-)

commit 61bb4bad756c6c3da6bd8306e1c5cd2ec0b18415
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 23 17:09:32 2002 +0000

    Dont require freetype to build with fontconfig

 fontconfig.pc.in | 1 -
 1 file changed, 1 deletion(-)

commit 2eafe0904dfcd08e87d125ff6893cb4d4f5a4a95
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 23 17:06:46 2002 +0000

    Add pkgconfig control file and fontconfig-config script

 INSTALL              | 17 ++++++++--
 Imakefile            | 33 +++++++++++++++++-
 Makefile.in          | 18 ++++++++--
 README               | 13 ++++++++
 config/config-subst  |  8 +++++
 configure.in         | 18 ++++++----
 fontconfig-config.in | 94
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 fontconfig.pc.in     | 11 ++++++
 8 files changed, 199 insertions(+), 13 deletions(-)

commit 1c20b1cc0b7a27f29634f80a9d48cbed8aabc7a9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 23 16:05:16 2002 +0000

    Fonts.dtd had "blanks" instead of "blank"

 fonts.dtd | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 442678fbc4d2654f1cc4b5afcbb9dd646e9c9779
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 22 22:59:41 2002 +0000

    Missed a Makefile.in for fontconfig includes

 fontconfig/Makefile.in | 48
 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit 0ab36ca8f93f8f07ed81034caf453b79e2922122
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 22 04:37:07 2002 +0000

    Replace silly avl sort with qsort, add FcPatternEqual

 fontconfig/fontconfig.h |   8 +-
 src/Imakefile           |   6 +-
 src/Makefile.in         |   4 +-
 src/fcavl.c             | 419
 ------------------------------------------------
 src/fcavl.h             |  46 ------
 src/fcmatch.c           |  76 ++++-----
 src/fcpat.c             | 109 ++++++++++++-
 src/fcxml.c             |   9 +-
 8 files changed, 162 insertions(+), 515 deletions(-)

commit 446bb9c9e0a18d365de0578c6f0daf676e36f168
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 21 17:48:15 2002 +0000

    More autoconf cleanup for fontconfig

 Makefile.in          |  8 +++-----
 config.h.in          |  2 +-
 config/Makedefs.in   | 10 +++++++++-
 configure.in         | 55
 ++++++++++++++++++++++++----------------------------
 fc-cache/Makefile.in |  4 +++-
 fc-list/Makefile.in  |  4 +++-
 src/Imakefile        |  4 ++--
 src/Makefile.in      |  5 +----
 src/fcinit.c         |  4 ++--
 9 files changed, 49 insertions(+), 47 deletions(-)

commit fb9545b1ba81604405f730de8c39f40b3fdc13bd
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 21 17:08:42 2002 +0000

    Fix xmkmf build process for fontconfig

 Imakefile     |   2 +-
 Makefile.in   |  54 +++++++++
 acconfig.h    |   2 -
 config.h.in   | 144 +++++++++++++++++++++++
 configure.in  | 360
 +++++++++++++++++++++++++++++++++++++++++++---------------
 cvscompile.sh |  11 +-
 findfonts     |   8 +-
 fonts.conf.in |  77 ++++++-------
 fonts.dtd     |  13 ++-
 local.def     |  54 +++++++++
 setfontdirs   |   4 +-
 11 files changed, 581 insertions(+), 148 deletions(-)

commit 179c39959cc9c19004f8ca948623590e404c8c46
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 21 17:06:22 2002 +0000

    Fix autoconf build process for fontconfig

 config/Makedefs.in      |   68 +++
 config/config.guess     | 1391
 +++++++++++++++++++++++++++++++++++++++++++++++
 config/config.sub       | 1355
 +++++++++++++++++++++++++++++++++++++++++++++
 config/install.sh       |  240 ++++++++
 fc-cache/Imakefile      |    7 +-
 fc-cache/Makefile.in    |   46 ++
 fc-cache/fc-cache.c     |  161 ++++--
 fc-list/Makefile.in     |   46 ++
 fontconfig/fontconfig.h |   80 ++-
 src/Makefile.in         |  105 ++++
 src/fccache.c           |  164 ++++--
 src/fccfg.c             |  352 ++++++++----
 src/fcdir.c             |   84 ++-
 src/fcinit.c            |  109 +++-
 src/fcint.h             |   52 +-
 src/fclist.c            |    5 +-
 src/fcstr.c             |  228 +++++++-
 src/fcxml.c             |  215 +++++---
 18 files changed, 4377 insertions(+), 331 deletions(-)

commit 1ce2a1bbadc15147e35dbc4c43fae072b8c4805e
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun May 5 17:53:41 2002 +0000

    Don't run fc-cache on make install if DESTDIR is set. Instead;
    run it from
        Xinstall.sh after XFree86 is installed.

 fc-cache/Imakefile | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 28e413038db10e236abb1d6f82c7889d8e52d7a5
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed Apr 10 11:28:10 2002 +0000

    put fontconfig-def.cpp in the right place.

 fontconfig-def.cpp => src/fontconfig-def.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d82a034f9123558b300c956feec165c50ef7ada2
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Sun Apr 7 15:19:46 2002 +0000

    new preprocessor files. (#5215-#5218, Alexander Gottwald).

 fontconfig-def.cpp | 170
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 170 insertions(+)

commit d9db7b9e94f0aec127066e81b9e7dbbf05cd740f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 27 04:33:55 2002 +0000

    Fix FT_Get_Next_Char API to match official 2.0.9 released version

 src/fccharset.c | 26 ++++++++++++++++++--------
 1 file changed, 18 insertions(+), 8 deletions(-)

commit 8c7b2a9d83fbe23e9073a188c7b970f100a91562
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Mon Mar 4 21:15:28 2002 +0000

    Warning fixes

 src/fcatomic.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 216fac98e0785e787e32ff354241935a25723e4b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 3 18:39:05 2002 +0000

    Add match routine that returns list of fonts

 fontconfig/fontconfig.h |  14 ++
 src/fcavl.c             | 419
 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/fcavl.h             |  46 ++++++
 src/fcmatch.c           | 225 ++++++++++++++++++++++----
 4 files changed, 671 insertions(+), 33 deletions(-)

commit ee9061efe984a3c5b659449f8db57a03b6bf5d13
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 3 18:36:26 2002 +0000

    Eliminate duplicate definitions in fcint.h and fontconfig.h

 src/fcint.h | 6 ------
 1 file changed, 6 deletions(-)

commit 5faa099cd5fb8d9d9f868362233929ff36cd0ac8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 3 18:35:22 2002 +0000

    fontconfig: bail scanning directory on fatal error

 src/fcdir.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 17e16fa1108491fa625258bba12e71aaad8a34de
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 3 18:31:20 2002 +0000

    Eliminate compiler warnings

 src/fccharset.c | 1026
 +++++++++++++++++++++++++++----------------------------
 1 file changed, 512 insertions(+), 514 deletions(-)

commit a391da8f0f867b8f87b1912a91882b108d163e03
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 3 00:19:43 2002 +0000

    Add fcatomic.c

 src/Imakefile  |   4 +-
 src/fcatomic.c | 183
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/fccache.c  |   4 ++
 3 files changed, 189 insertions(+), 2 deletions(-)

commit 134f6011f347d1bc1b80a3cd435bb10b38d2932e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 1 22:06:30 2002 +0000

    Add new FcAtomic datatype for config file locking

 fontconfig/fontconfig.h | 30 +++++++++++++++++++++++++++++-
 src/Imakefile           | 12 ++++++------
 src/fccache.c           | 34 ++++++++++++++--------------------
 src/fcint.h             |  9 ++++++++-
 4 files changed, 57 insertions(+), 28 deletions(-)

commit d23a2a6dfa0ae81298a238899512c7d7c99c5430
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Fri Mar 1 17:52:03 2002 +0000

    Add missing clean rule

 Imakefile | 6 ++++++
 1 file changed, 6 insertions(+)

commit 9c8e07f19589ba944e7bfb31251228b41a02f787
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 1 01:00:54 2002 +0000

    Port Xft1 to fontconfig

 fontconfig/fontconfig.h |  8 +++++++-
 src/fccache.c           | 13 +++++++------
 src/fccfg.c             | 10 +++++-----
 src/fcdir.c             |  4 ++--
 4 files changed, 21 insertions(+), 14 deletions(-)

commit 80c053b725669c1e982cceedb87f04ebb9c6f1e9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 28 16:51:48 2002 +0000

    Add better error reporting when loading config file

 fc-list/fc-list.c       |  2 +-
 fontconfig/fontconfig.h | 16 +++++++++++++++-
 src/fclist.c            | 36 ++++++++++++++++++++++++++++++------
 src/fcmatch.c           | 38 +++++++++++++++++++++++++++++++-------
 src/fcxml.c             | 12 +++++++++++-
 5 files changed, 88 insertions(+), 16 deletions(-)

commit c4bd0638c5f14329e71be8f170c30d376fc76972
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Tue Feb 26 05:10:30 2002 +0000

    Warning fixes

 fc-cache/fc-cache.c | 13 ++++++++++++-
 fc-list/fc-list.c   | 15 +++++++++++++--
 2 files changed, 25 insertions(+), 3 deletions(-)

commit c5350655bef34cc08739bed324a482473b2a01b8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Feb 24 01:23:35 2002 +0000

    Check font edit value lists for empty

 src/fccfg.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bbbaac369186f6d2c21d28a091e4a8b6259f8e8a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 22 18:54:07 2002 +0000

    fontconfig: some config file parsing mistakes

 src/fcfreetype.c | 2 +-
 src/fcint.h      | 9 ---------
 src/fcxml.c      | 8 ++++++--
 3 files changed, 7 insertions(+), 12 deletions(-)

commit a398554a6d6467956c1c3471e912fb4e969835eb
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 20 01:01:21 2002 +0000

    Remove fcxml.h include file as it cant work anymore anyhow

 fontconfig/Imakefile |  2 +-
 fontconfig/fcxml.h   | 37 -------------------------------------
 2 files changed, 1 insertion(+), 38 deletions(-)

commit 24c90386bbdda9800d5a35c4dbff08682186907f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 20 00:32:30 2002 +0000

    dont complain about missing optional included font config files

 src/fcxml.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6e9fc5ded4a36fb3e9e31b96f837b2e54f1cd77c
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 19 08:33:23 2002 +0000

    Automatically initialize the fontconfig library

 src/fccfg.c  | 15 +++++++++------
 src/fcinit.c |  4 ++--
 src/fcint.h  |  4 +++-
 3 files changed, 14 insertions(+), 9 deletions(-)

commit aae6f7d48744a25899cac28d47458f394defa02a
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 19 07:50:44 2002 +0000

    Eliminate const in FcPatternGetString; too hard. Add FcCharSetCoverage
    to
        enumarate Unicode coverage efficiently

 fontconfig/fontconfig.h |  7 +++++--
 src/fccache.c           |  4 ++--
 src/fccharset.c         | 23 ++++++++++++++++++++++-
 src/fcpat.c             |  6 +++---
 4 files changed, 32 insertions(+), 8 deletions(-)

commit c2e7c611cbef33e9f93fbb110cd8df61abec67d7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Feb 18 22:29:28 2002 +0000

    Switch fontconfig from libxml2 to expat

 src/Imakefile   |    3 +-
 src/fccharset.c |   12 +-
 src/fcdbg.c     |   20 +-
 src/fcint.h     |   34 +-
 src/fcname.c    |   98 +---
 src/fcstr.c     |   92 ++-
 src/fcxml.c     | 1764
 ++++++++++++++++++++++++++++++++++++-------------------
 7 files changed, 1326 insertions(+), 697 deletions(-)

commit 2eb26602ffcfb3c3489849210502c4e00b370dfd
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 15 23:45:33 2002 +0000

    fontconfig fc-cache program needs to be executed with correct
    environment
        on install

 fc-cache/Imakefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 65018b4a468c3175790dc27dfe37987151ad97d5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 15 07:36:14 2002 +0000

    Update to Xft version 2

 fc-cache/fc-cache.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit ccb3e93b2754542d08dcd2572402560d76a8ed91
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 15 06:01:28 2002 +0000

    fontconfig library: build fixes and compiler warning fixes

 fc-cache/Imakefile      |   2 +-
 fc-list/Imakefile       |   2 +-
 fc-list/fc-list.c       |   5 +-
 fontconfig/fcfreetype.h |   1 +
 fontconfig/fcprivate.h  |   2 +-
 fontconfig/fcxml.h      |   2 +-
 fontconfig/fontconfig.h |  61 ++++++++---------
 src/fccache.c           | 176
 ++++++++++++++++++++++++++++++------------------
 src/fccfg.c             | 126 +++++++++++++++++-----------------
 src/fccharset.c         |  23 ++++---
 src/fcdir.c             |  58 ++++++++--------
 src/fcfreetype.c        | 106 ++++++++++++++---------------
 src/fcinit.c            |   2 +-
 src/fcint.h             |  74 ++++++++------------
 src/fcmatch.c           |   7 +-
 src/fcname.c            |  92 ++++++++++++-------------
 src/fcpat.c             |  10 +--
 src/fcstr.c             |  32 ++++-----
 src/fcxml.c             | 135 +++++++++++++++++++------------------
 19 files changed, 473 insertions(+), 443 deletions(-)

commit 3be03bed3955e91882b65315fdf8a68e4b453431
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 15 00:49:44 2002 +0000

    Update fontconfig and libxml2 to get them working with in-tree build
        process

 fc-cache/Imakefile | 12 +++---------
 fc-list/Imakefile  | 13 +++----------
 src/Imakefile      | 55
 ++++++------------------------------------------------
 3 files changed, 12 insertions(+), 68 deletions(-)

commit 82e6d72059aaa4beccb2ec39706ef86e99e479de
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 14 23:34:13 2002 +0000

    Add new font configuration library which forms the basis of the
    new version
        of Xft

commit 24330d27f88bbf387d92128d2c21e005f2563e93
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 14 23:34:13 2002 +0000

    Initial revision

 AUTHORS                 |    1 +
 COPYING                 |   22 +
 ChangeLog               |    0
 INSTALL                 |    3 +
 Imakefile               |   25 +
 NEWS                    |    0
 README                  |    2 +
 acconfig.h              |    2 +
 configure.in            |  202 +++++++
 cvscompile.sh           |    6 +
 doc/fontconfig.tex      |   55 ++
 fc-cache/Imakefile      |   19 +
 fc-cache/fc-cache.c     |  145 +++++
 fc-cache/fc-cache.man   |   45 ++
 fc-list/Imakefile       |   17 +
 fc-list/fc-list.c       |  128 ++++
 fc-list/fc-list.man     |   36 ++
 findfonts               |    8 +
 fontconfig/Imakefile    |    8 +
 fontconfig/fcfreetype.h |   34 ++
 fontconfig/fcprivate.h  |  117 ++++
 fontconfig/fcxml.h      |   37 ++
 fontconfig/fontconfig.h |  551 +++++++++++++++++
 fonts.conf.in           |  191 ++++++
 fonts.dtd               |  165 +++++
 setfontdirs             |   19 +
 src/Imakefile           |   90 +++
 src/fcblanks.c          |   84 +++
 src/fccache.c           |  592 ++++++++++++++++++
 src/fccfg.c             | 1369 ++++++++++++++++++++++++++++++++++++++++++
 src/fccharset.c         | 1521
 +++++++++++++++++++++++++++++++++++++++++++++++
 src/fcdbg.c             |  272 +++++++++
 src/fcdefault.c         |   87 +++
 src/fcdir.c             |  178 ++++++
 src/fcfreetype.c        |  236 ++++++++
 src/fcfs.c              |   82 +++
 src/fcinit.c            |  174 ++++++
 src/fcint.h             |  480 +++++++++++++++
 src/fclist.c            |  442 ++++++++++++++
 src/fcmatch.c           |  347 +++++++++++
 src/fcmatrix.c          |  112 ++++
 src/fcname.c            |  621 +++++++++++++++++++
 src/fcpat.c             |  491 +++++++++++++++
 src/fcstr.c             |  188 ++++++
 src/fcxml.c             | 1032 ++++++++++++++++++++++++++++++++
 src/fontconfig.man      | 1113 ++++++++++++++++++++++++++++++++++
 46 files changed, 11349 insertions(+)
